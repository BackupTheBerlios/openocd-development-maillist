<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] ETM/ETB support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ETM/ETB%20support&In-Reply-To=%3C200706141215.51614.Dominic.Rath%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000177.html">
   <LINK REL="Next"  HREF="000180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] ETM/ETB support</H1>
    <B>Dominic Rath</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ETM/ETB%20support&In-Reply-To=%3C200706141215.51614.Dominic.Rath%40gmx.de%3E"
       TITLE="[Openocd-development] ETM/ETB support">Dominic.Rath at gmx.de
       </A><BR>
    <I>Thu Jun 14 12:15:51 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000177.html">[Openocd-development] Automake patch
</A></li>
        <LI>Next message: <A HREF="000180.html">[Openocd-development] ETM/ETB support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#178">[ date ]</a>
              <a href="thread.html#178">[ thread ]</a>
              <a href="subject.html#178">[ subject ]</a>
              <a href="author.html#178">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi list (and Vincent in particular)

I've just committed my current working tree to the repository (this time using 
another clean checkout to verify everything is included ;)).

I've tested the ETM support using several different trace captures (you can 
store a trace for later analysis using &quot;etm dump &lt;filename&gt;&quot; and reload it 
using &quot;etm load &lt;filename&gt;&quot;), including traces where the branch address is 
offset with an APO, an exception, and data traces tracing addresses and data, 
of single and multiple load/stores.

What's left untested are the other port modes:
- muxed/demuxed
- 4-bit, 8-bit ports

The full/halfrate clocking shouldn't matter, as this only affects the ETM port 
clocking.

My approach uses the image support to access the target image, so you have to 
specify an image using &quot;etm image &lt;filename&gt; [offset] [type]&quot;. The reason 
behind this idea is to be able to non-intrusively trace the execution of a 
running program - relying on the memory to be accessible could be a problem 
in some situations. What's left to be implemented is the memory-pseudoimage, 
which I'll add in the next few days.

The ETM trace control resources still need to be configured manually, but 
tracing can be conveniently controlled using the &quot;etm start&quot;, &quot;etm 
status&quot;, &quot;etm stop&quot; and &quot;etm analyze&quot; commands.

Best regards,

Dominic

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000177.html">[Openocd-development] Automake patch
</A></li>
	<LI>Next message: <A HREF="000180.html">[Openocd-development] ETM/ETB support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#178">[ date ]</a>
              <a href="thread.html#178">[ thread ]</a>
              <a href="subject.html#178">[ subject ]</a>
              <a href="author.html#178">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
