<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] fix (sometimes) non-working Cortex-M3	breakpoints
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20fix%20%28sometimes%29%20non-working%20Cortex-M3%0A%09breakpoints&In-Reply-To=%3C71d49d910812120825g20a344fcx63852b57509b1a1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004051.html">
   <LINK REL="Next"  HREF="004020.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] fix (sometimes) non-working Cortex-M3	breakpoints</H1>
    <B>Igor Skochinsky</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20fix%20%28sometimes%29%20non-working%20Cortex-M3%0A%09breakpoints&In-Reply-To=%3C71d49d910812120825g20a344fcx63852b57509b1a1%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH] fix (sometimes) non-working Cortex-M3	breakpoints">skochinsky at mail.ru
       </A><BR>
    <I>Fri Dec 12 17:25:20 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004051.html">[Openocd-development] [PATCH]gdb pipes
</A></li>
        <LI>Next message: <A HREF="004020.html">[Openocd-development] [PATCH] fix (sometimes) non-working	Cortex-M3breakpoints
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4017">[ date ]</a>
              <a href="thread.html#4017">[ thread ]</a>
              <a href="subject.html#4017">[ subject ]</a>
              <a href="author.html#4017">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello All,

  This is my first patch, so please let me know if I did anything wrong.
  The problem: for Cortex-M3 targets, the FPB unit (Flash Patch and
Breakpoint) was enabled only on reset event. If I connected to already
running code after it's been reset and tried to set some breakpoints,
OpenOCD would write into comparator registers, but the FPB would stay
disabled and breakpoints didn't work. So I added a check in
cortex_m3_set_breakpoint() which enables FPB if necessary.

-- 
WBR, Igor
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: patch1.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20081212/03f0a11c/attachment.txt">https://lists.berlios.de/pipermail/openocd-development/attachments/20081212/03f0a11c/attachment.txt</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004051.html">[Openocd-development] [PATCH]gdb pipes
</A></li>
	<LI>Next message: <A HREF="004020.html">[Openocd-development] [PATCH] fix (sometimes) non-working	Cortex-M3breakpoints
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4017">[ date ]</a>
              <a href="thread.html#4017">[ thread ]</a>
              <a href="subject.html#4017">[ subject ]</a>
              <a href="author.html#4017">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
