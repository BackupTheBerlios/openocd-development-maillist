<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] RLink compiler warnings
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RLink%20compiler%20warnings&In-Reply-To=%3C20081225141418.GD14266%40gumby.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004204.html">
   <LINK REL="Next"  HREF="004205.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] RLink compiler warnings</H1>
    <B>lou.openocd012 at fixit.nospammail.net</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RLink%20compiler%20warnings&In-Reply-To=%3C20081225141418.GD14266%40gumby.local%3E"
       TITLE="[Openocd-development] RLink compiler warnings">lou.openocd012 at fixit.nospammail.net
       </A><BR>
    <I>Thu Dec 25 15:14:18 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="004204.html">[Openocd-development] RLink compiler warnings
</A></li>
        <LI>Next message: <A HREF="004205.html">[Openocd-development] Thoughts on JTAG code duplication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4218">[ date ]</a>
              <a href="thread.html#4218">[ thread ]</a>
              <a href="subject.html#4218">[ subject ]</a>
              <a href="author.html#4218">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Dec 24, 2008 at 08:57:11PM -0800, Rick Altherr wrote:
&gt;<i> Could one of you send a patch that fixes these compiler warnings?  I  
</I>&gt;<i> made a few attempts at it but wasn't sure if changing the usb buffer to 
</I>&gt;<i> be a char * was appropriate, etc.
</I>&gt;<i>
</I>&gt;<i> gcc -DHAVE_CONFIG_H -I. -I../.. -I../../src -I../../src/helper   - 
</I>&gt;<i> I../../src/target     -gstabs+ -I/opt/local/include -MT rlink.o -MD -MP 
</I>&gt;<i> -MF .deps/rlink.Tpo -c -o rlink.o `test -f 'rlink/rlink.c' || echo  
</I>&gt;<i> './'`rlink/rlink.c
</I>&gt;<i> rlink/rlink.c: In function &#8216;ep1_generic_commandl&#8217;:
</I>&gt;<i> rlink/rlink.c:137: warning: pointer targets in passing argument 3 of  
</I>&gt;<i> &#8216;usb_bulk_write&#8217; differ in signedness
</I>...

The odd thing is that I get no warnings compiling it here.  None.  Or
they would have been addressed.  I've tried adding -Wall to the Makefile
and can get the same warnings that way.  I'm guessing either your usb.h
is different somehow, or your compiler is more vocal about warnings by
default than gcc 4.3.2 is.  Perhaps -Wall should be added to the build
system.

And I do see warnings in _other_ parts of the build.

I have attached a patch.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rlink.diff
Type: text/x-diff
Size: 2211 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20081225/85e6b0e9/attachment.diff">https://lists.berlios.de/pipermail/openocd-development/attachments/20081225/85e6b0e9/attachment.diff</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004204.html">[Openocd-development] RLink compiler warnings
</A></li>
	<LI>Next message: <A HREF="004205.html">[Openocd-development] Thoughts on JTAG code duplication
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4218">[ date ]</a>
              <a href="thread.html#4218">[ thread ]</a>
              <a href="subject.html#4218">[ subject ]</a>
              <a href="author.html#4218">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
