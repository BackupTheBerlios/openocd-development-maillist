<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] PATCH:fix SIGSEGV
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20PATCH%3Afix%20SIGSEGV&In-Reply-To=%3C4937957E.6040704%40discworld.dascon.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003879.html">
   <LINK REL="Next"  HREF="003868.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] PATCH:fix SIGSEGV</H1>
    <B>Michael Schwingen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20PATCH%3Afix%20SIGSEGV&In-Reply-To=%3C4937957E.6040704%40discworld.dascon.de%3E"
       TITLE="[Openocd-development] PATCH:fix SIGSEGV">rincewind at discworld.dascon.de
       </A><BR>
    <I>Thu Dec  4 09:31:58 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003879.html">[Openocd-development] PATCH:fix SIGSEGV
</A></li>
        <LI>Next message: <A HREF="003868.html">[Openocd-development] PATCH:fix SIGSEGV
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3916">[ date ]</a>
              <a href="thread.html#3916">[ thread ]</a>
              <a href="subject.html#3916">[ subject ]</a>
              <a href="author.html#3916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Duane Ellis wrote:
&gt;<i> micheal&gt; [c requires aligned pointers]
</I>&gt;<i>
</I>&gt;<i> No, The C standard states it is implementation defined, i don't have a
</I>&gt;<i> copy handy to quote chapter &amp; verse.
</I>I can't find it either. What I found was (in C99):


6.5.3.4:
The implementation of the alloc function should ensure that its return
value is aligned suitably for
conversion to a pointer to double.

6.7.2.1:
Each non-bit-field member of a structure or union object is aligned in
an implementationdefined
manner *appropriate to its type*.

7.20.3:
The order and contiguity of storage allocated by successive calls to the
calloc, malloc,
and realloc functions is unspecified. The pointer returned if the allocation
succeeds is suitably aligned so that it may be assigned to a pointer to
any type of object
and then used to access such an object or an array of such objects in
the space allocated
(until the space is explicitly deallocated).

Regarding structures: since it is allowed to take a pointer to a member
in a struct, and use that like a normal pointer to that type, the
element in the struct needs to be aligned, and thus the whole struct
needs to be suitably aligned.

Now even if the requirement to have pointers aligned or not is
implementation-defined, there *are* plattforms where pointers need to be
aligned, and that means that portable code needs to cope with that.

cu
Michael


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003879.html">[Openocd-development] PATCH:fix SIGSEGV
</A></li>
	<LI>Next message: <A HREF="003868.html">[Openocd-development] PATCH:fix SIGSEGV
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3916">[ date ]</a>
              <a href="thread.html#3916">[ thread ]</a>
              <a href="subject.html#3916">[ subject ]</a>
              <a href="author.html#3916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
