<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Cross compiler for ARM7 bare metal
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Cross%20compiler%20for%20ARM7%20bare%20metal&In-Reply-To=%3C9e4733910910082132m470a5001v7d8e82e19b89c01b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011114.html">
   <LINK REL="Next"  HREF="011094.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Cross compiler for ARM7 bare metal</H1>
    <B>Jon Smirl</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Cross%20compiler%20for%20ARM7%20bare%20metal&In-Reply-To=%3C9e4733910910082132m470a5001v7d8e82e19b89c01b%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Cross compiler for ARM7 bare metal">jonsmirl at gmail.com
       </A><BR>
    <I>Fri Oct  9 06:32:51 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011114.html">[Openocd-development] Cross compiler for ARM7 bare metal
</A></li>
        <LI>Next message: <A HREF="011094.html">[Openocd-development] Cross compiler for ARM7 bare metal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11104">[ date ]</a>
              <a href="thread.html#11104">[ thread ]</a>
              <a href="subject.html#11104">[ subject ]</a>
              <a href="author.html#11104">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Oct 8, 2009 at 7:02 PM, David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt; wrote:
&gt;<i> On Thursday 08 October 2009, Michel Catudal wrote:
</I>&gt;&gt;<i> An arm-linux-gcc is only for Linux based system, not bare metal stuff.
</I>&gt;<i>
</I>&gt;<i> Depends what you mean by &quot;bare metal&quot;.
</I>&gt;<i>
</I>&gt;<i> I use &quot;arm-none-linux-gnueabi-gcc&quot; all the time to compile
</I>&gt;<i> Linux kernels; and sometimes for U-Boot, or stuff running
</I>&gt;<i> on Cortex-M3. &#160;By any reasonable definition all of that
</I>&gt;<i> counts as &quot;bare metal&quot;.
</I>
I'm building Contiki on the MC1322x. Contiki has things like exit()
and snprintf() in it. Use the ARM9 compiler in OpenEmbedded those
routines link to glibc and it brings in 900KB of code. So I have a
working compiler, I just don't have a reasonable libc.

&gt;<i>
</I>&gt;<i> So far as I can tell, all those compilers will work fine
</I>&gt;<i> in that mode: &#160;tell it to ignore all system libraries, not
</I>&gt;<i> to use dynamic linking, and get friendly with linker config
</I>&gt;<i> scripts ... and there will be no problem sticking the reset
</I>&gt;<i> vectors &lt;here&gt;, code &lt;there&gt; in NOR flash (or SRAM), etc.
</I>&gt;<i> You'd have to work hard to get that to break, as I understand
</I>&gt;<i> things.
</I>&gt;<i>
</I>&gt;<i> Now, the *libc* stuff is a more confusing story. &#160;Bare
</I>&gt;<i> metal has no file system, so fopen() raises conceptual
</I>&gt;<i> problems. &#160;Doesn't even have stdout, so printf() has
</I>&gt;<i> the same kind of problems. &#160;No network stack; socket()
</I>&gt;<i> is not gonna work either. &#160;But stuff like strcpy() can
</I>&gt;<i> work, vsnprintf(), and given some help you can even have
</I>&gt;<i> malloc() and free(). &#160;That's all system library stuff
</I>&gt;<i> though.
</I>
libc is the problem.


&gt;<i>
</I>&gt;<i> - Dave
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Openocd-development mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
</I>&gt;<i>
</I>


-- 
Jon Smirl
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">jonsmirl at gmail.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011114.html">[Openocd-development] Cross compiler for ARM7 bare metal
</A></li>
	<LI>Next message: <A HREF="011094.html">[Openocd-development] Cross compiler for ARM7 bare metal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11104">[ date ]</a>
              <a href="thread.html#11104">[ thread ]</a>
              <a href="subject.html#11104">[ subject ]</a>
              <a href="author.html#11104">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
