<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] cannot halt CPU
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20cannot%20halt%20CPU&In-Reply-To=%3Cefc9214f0910100545w3907bfb4pa92572de21ee9aca%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010939.html">
   <LINK REL="Next"  HREF="010936.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] cannot halt CPU</H1>
    <B>jie zeng</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20cannot%20halt%20CPU&In-Reply-To=%3Cefc9214f0910100545w3907bfb4pa92572de21ee9aca%40mail.gmail.com%3E"
       TITLE="[Openocd-development] cannot halt CPU">zealcook at gmail.com
       </A><BR>
    <I>Sat Oct 10 14:45:36 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010939.html">[Openocd-development] cannot halt CPU
</A></li>
        <LI>Next message: <A HREF="010936.html">[Openocd-development] srst gates trst patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11127">[ date ]</a>
              <a href="thread.html#11127">[ thread ]</a>
              <a href="subject.html#11127">[ subject ]</a>
              <a href="author.html#11127">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 10/3/09, David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt; wrote:

&gt;<i> You would need to type &quot;reg debug_ctrl&quot; to check;
</I>&gt;<i> it won't read that otherwise
</I>&gt;<i>
</I>&gt;<i> Another thing to check:  &quot;reset_config srst_gates_jtag&quot; in
</I>&gt;<i> your setup script.  A default was changed and I suspect it
</I>&gt;<i> ought to go back to how it was ...
</I>&gt;<i>
</I>&gt;<i>
</I>
Thanks david. We fixed the issue but not sure the reason yet.

Just changed &quot;reset_config&quot; line from (my openocd version is svn-1988)
reset_config trst_and_srst srst_pulls_trst
to
reset_config trst_and_srst

and then type `reset halt' at the telnet window.
It shows CPU halted.

After that we burn the bootloader and it works again.
Now even we use the older config files, it can be halted normally.

We suspect that maybe some broken code(the burning procedure was
interruptted) on the flash that the cpu execute it and it cannot be
stopped from out of world.

Regards

--
zeal

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010939.html">[Openocd-development] cannot halt CPU
</A></li>
	<LI>Next message: <A HREF="010936.html">[Openocd-development] srst gates trst patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11127">[ date ]</a>
              <a href="thread.html#11127">[ thread ]</a>
              <a href="subject.html#11127">[ subject ]</a>
              <a href="author.html#11127">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
