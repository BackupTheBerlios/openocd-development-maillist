<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] USB bulk write failures when using	FT2232H dongle
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20USB%20bulk%20write%20failures%20when%20using%0A%09FT2232H%20dongle&In-Reply-To=%3C200910271327.11877.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011713.html">
   <LINK REL="Next"  HREF="011733.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] USB bulk write failures when using	FT2232H dongle</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20USB%20bulk%20write%20failures%20when%20using%0A%09FT2232H%20dongle&In-Reply-To=%3C200910271327.11877.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] USB bulk write failures when using	FT2232H dongle">david-b at pacbell.net
       </A><BR>
    <I>Tue Oct 27 21:27:11 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011713.html">[Openocd-development] USB bulk write failures when using FT2232H	dongle
</A></li>
        <LI>Next message: <A HREF="011733.html">[Openocd-development] USB bulk write failures when using	FT2232H dongle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11717">[ date ]</a>
              <a href="thread.html#11717">[ thread ]</a>
              <a href="subject.html#11717">[ subject ]</a>
              <a href="author.html#11717">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 27 October 2009, Dimitar Dimitrov wrote:
&gt;<i> I'm trying to debug SAM9-L9260 board /AT91SAM9260 chip/ using
</I>&gt;<i> the latest GIT openocd checkout, FT2232H-based dongle and
</I>&gt;<i> libftdi-0.16. I'm getting the following error when issuing &quot;reset init&quot;:  
</I>&gt;<i> 
</I>&gt;<i> Error: 228 7449 ft2232.c:419 ft2232_read(): couldn't read the
</I>&gt;<i>		requested number of bytes from FT2232 device (0 &lt; 6) 
</I>&gt;<i> 
</I>&gt;<i> After increasing the FT2232 timeouts (patch attached) the
</I>&gt;<i> &quot;reset init&quot; command completed successfully. 
</I>
Those timeouts are a bit odd; they look more like retry
counts (but I'd have to learn more about libftdi to be
sure of that).

Are you using this highspeed-capable FT2232H at high speed?
If so, that suggests an experiment:  run it at full speed
instead.  On Linux you could just &quot;rmmod ehci-hcd&quot;.  On
any OS, you could just access it through a full speed hub.

If that matters, the timing logic is probably goofed up by
the performance differences in the low level driver.

Another possibility is that the FT2232H support isn't quite
bugless yet...

- Dave



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011713.html">[Openocd-development] USB bulk write failures when using FT2232H	dongle
</A></li>
	<LI>Next message: <A HREF="011733.html">[Openocd-development] USB bulk write failures when using	FT2232H dongle
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11717">[ date ]</a>
              <a href="thread.html#11717">[ thread ]</a>
              <a href="subject.html#11717">[ subject ]</a>
              <a href="author.html#11717">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
