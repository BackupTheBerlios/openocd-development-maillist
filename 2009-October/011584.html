<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] first round of mcr mrc interface support	completed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20first%20round%20of%20mcr%20mrc%20interface%20support%0A%09completed&In-Reply-To=%3Cc09652430910250931hed6f6ffv93cb17db759579c6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011581.html">
   <LINK REL="Next"  HREF="011586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] first round of mcr mrc interface support	completed</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20first%20round%20of%20mcr%20mrc%20interface%20support%0A%09completed&In-Reply-To=%3Cc09652430910250931hed6f6ffv93cb17db759579c6%40mail.gmail.com%3E"
       TITLE="[Openocd-development] first round of mcr mrc interface support	completed">oyvind.harboe at zylin.com
       </A><BR>
    <I>Sun Oct 25 17:31:22 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011581.html">[Openocd-development] first round of mcr mrc interface support completed
</A></li>
        <LI>Next message: <A HREF="011586.html">[Openocd-development] first round of mcr mrc interface support completed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11584">[ date ]</a>
              <a href="thread.html#11584">[ thread ]</a>
              <a href="subject.html#11584">[ subject ]</a>
              <a href="author.html#11584">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Oct 25, 2009 at 4:11 PM, Zach Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">zw at superlucidity.net</A>&gt; wrote:
&gt;<i> On Sun, 2009-10-25 at 12:31 +0100, &#216;yvind Harboe wrote:
</I>&gt;&gt;<i> You make excellent general points in your post and I agree
</I>&gt;&gt;<i> to what you are saying, however here I'm discussing mrc/mcr
</I>&gt;&gt;<i> specifically and how to proceed with that one.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Did you read up on mrc/mcr in targets and consider
</I>&gt;&gt;<i> the current patches &amp; changes in detail?
</I>&gt;<i>
</I>&gt;<i> Am I wrong in my assertion that these commands are ARM-specific and do
</I>&gt;<i> not belong in target.h? &#160;That seems like one reasonable objection for
</I>&gt;<i> holding off with integrating this series.
</I>
Your assumption is correct, but it is unreasonable to hold of all
work until the interface problem can be tackled. It's a completely
separate problem and once solved, the mrc/mcr stuff can trivially
take advantage of any scheme worth it's salt.

&gt;<i>&#160;I think it is preferable to
</I>&gt;<i> identify and implement a suitable architectural remedy first.
</I>&gt;<i> The same goes for MMUs and phsy/virt callbacks, to a lesser extent.
</I>
Whenever a solution to the more general interface problem appears,
then I would love to use it. The mrc/mcr stuff isn't trying to address it.

&gt;<i> Presently, my gut tells me these changes have planted trees in an
</I>&gt;<i> unhealthy part of the forest. &#160;We should be clearing the deadwood and
</I>&gt;<i> restoring balance to our ecosystem, after getting a bird's eye view.
</I>&gt;<i> Concretely, I would like us to consider prefacing this kind of
</I>&gt;<i> development with updates to the &quot;target architecture&quot; section of the
</I>&gt;<i> developer manual, rather than discussing it on the mailing list.
</I>&gt;<i> Proposals via patches, updated just like a patch series.
</I>
Nobody has posted anything of substance about working on
the interface problem. So far we've identified it and have
a bit of understanding of it on the list.

I'd love to see this cleaned up...

Am I correct in assuming that you will not be diving into
the mrc/mcr issue speficially and that you are addressing
only the more general problem of how to handle branches &amp;
the general interface/code cleanup problems?

Specifically for the mrc/mcr problem do you believe it
would be realistic to develop it in a separate repository
and still see testing?

The mrc/mcr code touches none of the existing commands/code,
and it is not yet documented. The chances that 0.3 users will
know about it or care are slim indeed.

I don't agree with you in general and I'm working on my
branch + multiple repository skills, except that I'm concerned
that we're too small to spread out testers across several
repositories.

What to do with mrc/mcr speficially?

Since it's completely parallel to existing commands I don't
think 0.3 users would become aware of these work-in-progress
commands. I seriously doubt that any normal user would be
able to tell the difference whether the wip code is there or not.

My plan was:

- commit the remaining patches. I don't think it matters one
way or the other.
- get arm926ejs tested &amp; retire cp15 commands, possibly adding
small tcl proc's to demonstrate syntax/provide alternate interface
- get the rest of the old cp15 commands similarly retired
- hopefully along the way someone will pitch in w/the remaining
targets or I'll find the courage to attempt e.g. xscale... Also
input from Magnus Lundin was great as it can point to perhaps
better naming of commands and such, which really are trivial
code changes that make documentation better and improves
ease of use.

-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011581.html">[Openocd-development] first round of mcr mrc interface support completed
</A></li>
	<LI>Next message: <A HREF="011586.html">[Openocd-development] first round of mcr mrc interface support completed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11584">[ date ]</a>
              <a href="thread.html#11584">[ thread ]</a>
              <a href="subject.html#11584">[ subject ]</a>
              <a href="author.html#11584">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
