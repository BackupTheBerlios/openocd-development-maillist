<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] A little Git repo cleanup
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20A%20little%20Git%20repo%20cleanup&In-Reply-To=%3C200910150949.07059.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011253.html">
   <LINK REL="Next"  HREF="011261.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] A little Git repo cleanup</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20A%20little%20Git%20repo%20cleanup&In-Reply-To=%3C200910150949.07059.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] A little Git repo cleanup">david-b at pacbell.net
       </A><BR>
    <I>Thu Oct 15 18:49:06 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011253.html">[Openocd-development] A little Git repo cleanup
</A></li>
        <LI>Next message: <A HREF="011261.html">[Openocd-development] A little Git repo cleanup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11258">[ date ]</a>
              <a href="thread.html#11258">[ thread ]</a>
              <a href="subject.html#11258">[ subject ]</a>
              <a href="author.html#11258">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 15 October 2009, Austin, Alex wrote:
&gt;<i> I just did a clone of the git repository and noticed how long it took
</I>&gt;<i> to clone one of the many objects. After a little sleuthing, I've determined that: 
</I>&gt;<i> 2869bc4... Adds a few small files
</I>&gt;<i> 2f37d16... Adds several large files.
</I>&gt;<i> af3b53a... Adds more large files. It immediately succeeds the previous
</I>&gt;<i> 1ef7ccc... Removes all files added by previous three commits and nothing else
</I>
And &quot;git whatchanged -- zy1000&quot; is the quick way to show them.

Briefly:  just over a year ago a bunch of binary snapshots got checked
into the trunk rather than into the zy1000 branch, then promptly removed.
And thus rather a lot of undesirable stuff is getting pulled in.

I thought all those snapshots were just in that branch, but that seems
not to be the story.

 
&gt;<i> Removing those four commits brings the repo from 99MB to 5MB.
</I>
In my experiments, it seemed to save about 100 MBytes.  I'm not sure
how oure experiments differed.


&gt;<i> While doing 
</I>&gt;<i> so would destroy history that others' use, it would be a great boon to
</I>&gt;<i> those who are cloning it for the first time, and would not be difficult
</I>&gt;<i> for the rest of us to synchronize with.   
</I>&gt;<i> 
</I>&gt;<i> Any takers?
</I>
Looks like a .git/info/grafts file on the server might help, near
term.  But longer term I think it might be best to rebase to have
a tree without those commits.

Now, rebasing like that is something to avoid against public trees.
It causes trouble in anyone actively developing against private
branches against that tree.  Basically, a year's worth of patches
will all git new hashes; so any work using the previous hashes gets
disrupted.  Simplest approach is for everyone to pull new trees.

But without it, we'll carry that stuff around forver ... and this
tree is already slightly diverged from SVN (having dropped the
various branches).  So I'd kind of lean towards having a &quot;rebase&quot;
flag day, sooner rather than later.

Comments?





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011253.html">[Openocd-development] A little Git repo cleanup
</A></li>
	<LI>Next message: <A HREF="011261.html">[Openocd-development] A little Git repo cleanup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11258">[ date ]</a>
              <a href="thread.html#11258">[ thread ]</a>
              <a href="subject.html#11258">[ subject ]</a>
              <a href="author.html#11258">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
