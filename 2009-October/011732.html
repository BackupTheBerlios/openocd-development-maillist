<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] removing exports and forward decls
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20removing%20exports%20and%20forward%20decls&In-Reply-To=%3C200910281118.08861.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011731.html">
   <LINK REL="Next"  HREF="011736.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] removing exports and forward decls</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20removing%20exports%20and%20forward%20decls&In-Reply-To=%3C200910281118.08861.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] removing exports and forward decls">david-b at pacbell.net
       </A><BR>
    <I>Wed Oct 28 19:18:08 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011731.html">[Openocd-development] RE :  stack corruption loading IHex
</A></li>
        <LI>Next message: <A HREF="011736.html">[Openocd-development] removing exports and forward decls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11732">[ date ]</a>
              <a href="thread.html#11732">[ thread ]</a>
              <a href="subject.html#11732">[ subject ]</a>
              <a href="author.html#11732">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>FYI, I've committed some patches removing needless

 - function exports, when nothing outside the file
   uses those functions; and

 - forward declarations, sometimes reordering code

The affected files were Cortex-M3 and ARM926.

Not marking code (or data) static is sloppy, and hides
true interface boundaries.  Plus, it prevents compilers
from optimizing some things, hides stuff that's really,
and makes code needlessly hard to understand (because
of that interface boundary issue).  Heck, it even makes
linking be more expensive (more symbols to crunch).

And forward declarations should only really be used
when they're unavoidable ... they clutter the code.

Let me know if you really want to see such patches
come by on the mailing list, and I'll do that too;
but my preference is to reduce the noise involved
with such *pure cleanup* patches.  Changes affecting
code flow are what deserve the more-eyes benefits.

- Dave


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011731.html">[Openocd-development] RE :  stack corruption loading IHex
</A></li>
	<LI>Next message: <A HREF="011736.html">[Openocd-development] removing exports and forward decls
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11732">[ date ]</a>
              <a href="thread.html#11732">[ thread ]</a>
              <a href="subject.html#11732">[ subject ]</a>
              <a href="author.html#11732">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
