<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] A time to reorder code
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20A%20time%20to%20reorder%20code&In-Reply-To=%3Calpine.LFD.2.00.0910291546390.10545%40xanadu.home%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011782.html">
   <LINK REL="Next"  HREF="011790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] A time to reorder code</H1>
    <B>Nicolas Pitre</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20A%20time%20to%20reorder%20code&In-Reply-To=%3Calpine.LFD.2.00.0910291546390.10545%40xanadu.home%3E"
       TITLE="[Openocd-development] A time to reorder code">nico at fluxnic.net
       </A><BR>
    <I>Thu Oct 29 21:01:50 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011782.html">[Openocd-development] A time to reorder code
</A></li>
        <LI>Next message: <A HREF="011790.html">[Openocd-development] A time to reorder code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11788">[ date ]</a>
              <a href="thread.html#11788">[ thread ]</a>
              <a href="subject.html#11788">[ subject ]</a>
              <a href="author.html#11788">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 29 Oct 2009, &#216;yvind Harboe wrote:

&gt;<i> Maybe I'm using rebase incorrectly, but when code is reordered
</I>&gt;<i> (to avoid declarations to resolve forward references), then a
</I>&gt;<i> rebase will not run without requiring manual merging.
</I>
Exact.

&gt;<i> If rebase can't merge reordering of code automatically, then I
</I>&gt;<i> would generally like such pervasive refactoring of code  to take place
</I>&gt;<i> at an announced time... Makes branches easier to maintain...
</I>
Indeed.  This is why people making those kind of massive code reordering 
should usually publish their branches early and let people know about 
them, and come to an agreement with the rest of the developers for 
merging those branches first during the next development cycle.  Zach 
mentioned about having over 50 cleanup patches waiting in a branch which 
would certainly fit that bill as well.

This way, you can start making your own feature branches apply on top of 
those cleanup branches in order to reduce the magnitude of manual 
conflict resolution required when it will be time to merge your own 
branch in.

&gt;<i> diff is also similarly &quot;broken&quot;. I haven't found an &quot;ignore
</I>&gt;<i> reordered lines&quot; a la -w == ignore whitespace changes.
</I>
The git rebase feature is using diff underneath.

&gt;<i> Any tips on how to better cope w/reordered code in merges
</I>&gt;<i> w/git?
</I>
So far the best solution is social coordination and communication.

&gt;<i> More generally: does anyone have a great reference to
</I>&gt;<i> git branches, rebase  &amp; automatically refactored java code?
</I>&gt;<i> 
</I>&gt;<i> (This would include name changes of classes, extracting methods,
</I>&gt;<i> rename of files, etc.)
</I>
If you really want to strive into academic topics, you may try to 
implement some of the fanciest merge algorithms.  Git let you plug any 
external merge algorithm you want if you come up with a better one than 
the default (which is a standard 3-way merge) for domain specific files.  
For example, someone once came up with a script to invoke M$ Word's 
ability to merge changes from two .doc files together.


Nicolas
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011782.html">[Openocd-development] A time to reorder code
</A></li>
	<LI>Next message: <A HREF="011790.html">[Openocd-development] A time to reorder code
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11788">[ date ]</a>
              <a href="thread.html#11788">[ thread ]</a>
              <a href="subject.html#11788">[ subject ]</a>
              <a href="author.html#11788">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
