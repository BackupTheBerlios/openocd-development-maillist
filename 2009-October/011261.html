<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] A little Git repo cleanup
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20A%20little%20Git%20repo%20cleanup&In-Reply-To=%3C3DC6D022E7CC5D41A9CA465499463C9E01174FA6DE9C%40mtk-sms-exch01.digi.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011258.html">
   <LINK REL="Next"  HREF="011262.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] A little Git repo cleanup</H1>
    <B>Austin, Alex</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20A%20little%20Git%20repo%20cleanup&In-Reply-To=%3C3DC6D022E7CC5D41A9CA465499463C9E01174FA6DE9C%40mtk-sms-exch01.digi.com%3E"
       TITLE="[Openocd-development] A little Git repo cleanup">Alex.Austin at spectrumdsi.com
       </A><BR>
    <I>Thu Oct 15 21:52:56 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011258.html">[Openocd-development] A little Git repo cleanup
</A></li>
        <LI>Next message: <A HREF="011262.html">[Openocd-development] A little Git repo cleanup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11261">[ date ]</a>
              <a href="thread.html#11261">[ thread ]</a>
              <a href="subject.html#11261">[ subject ]</a>
              <a href="author.html#11261">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> -----Original Message-----
</I>&gt;<i> From: David Brownell [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>]
</I>&gt;<i> Sent: Thursday, October 15, 2009 4:56 AM
</I>&gt;<i> To: Austin, Alex
</I>&gt;<i> Subject: Re: [Openocd-development] A little Git repo cleanup
</I>&gt;<i> 
</I>&gt;<i> On Thursday 15 October 2009, you wrote:
</I>&gt;<i> &gt; I just did a clone of the git repository and noticed how long it took
</I>&gt;<i> to
</I>&gt;<i> &gt; clone one of the many objects. After a little sleuthing, I've
</I>&gt;<i> determined that:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; 2869bc4... Adds a few small files
</I>&gt;<i> &gt; 2f37d16... Adds several large files.
</I>&gt;<i> &gt; af3b53a... Adds more large files. It immediately succeeds the
</I>&gt;<i> previous
</I>&gt;<i> &gt; 1ef7ccc... Removes all files added by previous three commits and
</I>&gt;<i> nothing else
</I>&gt;<i> 
</I>&gt;<i> Hmm, I thought all the bloatey snapshot stuff was in the zy1000 branch.
</I>&gt;<i> Evidently it was *supposed* to be, but wasn't quite ...
</I>&gt;<i> 
</I>&gt;<i> To recap ... there's been a bit over a year's development on top
</I>&gt;<i> of a handful of bad commits that were, almost immediately &quot;undone&quot;
</I>&gt;<i> as well as SVN permits.  So, no technical confusion caused by them;
</I>&gt;<i> just gobs of garbage.
</I>&gt;<i> 
</I>The problem is that the SVN method of undoing commits is to check out an old version and commit it. So, while the data is no longer in the repo, it is still in the history since SVN doesn't let you edit history easily.
&gt;<i> 
</I>&gt;<i> &gt; Removing those four commits brings the repo from 99MB to 5MB. While
</I>&gt;<i> doing
</I>&gt;<i> &gt; so would destroy history that others' use, it would be a great boon
</I>&gt;<i> to
</I>&gt;<i> &gt; those who are cloning it for the first time, and would not be
</I>&gt;<i> difficult
</I>&gt;<i> &gt; for the rest of us to synchronize with.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Any takers?
</I>&gt;<i> 
</I>&gt;<i> Correct me if I'm wrong... but fixing this basically involves a
</I>&gt;<i> rebase of that year's work.  (Or so it seems with my current level
</I>&gt;<i> of homework...)
</I>&gt;<i> 
</I>&gt;<i> Which more or less means everyone would be getting a new tree,
</I>&gt;<i> when all is done.  Yes?
</I>
Yup. Actually, I already did that in a local repo I have. Pushing it would be easy enough.
&gt;<i> 
</I>&gt;<i> I'm not averse to getting that crap out of the repository,
</I>&gt;<i> and doing it sooner is better than later ... but I'd just
</I>&gt;<i> want to be sure the impact is understood.  Initially by me;
</I>&gt;<i> later by everyone who'd be impacted.
</I>&gt;<i> 
</I>&gt;<i> If we do that, there's other crap I'd like to see gone too.
</I>&gt;<i> Like a bunch of merges from a &quot;test&quot; commit a while back.
</I>&gt;<i> 
</I>&gt;<i> - Dave
</I>&gt;<i> 
</I>&gt;<i> 
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011258.html">[Openocd-development] A little Git repo cleanup
</A></li>
	<LI>Next message: <A HREF="011262.html">[Openocd-development] A little Git repo cleanup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11261">[ date ]</a>
              <a href="thread.html#11261">[ thread ]</a>
              <a href="subject.html#11261">[ subject ]</a>
              <a href="author.html#11261">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
