<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Clever handling of working areas
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Clever%20handling%20of%20working%20areas&In-Reply-To=%3Calpine.LFD.2.00.0910291451080.10545%40xanadu.home%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011775.html">
   <LINK REL="Next"  HREF="011781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Clever handling of working areas</H1>
    <B>Nicolas Pitre</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Clever%20handling%20of%20working%20areas&In-Reply-To=%3Calpine.LFD.2.00.0910291451080.10545%40xanadu.home%3E"
       TITLE="[Openocd-development] Clever handling of working areas">nico at fluxnic.net
       </A><BR>
    <I>Thu Oct 29 19:58:29 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011775.html">[Openocd-development] Clever handling of working areas
</A></li>
        <LI>Next message: <A HREF="011781.html">[Openocd-development] Clever handling of working areas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11780">[ date ]</a>
              <a href="thread.html#11780">[ thread ]</a>
              <a href="subject.html#11780">[ subject ]</a>
              <a href="author.html#11780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 29 Oct 2009, &#216;yvind Harboe wrote:

&gt;<i> In OpenOCD there is a bit of clever handling of working areas.
</I>&gt;<i> 
</I>&gt;<i> You can essentially allocate a piece of working memory on the target and
</I>&gt;<i> store e.g. an algorithm into that working area over an extended period
</I>&gt;<i> of time to improve performance.
</I>&gt;<i> 
</I>&gt;<i> If a reset or similar happens, then OpenOCD will iterate through all the
</I>&gt;<i> working areas and null out the pointers to the working area so that
</I>&gt;<i> e.g. the flash routines know to reallocate and repopulate the working
</I>&gt;<i> areas.
</I>&gt;<i> 
</I>&gt;<i> The neat side effect of this is that it will leave algorithms in
</I>&gt;<i> target memory for a long time, increasing performance.
</I>&gt;<i> 
</I>&gt;<i> The nasty side effect is that it *really* complicates the code path...
</I>&gt;<i> 
</I>&gt;<i> I have an unsubstantiated suspicion that this breaks e.g. flash
</I>&gt;<i> programming on arm926ejs.
</I>&gt;<i> 
</I>&gt;<i> If I can catch this handling of working memory red-handed in causing
</I>&gt;<i> bugs, my instinct would be to remove it. I'm hopeful that e.g. flash
</I>&gt;<i> programming routines would be able to recover the performance
</I>&gt;<i> with slight rewriting....
</I>
My instinct tells me otherwise.  But you know, now that we have Git, you 
can do that rewrite in a branch of your own and let people try it out in 
parallel with the master branch.  Only when factual results are 
confirmed by enough people that the rewrite is really better then should 
that branch be merged in the master branch.

Please let's not recreate that tantrum in the repository like what 
happened a few months ago.


Nicolas
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011775.html">[Openocd-development] Clever handling of working areas
</A></li>
	<LI>Next message: <A HREF="011781.html">[Openocd-development] Clever handling of working areas
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11780">[ date ]</a>
              <a href="thread.html#11780">[ thread ]</a>
              <a href="subject.html#11780">[ subject ]</a>
              <a href="author.html#11780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
