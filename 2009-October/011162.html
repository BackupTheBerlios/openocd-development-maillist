<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] NS9360 Unknown EmbeddedICE version and halt problem
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20NS9360%20Unknown%20EmbeddedICE%20version%20and%0A%20halt%20problem&In-Reply-To=%3C20091012163224.220990%40gmx.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011161.html">
   <LINK REL="Next"  HREF="011250.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] NS9360 Unknown EmbeddedICE version and halt problem</H1>
    <B>Henry Margies</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20NS9360%20Unknown%20EmbeddedICE%20version%20and%0A%20halt%20problem&In-Reply-To=%3C20091012163224.220990%40gmx.net%3E"
       TITLE="[Openocd-development] NS9360 Unknown EmbeddedICE version and halt problem">henry.margies at gmx.de
       </A><BR>
    <I>Mon Oct 12 18:32:24 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011161.html">[Openocd-development] NS9360 Unknown EmbeddedICE version and halt problem
</A></li>
        <LI>Next message: <A HREF="011250.html">[Openocd-development] NS9360 Unknown EmbeddedICE version and	halt problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11162">[ date ]</a>
              <a href="thread.html#11162">[ thread ]</a>
              <a href="subject.html#11162">[ subject ]</a>
              <a href="author.html#11162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

&gt;<i> &gt; &gt; Error: ns9360.cpu: IR capture error; saw 0x09 not 0x01
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; So I either change the irLen to 3 or the mask to 0x7 or the
</I>&gt;<i> &gt; &gt; irCaputure to 0x9. 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; It's an ARM926 you say?  If so, irlen == 4.  You shouldn't
</I>&gt;<i> &gt; actually neet to specify the IR mask or capture values, by
</I>&gt;<i> &gt; the way ...
</I>&gt;<i> 
</I>&gt;<i> Thanks, I removed irCapture and mask and I got no additional error (but
</I>&gt;<i> still have the wrong EmbeddedICE version).
</I>&gt;<i> 
</I>
By the way, I just found the BSDL file for the NS9360 CPU. Not sure if that is helping, but it says (things like):

-- Specifies the number of bits in the instruction register.
   
   attribute INSTRUCTION_LENGTH of cooper: entity is 3;

-- Specifies the bit pattern that is loaded into the instruction register when 
-- the TAP controller passes through the Capture-IR state. The standard mandates 
-- that the two LSBs must be &quot;01&quot;. The remaining bits are design specific.
   
   attribute INSTRUCTION_CAPTURE of cooper: entity is &quot;001&quot;;


It also lists the part number and manufacturer ID, which is correctly detected by OpenOCD. It also mentions the boundary scan registers. Now I have read in the OpenOCD documentation about JTAG router controllers and boundary scan tap controllers (although OpenOCD only reports one tap controller). Is it possible that the boundary scan registers are kind of in the way of reading the EmbeddedICE version? Since I don't know anything about EmbeddedICE or Boundary Scans Registers, I'm slightly lost here :) 


The URL for the BSDL file is: <A HREF="http://ftp1.digi.com/support/documentation/hwtoolkit_ns9360.bsdl">http://ftp1.digi.com/support/documentation/hwtoolkit_ns9360.bsdl</A>



Thanks in advance,


Henry


-- 
Hi! I'm a .signature virus! Copy me into your
~/.signature to help me spread!


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011161.html">[Openocd-development] NS9360 Unknown EmbeddedICE version and halt problem
</A></li>
	<LI>Next message: <A HREF="011250.html">[Openocd-development] NS9360 Unknown EmbeddedICE version and	halt problem
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11162">[ date ]</a>
              <a href="thread.html#11162">[ thread ]</a>
              <a href="subject.html#11162">[ subject ]</a>
              <a href="author.html#11162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
