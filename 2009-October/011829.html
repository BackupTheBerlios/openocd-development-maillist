<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20openocd-0.3.0-rc0%20bug%3A%20Fail%20to%20write%20to%0A%09Intel%20NOR%20Flash%20on%20AT91SAM9260&In-Reply-To=%3Cc09652430910301022j40043fddn3bec24f4767ae11a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011825.html">
   <LINK REL="Next"  HREF="011831.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20openocd-0.3.0-rc0%20bug%3A%20Fail%20to%20write%20to%0A%09Intel%20NOR%20Flash%20on%20AT91SAM9260&In-Reply-To=%3Cc09652430910301022j40043fddn3bec24f4767ae11a%40mail.gmail.com%3E"
       TITLE="[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260">oyvind.harboe at zylin.com
       </A><BR>
    <I>Fri Oct 30 18:22:44 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011825.html">[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260
</A></li>
        <LI>Next message: <A HREF="011831.html">[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11829">[ date ]</a>
              <a href="thread.html#11829">[ thread ]</a>
              <a href="subject.html#11829">[ subject ]</a>
              <a href="author.html#11829">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> SVN 2645: writes 512k to flash, verifies correctly
</I>&gt;<i> SVN 2646: flash write_image fails with &quot;timed out while waiting for target debug-running&quot;
</I>
Hmm..... this is trickier than I thought....

Can you provide debug_level 3 logs for 2645 and 2646?

Try to use the *EXACT* same procedure so the logs can be diff'ed
using text diff... (With a bit of manual tinkering...)

I see from the log that the the hardware breakpoint is set correctly and
that the CPU halts at the address after the DCC algorithm(0x850). The DCC
algorithm should run indefinitely until halted when all data has
been written to memory...

I'm stumped as to what this might have to do with 2645 and 2646.... Except
if hw breakpoints were *broken* somehow in 2645 and that hides
some other problem that 2645 is somehow able to recover from....
I/D caches appear to be disabled...

Is it conceivable that 2645 is in fact broken too and that something conspired
to make the test come out as a false positive?



-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011825.html">[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260
</A></li>
	<LI>Next message: <A HREF="011831.html">[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11829">[ date ]</a>
              <a href="thread.html#11829">[ thread ]</a>
              <a href="subject.html#11829">[ subject ]</a>
              <a href="author.html#11829">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
