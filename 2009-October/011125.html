<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Reducing mess in config files
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Reducing%20mess%20in%20config%20files&In-Reply-To=%3C20091010112254.GU9522%40dream.aleph1.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011122.html">
   <LINK REL="Next"  HREF="011128.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Reducing mess in config files</H1>
    <B>Wookey</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Reducing%20mess%20in%20config%20files&In-Reply-To=%3C20091010112254.GU9522%40dream.aleph1.co.uk%3E"
       TITLE="[Openocd-development] Reducing mess in config files">wookey at wookware.org
       </A><BR>
    <I>Sat Oct 10 13:22:55 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011122.html">[Openocd-development] Reducing mess in config files
</A></li>
        <LI>Next message: <A HREF="011128.html">[Openocd-development] Reducing mess in config files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11125">[ date ]</a>
              <a href="thread.html#11125">[ thread ]</a>
              <a href="subject.html#11125">[ subject ]</a>
              <a href="author.html#11125">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>+++ &#216;yvind Harboe [2009-10-10 09:18 +0200]:
&gt;<i> We have lots of these codelets around OpenOCD:
</I>&gt;<i> 
</I>&gt;<i> if { [info exists CHIPNAME] } {
</I>&gt;<i>    set  _CHIPNAME $CHIPNAME
</I>&gt;<i> } else {
</I>&gt;<i>    set  _CHIPNAME pxa270
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Does anyone find this the syntax below simpler or just
</I>&gt;<i> more obscure?
</I>&gt;<i> 
</I>&gt;<i> -expected-id [defaultvalue CPUTAPID 0x12345678]
</I>
It is a bit obscure (looks like it is defining a default value, rather
than returning either the set value or the default value), but it's
also a lot more pleasing, and most of the time this distinction won't
matter. Explaining it in the docs somewhere should make it clear.

This syntax makes it rather easier to have more than one expected-id
too (althogh I still think a better solution there in the medium term
is to specify the components of the ID (vendor/device/stepping) and
allow don't-care bits.

Wookey
-- 
Principal hats:  iEndian - Balloonboard - Toby Churchill - Emdebian
<A HREF="http://wookware.org/">http://wookware.org/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011122.html">[Openocd-development] Reducing mess in config files
</A></li>
	<LI>Next message: <A HREF="011128.html">[Openocd-development] Reducing mess in config files
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11125">[ date ]</a>
              <a href="thread.html#11125">[ thread ]</a>
              <a href="subject.html#11125">[ subject ]</a>
              <a href="author.html#11125">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
