<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Feroceon Revisited
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Feroceon%20Revisited&In-Reply-To=%3Cg8fe2i%245i4%245%40ger.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002965.html">
   <LINK REL="Next"  HREF="002968.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Feroceon Revisited</H1>
    <B>Daniel Gimpelevich</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Feroceon%20Revisited&In-Reply-To=%3Cg8fe2i%245i4%245%40ger.gmane.org%3E"
       TITLE="[Openocd-development] Feroceon Revisited">daniel at gimpelevich.san-francisco.ca.us
       </A><BR>
    <I>Tue Aug 19 23:30:58 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002965.html">[Openocd-development] Feroceon Revisited
</A></li>
        <LI>Next message: <A HREF="002968.html">[Openocd-development] Feroceon Revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2966">[ date ]</a>
              <a href="thread.html#2966">[ thread ]</a>
              <a href="subject.html#2966">[ subject ]</a>
              <a href="author.html#2966">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 19 Aug 2008 10:47:30 -0400, Nicolas Pitre wrote:

&gt;<i> So far I've always been able to halt a Feroceon based board with no
</I>&gt;<i> flash content simply by holding the reset button while performing a halt
</I>&gt;<i> on the openocd console then quickly releasing the reset button.  It
</I>&gt;<i> seems that the processor will happily halt right on the reset vector at
</I>&gt;<i> that point if DBGRQ is already asserted when it attempts to execute the
</I>&gt;<i> very first instruction after a reset.
</I>
Unless I miss my guess, on my board, the reset button is a simple GPIO 
line, so it does not perform this function. Is there some line i can 
trace that would provide a reset signal that could function this way?

&gt;<i> The same should be doable by asserting the SRST signal but often the
</I>&gt;<i> JTAG cable (or the board design) doesn't route it properly if at all.
</I>
Yes, it seems that part of the Marvell reference design prescribes 
improperly routing sRST. However, the troubles described at the links in 
my first post seem to indicate that this is only part of the story. There 
has to be a consistent way to halt the CPU across all Feroceon boards.

On Tue, 19 Aug 2008 16:40:18 -0400, Nicolas Pitre wrote:

&gt;<i> Normally, SRST and the reset button should be the same. TRST is separate
</I>&gt;<i> and affects only the debug interface logic.  On some boards I have here,
</I>&gt;<i> nTRST is pulled low permanently and needs to have VCC applied to it for
</I>&gt;<i> the debug logic to operate (jumper required with those JTAG cables
</I>&gt;<i> without TRST signal).
</I>
On my board, TRST appears to behave in the expected way, but sRST needs 
to have Vcc applied to operate JTAG. Or, am I missing something?


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002965.html">[Openocd-development] Feroceon Revisited
</A></li>
	<LI>Next message: <A HREF="002968.html">[Openocd-development] Feroceon Revisited
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2966">[ date ]</a>
              <a href="thread.html#2966">[ thread ]</a>
              <a href="subject.html#2966">[ subject ]</a>
              <a href="author.html#2966">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
