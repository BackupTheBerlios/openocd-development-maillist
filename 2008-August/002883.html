<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Patch(es) to the example configuration	for Olimex ARM-USB-TINY
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Patch%28es%29%20to%20the%20example%20configuration%0A%09for%20Olimex%20ARM-USB-TINY&In-Reply-To=%3C200808070842.02188.Dominic.Rath%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002882.html">
   <LINK REL="Next"  HREF="002884.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Patch(es) to the example configuration	for Olimex ARM-USB-TINY</H1>
    <B>Dominic Rath</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Patch%28es%29%20to%20the%20example%20configuration%0A%09for%20Olimex%20ARM-USB-TINY&In-Reply-To=%3C200808070842.02188.Dominic.Rath%40gmx.de%3E"
       TITLE="[Openocd-development] Patch(es) to the example configuration	for Olimex ARM-USB-TINY">Dominic.Rath at gmx.de
       </A><BR>
    <I>Thu Aug  7 08:42:01 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002882.html">[Openocd-development] Patch(es) to the example configuration	for Olimex ARM-USB-TINY
</A></li>
        <LI>Next message: <A HREF="002884.html">[Openocd-development] Patch(es) to the example configuration for Olimex ARM-USB-TINY
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2883">[ date ]</a>
              <a href="thread.html#2883">[ thread ]</a>
              <a href="subject.html#2883">[ subject ]</a>
              <a href="author.html#2883">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Christian,

On Thursday 07 August 2008 04:06:53 Christian Jaeger wrote:
&gt;<i> I had been using (amongst a few other settings) this config at first:
</I>&gt;<i>
</I>&gt;<i>  interface ft2232
</I>&gt;<i>  ft2232_device_desc &quot;Olimex OpenOCD JTAG TINY&quot;
</I>&gt;<i>  ft2232_layout olimex-jtag
</I>&gt;<i>
</I>&gt;<i> where the desc was taken from /sys/bus/usb/devices/*/product, but it
</I>&gt;<i> wasn't clear from the example that ft2232_vid_pid is mandatory (*and*
</I>&gt;<i> ft2232_device_desc needs to be correct at the same time).
</I>
The problem is with the Windows version of the FTD2XX driver - on Windows you 
don't need the vid/pid at all, because the driver registers itself for a 
particular vid/pid combination. Additionally, you need the &quot; A&quot; appended on 
Windows, because that's how the Windows driver detects the difference between 
channel A (the one that does JTAG) and channel B (limited to RS232 or GPIO).

On Linux you need the vid/pid, unless your device uses the FTDI default 
combinations. The driver probes the default plus any combination listed in 
the config file (could be more than just one).
Additionally you need the device description (or serial number, which takes 
precedence over description).

&gt;<i> (BTW turns out, by looking at the output from the -d option and a
</I>&gt;<i> quick look at the sources, that it was looking for the default(?) vid
</I>&gt;<i> / pid numbers which are hard coded (0x0403 / 0x6010).)
</I>&gt;<i>
</I>&gt;<i> In the following two mails I post patches to fix the example config
</I>&gt;<i> file, first I rename it to drop the -a (maybe I just don't see what
</I>&gt;<i> this was about), then the relevant changes. (These are formatted by
</I>&gt;<i> git format-patch, tell me if you're not happy with that sort of
</I>&gt;<i> patches.)
</I>
It's probably not much use fixing the config files, because they're not really 
broken. A patch that adds some comments would be highly welcomed of course.

Regards,

Dominic

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002882.html">[Openocd-development] Patch(es) to the example configuration	for Olimex ARM-USB-TINY
</A></li>
	<LI>Next message: <A HREF="002884.html">[Openocd-development] Patch(es) to the example configuration for Olimex ARM-USB-TINY
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2883">[ date ]</a>
              <a href="thread.html#2883">[ thread ]</a>
              <a href="subject.html#2883">[ subject ]</a>
              <a href="author.html#2883">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
