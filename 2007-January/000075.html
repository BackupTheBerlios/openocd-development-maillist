<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Cortex-M3
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2007-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Cortex-M3&In-Reply-To=%3C200701232238.17328.Dominic.Rath%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000074.html">
   <LINK REL="Next"  HREF="000077.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Cortex-M3</H1>
    <B>Dominic Rath</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Cortex-M3&In-Reply-To=%3C200701232238.17328.Dominic.Rath%40gmx.de%3E"
       TITLE="[Openocd-development] Cortex-M3">Dominic.Rath at gmx.de
       </A><BR>
    <I>Tue Jan 23 22:38:17 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000074.html">[Openocd-development] Cortex-M3
</A></li>
        <LI>Next message: <A HREF="000077.html">[Openocd-development] Some problems with the dump_binary command	and SAM7S256
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75">[ date ]</a>
              <a href="thread.html#75">[ thread ]</a>
              <a href="subject.html#75">[ subject ]</a>
              <a href="author.html#75">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Magnus,

ok, so the scrolling shooter demo doesn't like being debugged, and I'm hitting 
a bug in the application rather than a problem with the OpenOCD? I expected 
to be able to halt the application and resume it and it would continue normal 
operation, but apparently this didn't work.

The problem with cortexm3.log was the same as with the other log - after 
halting and resuming the application didn't run anymore. Could very well be 
the same application bug.

Thanks a lot and best regards,

Dominic

On Tuesday 23 January 2007 21:29, Magnus Lundin wrote:
&gt;<i> Hi Dominic
</I>&gt;<i>
</I>&gt;<i> Thats the board that most people uses, I have that one and one home
</I>&gt;<i> built with the LM102 processor and standard JTAG.
</I>&gt;<i>
</I>&gt;<i> What code are you running?
</I>&gt;<i>
</I>&gt;<i> The first debug output &quot;cortexm3_2.log&quot; looks perfectly OK for a program
</I>&gt;<i> that throws a hard fault.
</I>&gt;<i> The single steps you see are used to read the special purpose processor
</I>&gt;<i> registers to r0 with a MRS instruction. This make R0 and PC dirty.
</I>&gt;<i>
</I>&gt;<i> If you are running the demo scrolling shooter under debug then there is a
</I>&gt;<i> bug (depending on version) where the program overwrites the stack in the
</I>&gt;<i> ADC interrupt handler. This happens if the program is halted i a manner
</I>&gt;<i> that makes the ADC take more than one sample before they are processed.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I you do a &gt;reg after the halt in the HardFault handler then and then
</I>&gt;<i>
</I>&gt;<i>  &gt;mdw of the first 16 words on the stack then there is lots of
</I>&gt;<i>
</I>&gt;<i> information to track down the fault.
</I>&gt;<i>
</I>&gt;<i> The second log &quot;cortexm3.log&quot; looks perfectly OK to me :)
</I>&gt;<i> You halt the target and the halt is in an interrupt handler (14) which is
</I>&gt;<i> ADC Sequence 0 interrupt. Perfectly normal for the demo program.
</I>&gt;<i>
</I>&gt;<i> I started on a document about lowlevel debugging of Cortex-M3 with OpenOcd
</I>&gt;<i> but that document is misplaced somewhere.
</I>&gt;<i>
</I>&gt;<i> Regards,
</I>&gt;<i> Magnus
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000074.html">[Openocd-development] Cortex-M3
</A></li>
	<LI>Next message: <A HREF="000077.html">[Openocd-development] Some problems with the dump_binary command	and SAM7S256
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#75">[ date ]</a>
              <a href="thread.html#75">[ thread ]</a>
              <a href="subject.html#75">[ subject ]</a>
              <a href="author.html#75">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
