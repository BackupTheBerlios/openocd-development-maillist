<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Slow pipe usage (was eclipse indigo)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Slow%20pipe%20usage%20%28was%20eclipse%20indigo%29&In-Reply-To=%3C4E124055.2050205%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019946.html">
   <LINK REL="Next"  HREF="019962.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Slow pipe usage (was eclipse indigo)</H1>
    <B>Andrew Leech</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Slow%20pipe%20usage%20%28was%20eclipse%20indigo%29&In-Reply-To=%3C4E124055.2050205%40gmail.com%3E"
       TITLE="[Openocd-development] Slow pipe usage (was eclipse indigo)">coronasensei at gmail.com
       </A><BR>
    <I>Tue Jul  5 00:36:05 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019946.html">[Openocd-development] Slow pipe usage (was eclipse indigo)
</A></li>
        <LI>Next message: <A HREF="019962.html">[Openocd-development] Slow pipe usage (was eclipse indigo)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19959">[ date ]</a>
              <a href="thread.html#19959">[ thread ]</a>
              <a href="subject.html#19959">[ subject ]</a>
              <a href="author.html#19959">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 4/07/2011 6:22 PM, Spencer Oliver wrote:
&gt;<i> On 4 July 2011 08:12, Andrew Leech&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">coronasensei at gmail.com</A>&gt;  wrote:
</I>&gt;&gt;<i> On 1/07/2011 8:47 PM, Spencer Oliver wrote:
</I>&gt;&gt;&gt;<i> On 1 July 2011 00:41, Andrew Leech&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">coronasensei at gmail.com</A>&gt;    wrote:
</I>&gt;&gt;&gt;&gt;<i> Only problem is, it's incredibly slow, unusably slow. A single step can
</I>&gt;&gt;&gt;&gt;<i> take
</I>&gt;&gt;&gt;&gt;<i> 5 seconds, where on a normal tcp connection with same configs feels close
</I>&gt;&gt;&gt;&gt;<i> to
</I>&gt;&gt;&gt;&gt;<i> instant, so maybe about 1/4 of a second. Did your windows one behave
</I>&gt;&gt;&gt;&gt;<i> better?
</I>&gt;&gt;&gt;&gt;<i> If so, do you know what version/release of gdb you used?
</I>&gt;&gt;&gt;<i> used Sourcery G++ Lite 2011.03-42
</I>&gt;&gt;&gt;<i> Have not noticed any speed issues, most of my testing was under linux
</I>&gt;&gt;&gt;<i> however.
</I>&gt;&gt;&gt;<i> I am running winxp, that has always proved fairly nippy compared to
</I>&gt;&gt;&gt;<i> vista anyway.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Delving into openocd logs, taking a -d3 on both pipe and tcp usage, I get
</I>&gt;&gt;<i> exactly the same commands being run for both when stepping over the first
</I>&gt;&gt;<i> line of my program, but in pipe usage lots of them take 100ms longer:
</I>&gt;&gt;<i>
</I>&gt;<i> That 100ms may well be caused by the win32 version of select - win32
</I>&gt;<i> select does not support pipes so had to create a special version.
</I>&gt;<i> Check out the MsgWaitForMultipleObjects and you see your 100ms delay.
</I>&gt;<i>
</I>&gt;<i> Perhaps this function needs tweaking.
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i> Spen
</I>
If it's a code issue with openocd code, I would have thought you'd see 
the same problem in pipe mode on windows, I know you said you never used 
it much, but I find it's instantly noticeable, around a factor of 10 
different in speed.

With all this playing around though, I've also found that openocd 
doesn't shut down properly in pipe mode with eclipse, neither hitting 
terminate not disconnect in eclipse will actually shut down openocd or 
gdb, they just sit there hanging. I just have to resort to task manager 
to shut it down. Maybe I'll just have to stick with using openocd as a 
separate external tool still. Unfortunately I'm locked to windows for 
using Altium Deisgner (my main role is electroncis design), and I just 
get sick of trying to do too much in vm's.

Thanks,
Andrew


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019946.html">[Openocd-development] Slow pipe usage (was eclipse indigo)
</A></li>
	<LI>Next message: <A HREF="019962.html">[Openocd-development] Slow pipe usage (was eclipse indigo)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19959">[ date ]</a>
              <a href="thread.html#19959">[ thread ]</a>
              <a href="subject.html#19959">[ subject ]</a>
              <a href="author.html#19959">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
