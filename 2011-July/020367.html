<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 0/7] RLink interface speedup, and fixes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%200/7%5D%20RLink%20interface%20speedup%2C%0A%20and%20fixes&In-Reply-To=%3C4E2C72C9.50104%40bluewin.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020365.html">
   <LINK REL="Next"  HREF="020360.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 0/7] RLink interface speedup, and fixes</H1>
    <B>Peter Horn</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%200/7%5D%20RLink%20interface%20speedup%2C%0A%20and%20fixes&In-Reply-To=%3C4E2C72C9.50104%40bluewin.ch%3E"
       TITLE="[Openocd-development] [PATCH 0/7] RLink interface speedup, and fixes">peter.horn at bluewin.ch
       </A><BR>
    <I>Sun Jul 24 21:30:17 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="020365.html">[Openocd-development] [PATCH 0/7] RLink interface speedup,	and fixes
</A></li>
        <LI>Next message: <A HREF="020360.html">[Openocd-development] [PATCH 0/7] RLink interface speedup,	and fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20367">[ date ]</a>
              <a href="thread.html#20367">[ thread ]</a>
              <a href="subject.html#20367">[ subject ]</a>
              <a href="author.html#20367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 22.07.2011 20:02, schrieb Andreas Fritiofson:
&gt;<i> Your RLink reports the same firmware version as my STM32Primer does. If
</I>&gt;<i> that means they are identical, I should be able to reproduce, but I
</I>&gt;<i> can't. Maybe it depends on the version of libusb?
</I>
I'm using OpenSuse 11.4. Here's what the package manager tells about libusb:

$ zypper se libusb

&gt;<i> S | Name                | Zusammenfassung                                                           | Typ
</I>&gt;<i> --+---------------------+---------------------------------------------------------------------------+-----------
</I>&gt;<i> i | libusb-0_1-4        | libusb-1.0 Compatibility Library for libusb-0.1                           | Paket
</I>&gt;<i>   | libusb-1_0          | USB Library                                                               | Quellpaket
</I>&gt;<i> i | libusb-1_0-0        | USB Library                                                               | Paket
</I>&gt;<i> i | libusb-1_0-devel    | USB Library                                                               | Paket
</I>&gt;<i>   | libusb-compat       | libusb-1.0 Compatibility Layer for libusb-0.1                             | Quellpaket
</I>&gt;<i> i | libusb-compat-devel | libusb-1.0 Compatibility Layer for libusb-0.1                             | Paket
</I>&gt;<i>   | libusbmuxd-devel    | Development files for libusbmuxd                                          | Paket
</I>&gt;<i> i | libusbmuxd1         | A library to abstract socket/protocol communication to the usbmuxd daemon | Paket
</I>&gt;<i>   | libusbprog0         | USBprog Library                                                           | Paket
</I>


&gt;<i> Also I don't have a
</I>&gt;<i> Windows machine to test on. Regardless, I still can't understand how my
</I>&gt;<i> patches can make it fail as early as during init, though.
</I>

&gt;<i> I see now that the linux log hints that it doesn't fail in the same
</I>&gt;<i> place. Do you have a debug log for that too?
</I>
Here's the debug log on Linux with your Rlink patches 1/7 to 4/7 
applied. Runs as expected:



&gt;<i> Open On-Chip Debugger 0.5.0-dev-00959-gd6c42bf (2011-07-22-00:16)
</I>&gt;<i> Licensed under GNU GPL v2
</I>&gt;<i> For bug reports, read
</I>&gt;<i> 	<A HREF="http://openocd.berlios.de/doc/doxygen/bugs.html">http://openocd.berlios.de/doc/doxygen/bugs.html</A>
</I>&gt;<i> User : 11 1 command.c:557 command_print(): debug_level: 3
</I>&gt;<i> Debug: 12 1 configuration.c:45 add_script_search_dir(): adding tcl/
</I>&gt;<i> Debug: 13 1 configuration.c:45 add_script_search_dir(): adding /root/.openocd
</I>&gt;<i> Debug: 14 1 configuration.c:45 add_script_search_dir(): adding /usr/local/share/openocd/site
</I>&gt;<i> Debug: 15 1 configuration.c:45 add_script_search_dir(): adding /usr/local/share/openocd/scripts
</I>&gt;<i> Debug: 16 1 configuration.c:87 find_file(): found tcl//interface/rlink.cfg
</I>&gt;<i> Debug: 17 1 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_interface rlink
</I>&gt;<i> Debug: 18 1 command.c:151 script_debug(): command - interface ocd_interface rlink
</I>&gt;<i> Warn : 20 1 adapter.c:167 handle_interface_command(): Adapter driver 'rlink' did not declare which transports it allows; assuming legacy JTAG-only
</I>&gt;<i> Info : 21 1 transport.c:123 allow_transports(): only one transport option; autoselect 'jtag'
</I>&gt;<i> Debug: 22 1 command.c:364 register_command_handler(): registering 'ocd_jtag_flush_queue_sleep'...
</I>&gt;<i> Debug: 23 1 command.c:364 register_command_handler(): registering 'ocd_jtag_rclk'...
</I>&gt;<i> Debug: 24 1 command.c:364 register_command_handler(): registering 'ocd_jtag_ntrst_delay'...
</I>&gt;<i> Debug: 25 1 command.c:364 register_command_handler(): registering 'ocd_jtag_ntrst_assert_width'...
</I>&gt;<i> Debug: 26 1 command.c:364 register_command_handler(): registering 'ocd_scan_chain'...
</I>&gt;<i> Debug: 27 1 command.c:364 register_command_handler(): registering 'ocd_jtag_reset'...
</I>&gt;<i> Debug: 28 1 command.c:364 register_command_handler(): registering 'ocd_runtest'...
</I>&gt;<i> Debug: 29 1 command.c:364 register_command_handler(): registering 'ocd_irscan'...
</I>&gt;<i> Debug: 30 1 command.c:364 register_command_handler(): registering 'ocd_verify_ircapture'...
</I>&gt;<i> Debug: 31 1 command.c:364 register_command_handler(): registering 'ocd_verify_jtag'...
</I>&gt;<i> Debug: 32 2 command.c:364 register_command_handler(): registering 'ocd_tms_sequence'...
</I>&gt;<i> Debug: 33 2 command.c:364 register_command_handler(): registering 'ocd_wait_srst_deassert'...
</I>&gt;<i> Debug: 34 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 35 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 36 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 37 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 38 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 39 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 40 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 41 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 42 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 43 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 44 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 45 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 46 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 47 2 command.c:364 register_command_handler(): registering 'ocd_svf'...
</I>&gt;<i> Debug: 48 2 command.c:364 register_command_handler(): registering 'ocd_xsvf'...
</I>&gt;<i> Debug: 49 2 configuration.c:87 find_file(): found tcl//board/olimex_stm32_h103.cfg
</I>&gt;<i> Debug: 50 2 configuration.c:87 find_file(): found tcl//target/stm32.cfg
</I>&gt;<i> Debug: 51 2 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_adapter_khz 1000
</I>&gt;<i> Debug: 52 2 command.c:151 script_debug(): command - adapter_khz ocd_adapter_khz 1000
</I>&gt;<i> Debug: 54 2 core.c:1639 jtag_config_khz(): handle jtag khz
</I>&gt;<i> Debug: 55 2 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 56 2 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> User : 57 2 command.c:557 command_print(): 1000 kHz
</I>&gt;<i> Debug: 58 2 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_adapter_nsrst_delay 100
</I>&gt;<i> Debug: 59 2 command.c:151 script_debug(): command - adapter_nsrst_delay ocd_adapter_nsrst_delay 100
</I>&gt;<i> User : 61 2 command.c:557 command_print(): adapter_nsrst_delay: 100
</I>&gt;<i> Debug: 62 2 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag_ntrst_delay 100
</I>&gt;<i> Debug: 63 2 command.c:151 script_debug(): command - jtag_ntrst_delay ocd_jtag_ntrst_delay 100
</I>&gt;<i> User : 65 2 command.c:557 command_print(): jtag_ntrst_delay: 100
</I>&gt;<i> Debug: 66 2 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap stm32 cpu -irlen 4 -ircapture 0x1 -irmask 0xf -expected-id 0x3ba00477
</I>&gt;<i> Debug: 67 2 command.c:151 script_debug(): command - ocd_jtag ocd_jtag newtap stm32 cpu -irlen 4 -ircapture 0x1 -irmask 0xf -expected-id 0x3ba00477
</I>&gt;<i> Debug: 68 2 tcl.c:575 jim_newtap_cmd(): Creating New Tap, Chip: stm32, Tap: cpu, Dotted: stm32.cpu, 8 params
</I>&gt;<i> Debug: 69 2 tcl.c:592 jim_newtap_cmd(): Processing option: -irlen
</I>&gt;<i> Debug: 70 2 tcl.c:592 jim_newtap_cmd(): Processing option: -ircapture
</I>&gt;<i> Debug: 71 2 tcl.c:592 jim_newtap_cmd(): Processing option: -irmask
</I>&gt;<i> Debug: 72 2 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 73 2 core.c:1337 jtag_tap_init(): Created Tap: stm32.cpu @ abs position 0, irlen 4, capture: 0x1 mask: 0xf
</I>&gt;<i> Debug: 74 2 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap stm32 bs -irlen 5 -expected-id 0x06412041 -expected-id 0x06410041 -expected-id 0x16410041 -expected-id 0x06420041 -expected-id 0x06414041 -expected-id 0x06418041 -expected-id 0x06430041
</I>&gt;<i> Debug: 75 3 command.c:151 script_debug(): command - ocd_jtag ocd_jtag newtap stm32 bs -irlen 5 -expected-id 0x06412041 -expected-id 0x06410041 -expected-id 0x16410041 -expected-id 0x06420041 -expected-id 0x06414041 -expected-id 0x06418041 -expected-id 0x06430041
</I>&gt;<i> Debug: 76 3 tcl.c:575 jim_newtap_cmd(): Creating New Tap, Chip: stm32, Tap: bs, Dotted: stm32.bs, 16 params
</I>&gt;<i> Debug: 77 3 tcl.c:592 jim_newtap_cmd(): Processing option: -irlen
</I>&gt;<i> Debug: 78 3 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 79 3 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 80 3 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 81 3 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 82 3 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 83 3 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 84 3 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 85 3 core.c:1337 jtag_tap_init(): Created Tap: stm32.bs @ abs position 0, irlen 5, capture: 0x1 mask: 0x3
</I>&gt;<i> Debug: 86 3 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_target create stm32.cpu cortex_m3 -endian little -chain-position stm32.cpu
</I>&gt;<i> Debug: 87 3 command.c:151 script_debug(): command - ocd_target ocd_target create stm32.cpu cortex_m3 -endian little -chain-position stm32.cpu
</I>&gt;<i> Debug: 88 3 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 89 3 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 90 3 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 91 3 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 92 3 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 93 3 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 94 3 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 95 3 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 96 3 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 97 3 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 98 3 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 99 3 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 100 3 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 101 3 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 102 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 103 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 104 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 105 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 106 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 107 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 108 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 109 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 110 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 111 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 112 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 113 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 114 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 115 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 116 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 117 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 118 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 119 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 120 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 121 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 122 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 123 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 124 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 125 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 126 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 127 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 128 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 129 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 130 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 131 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 132 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 133 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 134 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 135 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 136 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 137 3 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 138 4 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_stm32.cpu configure -work-area-phys 0x20000000 -work-area-size 0x5000 -work-area-backup 0
</I>&gt;<i> Debug: 139 4 command.c:151 script_debug(): command - ocd_stm32.cpu ocd_stm32.cpu configure -work-area-phys 0x20000000 -work-area-size 0x5000 -work-area-backup 0
</I>&gt;<i> Debug: 140 4 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_flash bank stm32.flash stm32x 0x08000000 0 0 0 stm32.cpu
</I>&gt;<i> Debug: 141 4 command.c:151 script_debug(): command - ocd_flash ocd_flash bank stm32.flash stm32x 0x08000000 0 0 0 stm32.cpu
</I>&gt;<i> Debug: 143 4 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 144 4 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 145 4 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 146 4 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 147 4 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 148 4 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_cortex_m3 reset_config sysresetreq
</I>&gt;<i> Debug: 149 4 command.c:151 script_debug(): command - ocd_cortex_m3 ocd_cortex_m3 reset_config sysresetreq
</I>&gt;<i> User : 151 4 command.c:557 command_print(): cortex_m3 reset_config sysresetreq
</I>&gt;<i> Debug: 152 4 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_init
</I>&gt;<i> Debug: 153 4 command.c:151 script_debug(): command - init ocd_init
</I>&gt;<i> Debug: 155 4 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_target init
</I>&gt;<i> Debug: 156 4 command.c:151 script_debug(): command - ocd_target ocd_target init
</I>&gt;<i> Debug: 158 4 target.c:930 handle_target_init_command(): Initializing targets...
</I>&gt;<i> Debug: 159 4 command.c:364 register_command_handler(): registering 'ocd_target_request'...
</I>&gt;<i> Debug: 160 4 command.c:364 register_command_handler(): registering 'ocd_trace'...
</I>&gt;<i> Debug: 161 4 command.c:364 register_command_handler(): registering 'ocd_trace'...
</I>&gt;<i> Debug: 162 4 command.c:364 register_command_handler(): registering 'ocd_fast_load_image'...
</I>&gt;<i> Debug: 163 4 command.c:364 register_command_handler(): registering 'ocd_fast_load'...
</I>&gt;<i> Debug: 164 4 command.c:364 register_command_handler(): registering 'ocd_profile'...
</I>&gt;<i> Debug: 165 4 command.c:364 register_command_handler(): registering 'ocd_virt2phys'...
</I>&gt;<i> Debug: 166 4 command.c:364 register_command_handler(): registering 'ocd_reg'...
</I>&gt;<i> Debug: 167 4 command.c:364 register_command_handler(): registering 'ocd_poll'...
</I>&gt;<i> Debug: 168 4 command.c:364 register_command_handler(): registering 'ocd_wait_halt'...
</I>&gt;<i> Debug: 169 4 command.c:364 register_command_handler(): registering 'ocd_halt'...
</I>&gt;<i> Debug: 170 4 command.c:364 register_command_handler(): registering 'ocd_resume'...
</I>&gt;<i> Debug: 171 4 command.c:364 register_command_handler(): registering 'ocd_reset'...
</I>&gt;<i> Debug: 172 4 command.c:364 register_command_handler(): registering 'ocd_soft_reset_halt'...
</I>&gt;<i> Debug: 173 4 command.c:364 register_command_handler(): registering 'ocd_step'...
</I>&gt;<i> Debug: 174 4 command.c:364 register_command_handler(): registering 'ocd_mdw'...
</I>&gt;<i> Debug: 175 4 command.c:364 register_command_handler(): registering 'ocd_mdh'...
</I>&gt;<i> Debug: 176 4 command.c:364 register_command_handler(): registering 'ocd_mdb'...
</I>&gt;<i> Debug: 177 4 command.c:364 register_command_handler(): registering 'ocd_mww'...
</I>&gt;<i> Debug: 178 4 command.c:364 register_command_handler(): registering 'ocd_mwh'...
</I>&gt;<i> Debug: 179 4 command.c:364 register_command_handler(): registering 'ocd_mwb'...
</I>&gt;<i> Debug: 180 4 command.c:364 register_command_handler(): registering 'ocd_bp'...
</I>&gt;<i> Debug: 181 4 command.c:364 register_command_handler(): registering 'ocd_rbp'...
</I>&gt;<i> Debug: 182 4 command.c:364 register_command_handler(): registering 'ocd_wp'...
</I>&gt;<i> Debug: 183 4 command.c:364 register_command_handler(): registering 'ocd_rwp'...
</I>&gt;<i> Debug: 184 4 command.c:364 register_command_handler(): registering 'ocd_load_image'...
</I>&gt;<i> Debug: 185 4 command.c:364 register_command_handler(): registering 'ocd_dump_image'...
</I>&gt;<i> Debug: 186 4 command.c:364 register_command_handler(): registering 'ocd_verify_image'...
</I>&gt;<i> Debug: 187 4 command.c:364 register_command_handler(): registering 'ocd_test_image'...
</I>&gt;<i> Debug: 188 4 command.c:364 register_command_handler(): registering 'ocd_reset_nag'...
</I>&gt;<i> Debug: 189 6 rlink.c:1584 rlink_init(): Opened device, pHDev = 0x818e820
</I>&gt;<i> Debug: 190 7 rlink.c:1604 rlink_init(): interface claimed!
</I>&gt;<i> Debug: 191 10 rlink.c:1650 rlink_init(): RLink firmware version: 0.0.3
</I>&gt;<i> Debug: 192 13 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 193 13 core.c:1606 adapter_khz_to_speed(): have interface set up
</I>&gt;<i> Debug: 194 27 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 195 27 core.c:1606 adapter_khz_to_speed(): have interface set up
</I>&gt;<i> Info : 196 27 core.c:1421 adapter_init(): clock speed 375 kHz
</I>&gt;<i> Debug: 197 27 openocd.c:137 handle_init_command(): Debug Adapter init complete
</I>&gt;<i> Debug: 198 27 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_transport init
</I>&gt;<i> Debug: 199 28 command.c:151 script_debug(): command - ocd_transport ocd_transport init
</I>&gt;<i> Debug: 201 28 transport.c:255 handle_transport_init(): handle_transport_init
</I>&gt;<i> Debug: 202 29 core.c:713 jtag_add_reset(): SRST line released
</I>&gt;<i> Debug: 203 29 core.c:737 jtag_add_reset(): TRST line released
</I>&gt;<i> Debug: 204 29 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 205 231 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag arp_init
</I>&gt;<i> Debug: 206 231 command.c:151 script_debug(): command - ocd_jtag ocd_jtag arp_init
</I>&gt;<i> Debug: 207 231 core.c:1435 jtag_init_inner(): Init JTAG chain
</I>&gt;<i> Debug: 208 231 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 209 231 rlink.c:507 dtc_run_download(): : 3/0
</I>&gt;<i> Debug: 210 232 core.c:1055 jtag_examine_chain(): DR scan interrogation for IDCODE/BYPASS
</I>&gt;<i> Debug: 211 232 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 212 233 rlink.c:507 dtc_run_download(): : 71/64
</I>&gt;<i> Debug: 213 236 rlink.c:507 dtc_run_download(): : 22/17
</I>&gt;<i> Info : 214 237 core.c:955 jtag_examine_chain_display(): JTAG tap: stm32.cpu tap/device found: 0x3ba00477 (mfg: 0x23b, part: 0xba00, ver: 0x3)
</I>&gt;<i> Info : 215 237 core.c:955 jtag_examine_chain_display(): JTAG tap: stm32.bs tap/device found: 0x06418041 (mfg: 0x020, part: 0x6418, ver: 0x0)
</I>&gt;<i> Debug: 216 237 core.c:1219 jtag_validate_ircapture(): IR capture validation scan
</I>&gt;<i> Debug: 217 238 rlink.c:507 dtc_run_download(): : 10/3
</I>&gt;<i> Debug: 218 239 core.c:1280 jtag_validate_ircapture(): stm32.cpu: IR capture 0x01
</I>&gt;<i> Debug: 219 239 core.c:1280 jtag_validate_ircapture(): stm32.bs: IR capture 0x01
</I>&gt;<i> Debug: 220 239 openocd.c:150 handle_init_command(): Examining targets...
</I>&gt;<i> Debug: 221 239 arm_adi_v5.c:987 ahbap_debugport_init():
</I>&gt;<i> Debug: 222 239 rlink.c:507 dtc_run_download(): : 88/12
</I>&gt;<i> Debug: 223 242 rlink.c:507 dtc_run_download(): : 115/12
</I>&gt;<i> Debug: 224 245 target.c:1606 target_read_u32(): address: 0xe000ed00, value: 0x411fc231
</I>&gt;<i> Debug: 225 245 cortex_m3.c:1907 cortex_m3_examine(): Cortex-M3 r1p1 processor detected
</I>&gt;<i> Debug: 226 245 cortex_m3.c:1908 cortex_m3_examine(): cpuid: 0x411fc231
</I>&gt;<i> Debug: 227 245 rlink.c:507 dtc_run_download(): : 65/12
</I>&gt;<i> Debug: 228 247 target.c:1606 target_read_u32(): address: 0xe0002000, value: 0x00000260
</I>&gt;<i> Debug: 229 247 cortex_m3.c:1925 cortex_m3_examine(): FPB fpcr 0x260, numcode 6, numlit 2
</I>&gt;<i> Debug: 230 248 rlink.c:507 dtc_run_download(): : 65/12
</I>&gt;<i> Debug: 231 250 target.c:1606 target_read_u32(): address: 0xe0001000, value: 0x40000000
</I>&gt;<i> Debug: 232 250 cortex_m3.c:1877 cortex_m3_dwt_setup(): DWT dwtcr 0x40000000, comp 4, watch/trigger
</I>&gt;<i> Info : 233 250 cortex_m3.c:1934 cortex_m3_examine(): stm32.cpu: hardware has 6 breakpoints, 4 watchpoints
</I>&gt;<i> Debug: 234 250 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_flash init
</I>&gt;<i> Debug: 235 250 command.c:151 script_debug(): command - ocd_flash ocd_flash init
</I>&gt;<i> Debug: 236 250 rlink.c:507 dtc_run_download(): : 95/12
</I>&gt;<i> Debug: 237 253 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 239 255 tcl.c:912 handle_flash_init_command(): Initializing flash devices...
</I>&gt;<i> Debug: 240 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 241 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 242 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 243 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 244 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 245 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 246 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 247 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 248 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 249 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 250 255 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 251 255 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_mflash init
</I>&gt;<i> Debug: 252 255 command.c:151 script_debug(): command - ocd_mflash ocd_mflash init
</I>&gt;<i> Debug: 253 255 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 255 257 mflash.c:1331 handle_mflash_init_command(): Initializing mflash devices...
</I>&gt;<i> Debug: 256 257 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_nand init
</I>&gt;<i> Debug: 257 257 command.c:151 script_debug(): command - ocd_nand ocd_nand init
</I>&gt;<i> Debug: 258 258 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 260 260 tcl.c:521 handle_nand_init_command(): Initializing NAND devices...
</I>&gt;<i> Debug: 261 260 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_pld init
</I>&gt;<i> Debug: 262 260 command.c:151 script_debug(): command - ocd_pld ocd_pld init
</I>&gt;<i> Debug: 263 260 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 265 262 pld.c:232 handle_pld_init_command(): Initializing PLDs...
</I>&gt;<i> Debug: 266 362 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 267 465 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 268 567 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 269 669 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 270 771 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 271 873 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 272 975 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 273 1077 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 274 1180 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 275 1282 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 276 1384 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 277 1486 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 278 1589 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 279 1691 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 280 1792 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 281 1894 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 282 1997 rlink.c:507 dtc_run_download(): : 55/12
</I>&gt;<i> Debug: 283 2099 rlink.c:507 dtc_run_download(): : 55/12
</I>



After applying patch 5/7 startup fails:


&gt;<i> Open On-Chip Debugger 0.5.0-dev-00959-gd6c42bf (2011-07-22-00:16)
</I>&gt;<i> Licensed under GNU GPL v2
</I>&gt;<i> For bug reports, read
</I>&gt;<i> 	<A HREF="http://openocd.berlios.de/doc/doxygen/bugs.html">http://openocd.berlios.de/doc/doxygen/bugs.html</A>
</I>&gt;<i> User : 11 1 command.c:557 command_print(): debug_level: 3
</I>&gt;<i> Debug: 12 1 configuration.c:45 add_script_search_dir(): adding tcl/
</I>&gt;<i> Debug: 13 1 configuration.c:45 add_script_search_dir(): adding /root/.openocd
</I>&gt;<i> Debug: 14 1 configuration.c:45 add_script_search_dir(): adding /usr/local/share/openocd/site
</I>&gt;<i> Debug: 15 1 configuration.c:45 add_script_search_dir(): adding /usr/local/share/openocd/scripts
</I>&gt;<i> Debug: 16 2 configuration.c:87 find_file(): found tcl//interface/rlink.cfg
</I>&gt;<i> Debug: 17 2 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_interface rlink
</I>&gt;<i> Debug: 18 2 command.c:151 script_debug(): command - interface ocd_interface rlink
</I>&gt;<i> Warn : 20 2 adapter.c:167 handle_interface_command(): Adapter driver 'rlink' did not declare which transports it allows; assuming legacy JTAG-only
</I>&gt;<i> Info : 21 2 transport.c:123 allow_transports(): only one transport option; autoselect 'jtag'
</I>&gt;<i> Debug: 22 2 command.c:364 register_command_handler(): registering 'ocd_jtag_flush_queue_sleep'...
</I>&gt;<i> Debug: 23 2 command.c:364 register_command_handler(): registering 'ocd_jtag_rclk'...
</I>&gt;<i> Debug: 24 2 command.c:364 register_command_handler(): registering 'ocd_jtag_ntrst_delay'...
</I>&gt;<i> Debug: 25 2 command.c:364 register_command_handler(): registering 'ocd_jtag_ntrst_assert_width'...
</I>&gt;<i> Debug: 26 2 command.c:364 register_command_handler(): registering 'ocd_scan_chain'...
</I>&gt;<i> Debug: 27 2 command.c:364 register_command_handler(): registering 'ocd_jtag_reset'...
</I>&gt;<i> Debug: 28 2 command.c:364 register_command_handler(): registering 'ocd_runtest'...
</I>&gt;<i> Debug: 29 2 command.c:364 register_command_handler(): registering 'ocd_irscan'...
</I>&gt;<i> Debug: 30 2 command.c:364 register_command_handler(): registering 'ocd_verify_ircapture'...
</I>&gt;<i> Debug: 31 2 command.c:364 register_command_handler(): registering 'ocd_verify_jtag'...
</I>&gt;<i> Debug: 32 2 command.c:364 register_command_handler(): registering 'ocd_tms_sequence'...
</I>&gt;<i> Debug: 33 2 command.c:364 register_command_handler(): registering 'ocd_wait_srst_deassert'...
</I>&gt;<i> Debug: 34 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 35 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 36 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 37 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 38 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 39 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 40 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 41 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 42 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 43 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 44 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 45 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 46 2 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 47 2 command.c:364 register_command_handler(): registering 'ocd_svf'...
</I>&gt;<i> Debug: 48 2 command.c:364 register_command_handler(): registering 'ocd_xsvf'...
</I>&gt;<i> Debug: 49 2 configuration.c:87 find_file(): found tcl//board/olimex_stm32_h103.cfg
</I>&gt;<i> Debug: 50 2 configuration.c:87 find_file(): found tcl//target/stm32.cfg
</I>&gt;<i> Debug: 51 3 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_adapter_khz 1000
</I>&gt;<i> Debug: 52 3 command.c:151 script_debug(): command - adapter_khz ocd_adapter_khz 1000
</I>&gt;<i> Debug: 54 3 core.c:1639 jtag_config_khz(): handle jtag khz
</I>&gt;<i> Debug: 55 3 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 56 3 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> User : 57 3 command.c:557 command_print(): 1000 kHz
</I>&gt;<i> Debug: 58 3 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_adapter_nsrst_delay 100
</I>&gt;<i> Debug: 59 3 command.c:151 script_debug(): command - adapter_nsrst_delay ocd_adapter_nsrst_delay 100
</I>&gt;<i> User : 61 3 command.c:557 command_print(): adapter_nsrst_delay: 100
</I>&gt;<i> Debug: 62 3 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag_ntrst_delay 100
</I>&gt;<i> Debug: 63 3 command.c:151 script_debug(): command - jtag_ntrst_delay ocd_jtag_ntrst_delay 100
</I>&gt;<i> User : 65 3 command.c:557 command_print(): jtag_ntrst_delay: 100
</I>&gt;<i> Debug: 66 3 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap stm32 cpu -irlen 4 -ircapture 0x1 -irmask 0xf -expected-id 0x3ba00477
</I>&gt;<i> Debug: 67 3 command.c:151 script_debug(): command - ocd_jtag ocd_jtag newtap stm32 cpu -irlen 4 -ircapture 0x1 -irmask 0xf -expected-id 0x3ba00477
</I>&gt;<i> Debug: 68 3 tcl.c:575 jim_newtap_cmd(): Creating New Tap, Chip: stm32, Tap: cpu, Dotted: stm32.cpu, 8 params
</I>&gt;<i> Debug: 69 3 tcl.c:592 jim_newtap_cmd(): Processing option: -irlen
</I>&gt;<i> Debug: 70 3 tcl.c:592 jim_newtap_cmd(): Processing option: -ircapture
</I>&gt;<i> Debug: 71 3 tcl.c:592 jim_newtap_cmd(): Processing option: -irmask
</I>&gt;<i> Debug: 72 3 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 73 3 core.c:1337 jtag_tap_init(): Created Tap: stm32.cpu @ abs position 0, irlen 4, capture: 0x1 mask: 0xf
</I>&gt;<i> Debug: 74 3 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap stm32 bs -irlen 5 -expected-id 0x06412041 -expected-id 0x06410041 -expected-id 0x16410041 -expected-id 0x06420041 -expected-id 0x06414041 -expected-id 0x06418041 -expected-id 0x06430041
</I>&gt;<i> Debug: 75 3 command.c:151 script_debug(): command - ocd_jtag ocd_jtag newtap stm32 bs -irlen 5 -expected-id 0x06412041 -expected-id 0x06410041 -expected-id 0x16410041 -expected-id 0x06420041 -expected-id 0x06414041 -expected-id 0x06418041 -expected-id 0x06430041
</I>&gt;<i> Debug: 76 3 tcl.c:575 jim_newtap_cmd(): Creating New Tap, Chip: stm32, Tap: bs, Dotted: stm32.bs, 16 params
</I>&gt;<i> Debug: 77 4 tcl.c:592 jim_newtap_cmd(): Processing option: -irlen
</I>&gt;<i> Debug: 78 4 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 79 4 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 80 4 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 81 4 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 82 4 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 83 4 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 84 4 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 85 4 core.c:1337 jtag_tap_init(): Created Tap: stm32.bs @ abs position 0, irlen 5, capture: 0x1 mask: 0x3
</I>&gt;<i> Debug: 86 4 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_target create stm32.cpu cortex_m3 -endian little -chain-position stm32.cpu
</I>&gt;<i> Debug: 87 4 command.c:151 script_debug(): command - ocd_target ocd_target create stm32.cpu cortex_m3 -endian little -chain-position stm32.cpu
</I>&gt;<i> Debug: 88 4 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 89 4 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 90 4 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 91 4 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 92 4 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 93 4 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 94 4 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 95 4 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 96 4 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 97 4 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 98 4 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 99 4 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 100 4 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 101 4 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 102 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 103 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 104 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 105 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 106 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 107 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 108 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 109 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 110 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 111 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 112 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 113 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 114 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 115 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 116 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 117 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 118 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 119 4 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 120 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 121 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 122 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 123 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 124 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 125 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 126 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 127 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 128 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 129 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 130 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 131 5 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 132 6 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 133 6 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 134 6 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 135 6 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 136 6 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 137 6 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 138 7 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_stm32.cpu configure -work-area-phys 0x20000000 -work-area-size 0x5000 -work-area-backup 0
</I>&gt;<i> Debug: 139 7 command.c:151 script_debug(): command - ocd_stm32.cpu ocd_stm32.cpu configure -work-area-phys 0x20000000 -work-area-size 0x5000 -work-area-backup 0
</I>&gt;<i> Debug: 140 7 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_flash bank stm32.flash stm32x 0x08000000 0 0 0 stm32.cpu
</I>&gt;<i> Debug: 141 7 command.c:151 script_debug(): command - ocd_flash ocd_flash bank stm32.flash stm32x 0x08000000 0 0 0 stm32.cpu
</I>&gt;<i> Debug: 143 7 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 144 7 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 145 7 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 146 7 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 147 7 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 148 7 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_cortex_m3 reset_config sysresetreq
</I>&gt;<i> Debug: 149 7 command.c:151 script_debug(): command - ocd_cortex_m3 ocd_cortex_m3 reset_config sysresetreq
</I>&gt;<i> User : 151 7 command.c:557 command_print(): cortex_m3 reset_config sysresetreq
</I>&gt;<i> Debug: 152 7 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_init
</I>&gt;<i> Debug: 153 7 command.c:151 script_debug(): command - init ocd_init
</I>&gt;<i> Debug: 155 7 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_target init
</I>&gt;<i> Debug: 156 7 command.c:151 script_debug(): command - ocd_target ocd_target init
</I>&gt;<i> Debug: 158 7 target.c:930 handle_target_init_command(): Initializing targets...
</I>&gt;<i> Debug: 159 7 command.c:364 register_command_handler(): registering 'ocd_target_request'...
</I>&gt;<i> Debug: 160 7 command.c:364 register_command_handler(): registering 'ocd_trace'...
</I>&gt;<i> Debug: 161 7 command.c:364 register_command_handler(): registering 'ocd_trace'...
</I>&gt;<i> Debug: 162 7 command.c:364 register_command_handler(): registering 'ocd_fast_load_image'...
</I>&gt;<i> Debug: 163 7 command.c:364 register_command_handler(): registering 'ocd_fast_load'...
</I>&gt;<i> Debug: 164 7 command.c:364 register_command_handler(): registering 'ocd_profile'...
</I>&gt;<i> Debug: 165 7 command.c:364 register_command_handler(): registering 'ocd_virt2phys'...
</I>&gt;<i> Debug: 166 7 command.c:364 register_command_handler(): registering 'ocd_reg'...
</I>&gt;<i> Debug: 167 7 command.c:364 register_command_handler(): registering 'ocd_poll'...
</I>&gt;<i> Debug: 168 7 command.c:364 register_command_handler(): registering 'ocd_wait_halt'...
</I>&gt;<i> Debug: 169 7 command.c:364 register_command_handler(): registering 'ocd_halt'...
</I>&gt;<i> Debug: 170 7 command.c:364 register_command_handler(): registering 'ocd_resume'...
</I>&gt;<i> Debug: 171 8 command.c:364 register_command_handler(): registering 'ocd_reset'...
</I>&gt;<i> Debug: 172 8 command.c:364 register_command_handler(): registering 'ocd_soft_reset_halt'...
</I>&gt;<i> Debug: 173 8 command.c:364 register_command_handler(): registering 'ocd_step'...
</I>&gt;<i> Debug: 174 8 command.c:364 register_command_handler(): registering 'ocd_mdw'...
</I>&gt;<i> Debug: 175 8 command.c:364 register_command_handler(): registering 'ocd_mdh'...
</I>&gt;<i> Debug: 176 8 command.c:364 register_command_handler(): registering 'ocd_mdb'...
</I>&gt;<i> Debug: 177 8 command.c:364 register_command_handler(): registering 'ocd_mww'...
</I>&gt;<i> Debug: 178 8 command.c:364 register_command_handler(): registering 'ocd_mwh'...
</I>&gt;<i> Debug: 179 8 command.c:364 register_command_handler(): registering 'ocd_mwb'...
</I>&gt;<i> Debug: 180 8 command.c:364 register_command_handler(): registering 'ocd_bp'...
</I>&gt;<i> Debug: 181 8 command.c:364 register_command_handler(): registering 'ocd_rbp'...
</I>&gt;<i> Debug: 182 8 command.c:364 register_command_handler(): registering 'ocd_wp'...
</I>&gt;<i> Debug: 183 8 command.c:364 register_command_handler(): registering 'ocd_rwp'...
</I>&gt;<i> Debug: 184 8 command.c:364 register_command_handler(): registering 'ocd_load_image'...
</I>&gt;<i> Debug: 185 8 command.c:364 register_command_handler(): registering 'ocd_dump_image'...
</I>&gt;<i> Debug: 186 8 command.c:364 register_command_handler(): registering 'ocd_verify_image'...
</I>&gt;<i> Debug: 187 8 command.c:364 register_command_handler(): registering 'ocd_test_image'...
</I>&gt;<i> Debug: 188 8 command.c:364 register_command_handler(): registering 'ocd_reset_nag'...
</I>&gt;<i> Debug: 189 138 rlink.c:1580 rlink_init(): Opened device, pHDev = 0x818e820
</I>&gt;<i> Debug: 190 138 rlink.c:1600 rlink_init(): interface claimed!
</I>&gt;<i> Debug: 191 141 rlink.c:1646 rlink_init(): RLink firmware version: 0.0.3
</I>&gt;<i> Debug: 192 145 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 193 145 core.c:1606 adapter_khz_to_speed(): have interface set up
</I>&gt;<i> Debug: 194 159 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 195 159 core.c:1606 adapter_khz_to_speed(): have interface set up
</I>&gt;<i> Info : 196 159 core.c:1421 adapter_init(): clock speed 375 kHz
</I>&gt;<i> Debug: 197 159 openocd.c:137 handle_init_command(): Debug Adapter init complete
</I>&gt;<i> Debug: 198 159 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_transport init
</I>&gt;<i> Debug: 199 159 command.c:151 script_debug(): command - ocd_transport ocd_transport init
</I>&gt;<i> Debug: 201 159 transport.c:255 handle_transport_init(): handle_transport_init
</I>&gt;<i> Debug: 202 161 core.c:713 jtag_add_reset(): SRST line released
</I>&gt;<i> Debug: 203 161 core.c:737 jtag_add_reset(): TRST line released
</I>&gt;<i> Debug: 204 161 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 205 362 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag arp_init
</I>&gt;<i> Debug: 206 363 command.c:151 script_debug(): command - ocd_jtag ocd_jtag arp_init
</I>&gt;<i> Debug: 207 363 core.c:1435 jtag_init_inner(): Init JTAG chain
</I>&gt;<i> Debug: 208 363 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 209 363 rlink.c:507 dtc_run_download(): : 3/0
</I>&gt;<i> Debug: 210 364 core.c:1055 jtag_examine_chain(): DR scan interrogation for IDCODE/BYPASS
</I>&gt;<i> Debug: 211 364 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 212 364 rlink.c:507 dtc_run_download(): : 71/64
</I>&gt;<i> Debug: 213 367 rlink.c:507 dtc_run_download(): : 22/17
</I>&gt;<i> Error: 214 368 rlink.c:560 dtc_run_download(): rlink.c, 560: Read of endpoint 2 returned -75, expected 17
</I>&gt;<i> Error: 215 368 rlink.c:692 dtc_queue_run(): dtc_run_download: Value too large for defined data type
</I>

Peter

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020365.html">[Openocd-development] [PATCH 0/7] RLink interface speedup,	and fixes
</A></li>
	<LI>Next message: <A HREF="020360.html">[Openocd-development] [PATCH 0/7] RLink interface speedup,	and fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20367">[ date ]</a>
              <a href="thread.html#20367">[ thread ]</a>
              <a href="subject.html#20367">[ subject ]</a>
              <a href="author.html#20367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
