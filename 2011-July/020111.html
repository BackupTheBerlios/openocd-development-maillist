<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] SRST TRST have to be buffered?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20SRST%20TRST%20have%20to%20be%20buffered%3F&In-Reply-To=%3C1310143866.89329.YahooMailNeo%40web33508.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020112.html">
   <LINK REL="Next"  HREF="020113.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] SRST TRST have to be buffered?</H1>
    <B>Phil Fong</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20SRST%20TRST%20have%20to%20be%20buffered%3F&In-Reply-To=%3C1310143866.89329.YahooMailNeo%40web33508.mail.mud.yahoo.com%3E"
       TITLE="[Openocd-development] SRST TRST have to be buffered?">fongpwf at yahoo.com
       </A><BR>
    <I>Fri Jul  8 18:51:06 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="020112.html">[Openocd-development] SRST TRST have to be buffered?
</A></li>
        <LI>Next message: <A HREF="020113.html">[Openocd-development] SRST TRST have to be buffered?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20111">[ date ]</a>
              <a href="thread.html#20111">[ thread ]</a>
              <a href="subject.html#20111">[ subject ]</a>
              <a href="author.html#20111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>




&gt;<i>________________________________
</I>&gt;<i>
</I>&gt;<i>I'm trying to embed a FT2232D based programmer into my board with a STM32 (Cortex-M3 MCU).
</I>&gt;<i>
</I>&gt;<i>I want the programmer to be compatible with jtagkey, so I looked at schematics of compaible designs.
</I>&gt;<i>
</I>&gt;<i>I noticed that while the JTAG signals (TCK, TDI, TDO, TMS) are only buffered when translation is necessary, the SRST and TRST signals are always tri-state buffered, with OE going into the FTDI chip.
</I>&gt;<i>
</I>&gt;<i>Is there a reason for that? Can I omit the buffers?
</I>&gt;<i>
</I>&gt;<i>
</I>Since
 you are embedding the JTAG interface with the target, you can tell if 
buffering is needed.&#160; We just went through a similar exercise and you 
can pretty much hook everything up directly and use the FTDI MiniModule 
layout (see commit from Rodrigo Rosa) if you target circuit is right.



Also, I heard it's possible to omit the TRST signal and only keep the SRST signal, because system reset will also reset the TAP controller. Is that true? Are there problems with that?
&gt;<i>
</I>&gt;<i>TRST is optional since you can reset the JTAG TAP state machine with clocking TCK which TMS=1.
</I>SRST might be needed for other reasons.&#160; For example some chips need it as part of some kind of flash / code protection enable/disable.


Phil
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110708/2abd6c0c/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20110708/2abd6c0c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020112.html">[Openocd-development] SRST TRST have to be buffered?
</A></li>
	<LI>Next message: <A HREF="020113.html">[Openocd-development] SRST TRST have to be buffered?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20111">[ date ]</a>
              <a href="thread.html#20111">[ thread ]</a>
              <a href="subject.html#20111">[ subject ]</a>
              <a href="author.html#20111">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
