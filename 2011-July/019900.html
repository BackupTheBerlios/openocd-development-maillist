<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] eclipse indigo (pipe usage)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20eclipse%20indigo%20%28pipe%20usage%29&In-Reply-To=%3C4E0D09B6.6020902%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019899.html">
   <LINK REL="Next"  HREF="019910.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] eclipse indigo (pipe usage)</H1>
    <B>Andrew Leech</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20eclipse%20indigo%20%28pipe%20usage%29&In-Reply-To=%3C4E0D09B6.6020902%40gmail.com%3E"
       TITLE="[Openocd-development] eclipse indigo (pipe usage)">coronasensei at gmail.com
       </A><BR>
    <I>Fri Jul  1 01:41:42 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019899.html">[Openocd-development] eclipse indigo
</A></li>
        <LI>Next message: <A HREF="019910.html">[Openocd-development] eclipse indigo (pipe usage)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19900">[ date ]</a>
              <a href="thread.html#19900">[ thread ]</a>
              <a href="subject.html#19900">[ subject ]</a>
              <a href="author.html#19900">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 30/06/2011 6:13 PM, Spencer Oliver wrote:
&gt;<i> On 30 June 2011 07:47, Andrew Leech&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">coronasensei at gmail.com</A>&gt;  wrote:
</I>&gt;&gt;<i> Have you used it successfully? Helios has that too (since early 2011?), but
</I>&gt;&gt;<i> I've never got it running. I've just updated to indigo and still can't make
</I>&gt;&gt;<i> it work.
</I>&gt;<i> I ran a few tests yesterday and it worked fine.
</I>&gt;<i> ubuntu was easier to setup than windoze, but both worked.
</I>&gt;<i>
</I>&gt;<i> The gdb connect line used was | openocd as --pipe is now deprecated.
</I>&gt;<i> Try putting all the options in openocd.cfg - gdb_port pipe first. When
</I>&gt;<i> we switch to using pipes then openocd will automatically use
</I>&gt;<i> openocd.log
</I>&gt;<i>
</I>&gt;<i> Cheers
</I>&gt;<i> Spen
</I>Thanks for that Spen, great to know it can work. I had already tried 
with gdb_port pipe instread after seeing hte deprecation notice in the 
log, although it didn't make any difference. I also hadn't tried moving 
all those config's into the openocd.cfg file, and yeah it makes it a 
little neater, but didn't fix it, I still had it hanging at the same 
point. I haven't been getting a log file though that I can find in pipe 
mode without explicitly setting one.

Had a random thought, and tried it with sourcery-g++-lite's gdb rather 
than my usual yagarto gdb, and all of a sudden it worked! So there's 
something different/wrong with the yagarto gdb in pipe usage, haven't 
exported full debug logs for both gdb's yet to see where the problem is 
though.

Only problem is, it's incredibly slow, unusably slow. A single step can 
take 5 seconds, where on a normal tcp connection with same configs feels 
close to instant, so maybe about 1/4 of a second. Did your windows one 
behave better? If so, do you know what version/release of gdb you used?

One other point, do you know whether you can get openocd to add it's own 
program directory to the search path for the source [find ...] lines? 
It'd be great to only need the openocd.cfg file in the eclipse project 
dir, and have it reference the interface and target files from the 
common openocd folder. Otherwise I'll likely copy the contents of the 
files into my openocd.cfg rather than have a copy of target and 
interface folders in all my project folders.

I hope I can get pipe working, I've wanted to use this for ages, just 
makes the toolchain feel a lot more professional.

Cheers,
Andrew



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019899.html">[Openocd-development] eclipse indigo
</A></li>
	<LI>Next message: <A HREF="019910.html">[Openocd-development] eclipse indigo (pipe usage)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19900">[ date ]</a>
              <a href="thread.html#19900">[ thread ]</a>
              <a href="subject.html#19900">[ subject ]</a>
              <a href="author.html#19900">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
