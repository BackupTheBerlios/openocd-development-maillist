<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 0/7] RLink interface speedup, and fixes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%200/7%5D%20RLink%20interface%20speedup%2C%0A%20and%20fixes&In-Reply-To=%3C4E29734D.2040800%40bluewin.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020358.html">
   <LINK REL="Next"  HREF="020365.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 0/7] RLink interface speedup, and fixes</H1>
    <B>Peter Horn</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%200/7%5D%20RLink%20interface%20speedup%2C%0A%20and%20fixes&In-Reply-To=%3C4E29734D.2040800%40bluewin.ch%3E"
       TITLE="[Openocd-development] [PATCH 0/7] RLink interface speedup, and fixes">peter.horn at bluewin.ch
       </A><BR>
    <I>Fri Jul 22 14:55:41 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="020358.html">[Openocd-development] [PATCH 0/7] RLink interface speedup,	and fixes
</A></li>
        <LI>Next message: <A HREF="020365.html">[Openocd-development] [PATCH 0/7] RLink interface speedup,	and fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20359">[ date ]</a>
              <a href="thread.html#20359">[ thread ]</a>
              <a href="subject.html#20359">[ subject ]</a>
              <a href="author.html#20359">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Am 22.07.2011 13:36, schrieb Andreas Fritiofson:
&gt;<i>
</I>&gt;<i> I don't see how this error could be caused by my patches. If I'm not
</I>&gt;<i> mistaken, none of them have run at this point. It fails during init, and
</I>&gt;<i> that code is unchanged with the exception of some indentation fixes and
</I>&gt;<i> AFAICT they're OK.
</I>&gt;<i>
</I>&gt;<i> Can you reverify with unpatched tree?
</I>&gt;<i>
</I>&gt;<i> /Andreas
</I>&gt;<i>
</I>
Hi Andreas

I did:

$ cp openocd-rlink-patched openocd
$ cd openocd
$ git reset --hard HEAD
$ make clean
$ make all

$ src/openocd.exe -d -s tcl -f interface/rlink.cfg -f 
board/stm3210c_eval.cfg

This yields:

&gt;<i> Open On-Chip Debugger 0.5.0-dev-snapshot (2011-07-22-12:47)
</I>&gt;<i> Licensed under GNU GPL v2
</I>&gt;<i> For bug reports, read
</I>&gt;<i> 	<A HREF="http://openocd.berlios.de/doc/doxygen/bugs.html">http://openocd.berlios.de/doc/doxygen/bugs.html</A>
</I>&gt;<i> User : 11 15 command.c:557 command_print(): debug_level: 3
</I>&gt;<i> Debug: 12 15 configuration.c:45 add_script_search_dir(): adding tcl
</I>&gt;<i> Debug: 13 15 configuration.c:45 add_script_search_dir(): adding w:\openocd\src\..
</I>&gt;<i> Debug: 14 15 configuration.c:45 add_script_search_dir(): adding w:/openocd/src/../share/openocd/scripts
</I>&gt;<i> Debug: 15 15 configuration.c:87 find_file(): found tcl/interface/rlink.cfg
</I>&gt;<i> Debug: 16 15 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_interface rlink
</I>&gt;<i> Debug: 17 15 command.c:151 script_debug(): command - interface ocd_interface rlink
</I>&gt;<i> Warn : 19 15 adapter.c:167 handle_interface_command(): Adapter driver 'rlink' did not declare which transports it allows; assuming legacy JTAG-only
</I>&gt;<i> Info : 20 15 transport.c:123 allow_transports(): only one transport option; autoselect 'jtag'
</I>&gt;<i> Debug: 21 15 command.c:364 register_command_handler(): registering 'ocd_jtag_flush_queue_sleep'...
</I>&gt;<i> Debug: 22 15 command.c:364 register_command_handler(): registering 'ocd_jtag_rclk'...
</I>&gt;<i> Debug: 23 15 command.c:364 register_command_handler(): registering 'ocd_jtag_ntrst_delay'...
</I>&gt;<i> Debug: 24 15 command.c:364 register_command_handler(): registering 'ocd_jtag_ntrst_assert_width'...
</I>&gt;<i> Debug: 25 15 command.c:364 register_command_handler(): registering 'ocd_scan_chain'...
</I>&gt;<i> Debug: 26 15 command.c:364 register_command_handler(): registering 'ocd_jtag_reset'...
</I>&gt;<i> Debug: 27 15 command.c:364 register_command_handler(): registering 'ocd_runtest'...
</I>&gt;<i> Debug: 28 15 command.c:364 register_command_handler(): registering 'ocd_irscan'...
</I>&gt;<i> Debug: 29 15 command.c:364 register_command_handler(): registering 'ocd_verify_ircapture'...
</I>&gt;<i> Debug: 30 15 command.c:364 register_command_handler(): registering 'ocd_verify_jtag'...
</I>&gt;<i> Debug: 31 15 command.c:364 register_command_handler(): registering 'ocd_tms_sequence'...
</I>&gt;<i> Debug: 32 15 command.c:364 register_command_handler(): registering 'ocd_wait_srst_deassert'...
</I>&gt;<i> Debug: 33 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 34 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 35 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 36 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 37 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 38 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 39 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 40 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 41 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 42 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 43 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 44 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 45 15 command.c:364 register_command_handler(): registering 'ocd_jtag'...
</I>&gt;<i> Debug: 46 15 command.c:364 register_command_handler(): registering 'ocd_svf'...
</I>&gt;<i> Debug: 47 15 command.c:364 register_command_handler(): registering 'ocd_xsvf'...
</I>&gt;<i> Debug: 48 15 configuration.c:87 find_file(): found tcl/board/stm3210c_eval.cfg
</I>&gt;<i> Debug: 49 15 configuration.c:87 find_file(): found tcl/target/stm32.cfg
</I>&gt;<i> Debug: 50 15 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_adapter_khz 1000
</I>&gt;<i> Debug: 51 15 command.c:151 script_debug(): command - adapter_khz ocd_adapter_khz 1000
</I>&gt;<i> Debug: 53 15 core.c:1639 jtag_config_khz(): handle jtag khz
</I>&gt;<i> Debug: 54 15 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 55 15 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> User : 56 15 command.c:557 command_print(): 1000 kHz
</I>&gt;<i> Debug: 57 15 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_adapter_nsrst_delay 100
</I>&gt;<i> Debug: 58 15 command.c:151 script_debug(): command - adapter_nsrst_delay ocd_adapter_nsrst_delay 100
</I>&gt;<i> User : 60 15 command.c:557 command_print(): adapter_nsrst_delay: 100
</I>&gt;<i> Debug: 61 31 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag_ntrst_delay 100
</I>&gt;<i> Debug: 62 31 command.c:151 script_debug(): command - jtag_ntrst_delay ocd_jtag_ntrst_delay 100
</I>&gt;<i> User : 64 31 command.c:557 command_print(): jtag_ntrst_delay: 100
</I>&gt;<i> Debug: 65 31 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap stm32 cpu -irlen 4 -ircapture 0x1 -irmask 0xf -expected-id 0x3ba00477
</I>&gt;<i> Debug: 66 31 command.c:151 script_debug(): command - ocd_jtag ocd_jtag newtap stm32 cpu -irlen 4 -ircapture 0x1 -irmask 0xf -expected-id 0x3ba00477
</I>&gt;<i> Debug: 67 31 tcl.c:575 jim_newtap_cmd(): Creating New Tap, Chip: stm32, Tap: cpu, Dotted: stm32.cpu, 8 params
</I>&gt;<i> Debug: 68 31 tcl.c:592 jim_newtap_cmd(): Processing option: -irlen
</I>&gt;<i> Debug: 69 31 tcl.c:592 jim_newtap_cmd(): Processing option: -ircapture
</I>&gt;<i> Debug: 70 31 tcl.c:592 jim_newtap_cmd(): Processing option: -irmask
</I>&gt;<i> Debug: 71 31 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 72 31 core.c:1337 jtag_tap_init(): Created Tap: stm32.cpu @ abs position 0, irlen 4, capture: 0x1 mask: 0xf
</I>&gt;<i> Debug: 73 31 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap stm32 bs -irlen 5 -expected-id 0x06412041 -expected-id 0x06410041 -expected-id 0x16410041 -expected-id 0x06420041 -expected-id 0x06414041 -expected-id 0x06418041 -expected-id 0x06430041
</I>&gt;<i> Debug: 74 31 command.c:151 script_debug(): command - ocd_jtag ocd_jtag newtap stm32 bs -irlen 5 -expected-id 0x06412041 -expected-id 0x06410041 -expected-id 0x16410041 -expected-id 0x06420041 -expected-id 0x06414041 -expected-id 0x06418041 -expected-id 0x06430041
</I>&gt;<i> Debug: 75 31 tcl.c:575 jim_newtap_cmd(): Creating New Tap, Chip: stm32, Tap: bs, Dotted: stm32.bs, 16 params
</I>&gt;<i> Debug: 76 31 tcl.c:592 jim_newtap_cmd(): Processing option: -irlen
</I>&gt;<i> Debug: 77 31 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 78 31 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 79 31 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 80 31 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 81 31 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 82 31 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 83 31 tcl.c:592 jim_newtap_cmd(): Processing option: -expected-id
</I>&gt;<i> Debug: 84 31 core.c:1337 jtag_tap_init(): Created Tap: stm32.bs @ abs position 0, irlen 5, capture: 0x1 mask: 0x3
</I>&gt;<i> Debug: 85 31 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_target create stm32.cpu cortex_m3 -endian little -chain-position stm32.cpu
</I>&gt;<i> Debug: 86 31 command.c:151 script_debug(): command - ocd_target ocd_target create stm32.cpu cortex_m3 -endian little -chain-position stm32.cpu
</I>&gt;<i> Debug: 87 31 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 88 31 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 89 31 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 90 31 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 91 31 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 92 31 command.c:364 register_command_handler(): registering 'ocd_arm'...
</I>&gt;<i> Debug: 93 31 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 94 31 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 95 31 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 96 31 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 97 31 command.c:364 register_command_handler(): registering 'ocd_dap'...
</I>&gt;<i> Debug: 98 31 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 99 31 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 100 31 command.c:364 register_command_handler(): registering 'ocd_cortex_m3'...
</I>&gt;<i> Debug: 101 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 102 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 103 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 104 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 105 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 106 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 107 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 108 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 109 31 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 110 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 111 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 112 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 113 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 114 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 115 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 116 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 117 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 118 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 119 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 120 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 121 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 122 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 123 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 124 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 125 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 126 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 127 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 128 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 129 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 130 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 131 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 132 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 133 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 134 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 135 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 136 47 command.c:364 register_command_handler(): registering 'ocd_stm32.cpu'...
</I>&gt;<i> Debug: 137 47 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_stm32.cpu configure -work-area-phys 0x20000000 -work-area-size 0x8000 -work-area-backup 0
</I>&gt;<i> Debug: 138 47 command.c:151 script_debug(): command - ocd_stm32.cpu ocd_stm32.cpu configure -work-area-phys 0x20000000 -work-area-size 0x8000 -work-area-backup 0
</I>&gt;<i> Debug: 139 47 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_flash bank stm32.flash stm32x 0x08000000 0 0 0 stm32.cpu
</I>&gt;<i> Debug: 140 47 command.c:151 script_debug(): command - ocd_flash ocd_flash bank stm32.flash stm32x 0x08000000 0 0 0 stm32.cpu
</I>&gt;<i> Debug: 142 47 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 143 47 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 144 47 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 145 47 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 146 47 command.c:364 register_command_handler(): registering 'ocd_stm32x'...
</I>&gt;<i> Debug: 147 47 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_cortex_m3 reset_config sysresetreq
</I>&gt;<i> Debug: 148 47 command.c:151 script_debug(): command - ocd_cortex_m3 ocd_cortex_m3 reset_config sysresetreq
</I>&gt;<i> User : 150 47 command.c:557 command_print(): cortex_m3 reset_config sysresetreq
</I>&gt;<i> Debug: 151 62 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_init
</I>&gt;<i> Debug: 152 62 command.c:151 script_debug(): command - init ocd_init
</I>&gt;<i> Debug: 154 62 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_target init
</I>&gt;<i> Debug: 155 62 command.c:151 script_debug(): command - ocd_target ocd_target init
</I>&gt;<i> Debug: 157 62 target.c:930 handle_target_init_command(): Initializing targets...
</I>&gt;<i> Debug: 158 62 command.c:364 register_command_handler(): registering 'ocd_target_request'...
</I>&gt;<i> Debug: 159 62 command.c:364 register_command_handler(): registering 'ocd_trace'...
</I>&gt;<i> Debug: 160 62 command.c:364 register_command_handler(): registering 'ocd_trace'...
</I>&gt;<i> Debug: 161 62 command.c:364 register_command_handler(): registering 'ocd_fast_load_image'...
</I>&gt;<i> Debug: 162 62 command.c:364 register_command_handler(): registering 'ocd_fast_load'...
</I>&gt;<i> Debug: 163 62 command.c:364 register_command_handler(): registering 'ocd_profile'...
</I>&gt;<i> Debug: 164 62 command.c:364 register_command_handler(): registering 'ocd_virt2phys'...
</I>&gt;<i> Debug: 165 62 command.c:364 register_command_handler(): registering 'ocd_reg'...
</I>&gt;<i> Debug: 166 62 command.c:364 register_command_handler(): registering 'ocd_poll'...
</I>&gt;<i> Debug: 167 62 command.c:364 register_command_handler(): registering 'ocd_wait_halt'...
</I>&gt;<i> Debug: 168 62 command.c:364 register_command_handler(): registering 'ocd_halt'...
</I>&gt;<i> Debug: 169 62 command.c:364 register_command_handler(): registering 'ocd_resume'...
</I>&gt;<i> Debug: 170 62 command.c:364 register_command_handler(): registering 'ocd_reset'...
</I>&gt;<i> Debug: 171 62 command.c:364 register_command_handler(): registering 'ocd_soft_reset_halt'...
</I>&gt;<i> Debug: 172 62 command.c:364 register_command_handler(): registering 'ocd_step'...
</I>&gt;<i> Debug: 173 62 command.c:364 register_command_handler(): registering 'ocd_mdw'...
</I>&gt;<i> Debug: 174 62 command.c:364 register_command_handler(): registering 'ocd_mdh'...
</I>&gt;<i> Debug: 175 62 command.c:364 register_command_handler(): registering 'ocd_mdb'...
</I>&gt;<i> Debug: 176 62 command.c:364 register_command_handler(): registering 'ocd_mww'...
</I>&gt;<i> Debug: 177 62 command.c:364 register_command_handler(): registering 'ocd_mwh'...
</I>&gt;<i> Debug: 178 62 command.c:364 register_command_handler(): registering 'ocd_mwb'...
</I>&gt;<i> Debug: 179 62 command.c:364 register_command_handler(): registering 'ocd_bp'...
</I>&gt;<i> Debug: 180 62 command.c:364 register_command_handler(): registering 'ocd_rbp'...
</I>&gt;<i> Debug: 181 62 command.c:364 register_command_handler(): registering 'ocd_wp'...
</I>&gt;<i> Debug: 182 62 command.c:364 register_command_handler(): registering 'ocd_rwp'...
</I>&gt;<i> Debug: 183 62 command.c:364 register_command_handler(): registering 'ocd_load_image'...
</I>&gt;<i> Debug: 184 62 command.c:364 register_command_handler(): registering 'ocd_dump_image'...
</I>&gt;<i> Debug: 185 62 command.c:364 register_command_handler(): registering 'ocd_verify_image'...
</I>&gt;<i> Debug: 186 62 command.c:364 register_command_handler(): registering 'ocd_test_image'...
</I>&gt;<i> Debug: 187 62 command.c:364 register_command_handler(): registering 'ocd_reset_nag'...
</I>&gt;<i> Debug: 188 125 rlink.c:1595 rlink_init(): Opened device, pHDev = 00ebf528
</I>&gt;<i> Debug: 189 125 rlink.c:1615 rlink_init(): interface claimed!
</I>&gt;<i> Debug: 190 203 rlink.c:1661 rlink_init(): RLink firmware version: 0.0.3
</I>&gt;<i> Debug: 191 234 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 192 234 core.c:1606 adapter_khz_to_speed(): have interface set up
</I>&gt;<i> Debug: 193 297 core.c:1602 adapter_khz_to_speed(): convert khz to interface specific speed value
</I>&gt;<i> Debug: 194 297 core.c:1606 adapter_khz_to_speed(): have interface set up
</I>&gt;<i> Info : 195 297 core.c:1421 adapter_init(): clock speed 375 kHz
</I>&gt;<i> Debug: 196 297 openocd.c:137 handle_init_command(): Debug Adapter init complete
</I>&gt;<i> Debug: 197 297 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_transport init
</I>&gt;<i> Debug: 198 297 command.c:151 script_debug(): command - ocd_transport ocd_transport init
</I>&gt;<i> Debug: 200 297 transport.c:255 handle_transport_init(): handle_transport_init
</I>&gt;<i> Debug: 201 312 core.c:713 jtag_add_reset(): SRST line released
</I>&gt;<i> Debug: 202 312 core.c:737 jtag_add_reset(): TRST line released
</I>&gt;<i> Debug: 203 312 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 205 531 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_jtag arp_init
</I>&gt;<i> Debug: 206 531 command.c:151 script_debug(): command - ocd_jtag ocd_jtag arp_init
</I>&gt;<i> Debug: 207 531 core.c:1435 jtag_init_inner(): Init JTAG chain
</I>&gt;<i> Debug: 208 531 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 209 531 rlink.c:507 dtc_run_download(): : 3/0
</I>&gt;<i> Debug: 210 547 core.c:1055 jtag_examine_chain(): DR scan interrogation for IDCODE/BYPASS
</I>&gt;<i> Debug: 211 547 core.c:329 jtag_call_event_callbacks(): jtag event: TAP reset
</I>&gt;<i> Debug: 212 547 rlink.c:507 dtc_run_download(): : 71/64
</I>&gt;<i> Debug: 213 562 rlink.c:507 dtc_run_download(): : 22/17
</I>&gt;<i> Info : 214 562 core.c:955 jtag_examine_chain_display(): JTAG tap: stm32.cpu tap/device found: 0x3ba00477 (mfg: 0x23b, part: 0xba00, ver: 0x3)
</I>&gt;<i> Info : 215 562 core.c:955 jtag_examine_chain_display(): JTAG tap: stm32.bs tap/device found: 0x06418041 (mfg: 0x020, part: 0x6418, ver: 0x0)
</I>&gt;<i> Debug: 216 562 core.c:1219 jtag_validate_ircapture(): IR capture validation scan
</I>&gt;<i> Debug: 217 562 rlink.c:507 dtc_run_download(): : 10/3
</I>&gt;<i> Debug: 218 578 core.c:1280 jtag_validate_ircapture(): stm32.cpu: IR capture 0x01
</I>&gt;<i> Debug: 219 578 core.c:1280 jtag_validate_ircapture(): stm32.bs: IR capture 0x01
</I>&gt;<i> Debug: 220 578 openocd.c:150 handle_init_command(): Examining targets...
</I>&gt;<i> Debug: 221 578 arm_adi_v5.c:987 ahbap_debugport_init():
</I>&gt;<i> Debug: 222 578 rlink.c:507 dtc_run_download(): : 88/37
</I>&gt;<i> Debug: 223 593 rlink.c:507 dtc_run_download(): : 115/46
</I>&gt;<i> Debug: 224 609 target.c:1606 target_read_u32(): address: 0xe000ed00, value: 0x411fc231
</I>&gt;<i> Debug: 225 609 cortex_m3.c:1907 cortex_m3_examine(): Cortex-M3 r1p1 processor detected
</I>&gt;<i> Debug: 226 609 cortex_m3.c:1908 cortex_m3_examine(): cpuid: 0x411fc231
</I>&gt;<i> Debug: 227 609 rlink.c:507 dtc_run_download(): : 65/26
</I>&gt;<i> Debug: 228 609 target.c:1606 target_read_u32(): address: 0xe0002000, value: 0x00000260
</I>&gt;<i> Debug: 229 625 cortex_m3.c:1925 cortex_m3_examine(): FPB fpcr 0x260, numcode 6, numlit 2
</I>&gt;<i> Debug: 230 625 rlink.c:507 dtc_run_download(): : 65/26
</I>&gt;<i> Debug: 231 625 target.c:1606 target_read_u32(): address: 0xe0001000, value: 0x40000000
</I>&gt;<i> Debug: 232 625 cortex_m3.c:1877 cortex_m3_dwt_setup(): DWT dwtcr 0x40000000, comp 4, watch/trigger
</I>&gt;<i> Info : 233 625 cortex_m3.c:1934 cortex_m3_examine(): stm32.cpu: hardware has 6 breakpoints, 4 watchpoints
</I>&gt;<i> Debug: 234 625 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_flash init
</I>&gt;<i> Debug: 235 625 command.c:151 script_debug(): command - ocd_flash ocd_flash init
</I>&gt;<i> Debug: 236 625 rlink.c:507 dtc_run_download(): : 95/36
</I>&gt;<i> Debug: 237 640 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 239 656 tcl.c:912 handle_flash_init_command(): Initializing flash devices...
</I>&gt;<i> Debug: 240 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 241 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 242 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 243 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 244 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 245 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 246 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 247 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 248 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 249 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 250 656 command.c:364 register_command_handler(): registering 'ocd_flash'...
</I>&gt;<i> Debug: 251 656 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_mflash init
</I>&gt;<i> Debug: 252 656 command.c:151 script_debug(): command - ocd_mflash ocd_mflash init
</I>&gt;<i> Debug: 253 656 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 255 672 mflash.c:1331 handle_mflash_init_command(): Initializing mflash devices...
</I>&gt;<i> Debug: 256 672 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_nand init
</I>&gt;<i> Debug: 257 672 command.c:151 script_debug(): command - ocd_nand ocd_nand init
</I>&gt;<i> Debug: 258 672 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 260 687 tcl.c:521 handle_nand_init_command(): Initializing NAND devices...
</I>&gt;<i> Debug: 261 687 command.c:151 script_debug(): command - ocd_command ocd_command type ocd_pld init
</I>&gt;<i> Debug: 262 687 command.c:151 script_debug(): command - ocd_pld ocd_pld init
</I>&gt;<i> Debug: 263 687 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 265 687 pld.c:232 handle_pld_init_command(): Initializing PLDs...
</I>&gt;<i> Debug: 266 797 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 267 906 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 268 1015 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 269 1125 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 270 1250 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 271 1359 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 272 1468 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 273 1578 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 274 1687 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 275 1797 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 276 1922 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 277 2031 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 278 2140 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 279 2250 rlink.c:507 dtc_run_download(): : 55/22
</I>&gt;<i> Debug: 280 2359 rlink.c:507 dtc_run_download(): : 55/22
</I>

the last few lines continue forever.


Peter


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020358.html">[Openocd-development] [PATCH 0/7] RLink interface speedup,	and fixes
</A></li>
	<LI>Next message: <A HREF="020365.html">[Openocd-development] [PATCH 0/7] RLink interface speedup,	and fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20359">[ date ]</a>
              <a href="thread.html#20359">[ thread ]</a>
              <a href="subject.html#20359">[ subject ]</a>
              <a href="author.html#20359">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
