<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] ARM IDLE mode and JTAG scan chain	interrogation failed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ARM%20IDLE%20mode%20and%20JTAG%20scan%20chain%0A%09interrogation%20failed&In-Reply-To=%3CCAOORp2MKNB0PeF_7FXkmVijEyKrj18CN3u_gsAmE6MhnAuSdrA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019973.html">
   <LINK REL="Next"  HREF="019981.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] ARM IDLE mode and JTAG scan chain	interrogation failed</H1>
    <B>Luc ANTOLINOS</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ARM%20IDLE%20mode%20and%20JTAG%20scan%20chain%0A%09interrogation%20failed&In-Reply-To=%3CCAOORp2MKNB0PeF_7FXkmVijEyKrj18CN3u_gsAmE6MhnAuSdrA%40mail.gmail.com%3E"
       TITLE="[Openocd-development] ARM IDLE mode and JTAG scan chain	interrogation failed">luciogistr at gmail.com
       </A><BR>
    <I>Wed Jul  6 11:02:15 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019973.html">[Openocd-development] C6A816x EVM. How to add a new CortexA8 based	board?
</A></li>
        <LI>Next message: <A HREF="019981.html">[Openocd-development] ARM IDLE mode and JTAG scan chain interrogation failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19980">[ date ]</a>
              <a href="thread.html#19980">[ thread ]</a>
              <a href="subject.html#19980">[ subject ]</a>
              <a href="author.html#19980">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
I'm working with an LPC2388 (arm7tdmi-s core). I use the &quot;IDLE&quot; power mode
to stop the arm core to reduce power consumption. All IT and peripheral are
still ON in this mode, only the arm core is sleeping.

The problem is when we want to use our probe (Olimex ARM-USB-OCD) with
OpenOCD (0.5.0 from git 2011-05-20) we obtain an error message if the
software already running on the board is using the IDLE mode :
JTAG scan chain interrogation failed: all zeroes
Check JTAG interface, timings, target power, etc.
Trying to use configured scan chain anyway...
Bypassing JTAG setup events due to errors

I the software running on the CPU doesn't use the power reduction mode (arm
core is still ON in this case) then I have no problem with the jtag. The
problem seams to be related only to the power mode.

Whatever the openocd command I use (reset, halt, soft_reset_halt, resume
0x00) openocd error is like :
&quot;Halt timed out, wake up GDB.
timed out while waiting for target halted
in procedure 'halt'&quot;

If I try to directly write to the CPU register to disable the IDLE mode, i
get  (a normal error message):
&quot;Target not halted&quot;
So I can not disable the IDLE mode with my jtag.

I have to use the CPU integrated bootloader to reload a software with no
IDLE mode through the RS232 link before I can use my Jtag again.

I've seen other messages related to this point on the ML but has anyone
found a solution to this problem ?

Regards,
-- 
Luc
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110706/7373b43a/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20110706/7373b43a/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019973.html">[Openocd-development] C6A816x EVM. How to add a new CortexA8 based	board?
</A></li>
	<LI>Next message: <A HREF="019981.html">[Openocd-development] ARM IDLE mode and JTAG scan chain interrogation failed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19980">[ date ]</a>
              <a href="thread.html#19980">[ thread ]</a>
              <a href="subject.html#19980">[ subject ]</a>
              <a href="author.html#19980">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
