<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Proposed change for STM32 Flash burner: at 0 as well as 0x8000000
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Proposed%20change%20for%20STM32%20Flash%20burner%3A%0A%20at%200%20as%20well%20as%200x8000000&In-Reply-To=%3Cmailman.129.1331735975.7537.openocd-development%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016394.html">
   <LINK REL="Next"  HREF="016398.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Proposed change for STM32 Flash burner: at 0 as well as 0x8000000</H1>
    <B>John Hartman (NoICE)</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Proposed%20change%20for%20STM32%20Flash%20burner%3A%0A%20at%200%20as%20well%20as%200x8000000&In-Reply-To=%3Cmailman.129.1331735975.7537.openocd-development%40lists.berlios.de%3E"
       TITLE="[Openocd-development] Proposed change for STM32 Flash burner: at 0 as well as 0x8000000">john at noicedebugger.com
       </A><BR>
    <I>Sat Sep  4 00:08:10 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016394.html">[Openocd-development] Proposed change for STM32 Flash burner: at 0 as well as 0x8000000
</A></li>
        <LI>Next message: <A HREF="016398.html">[Openocd-development] Proposed change for STM32 Flash	burner:	at 0 as well as 0x8000000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16397">[ date ]</a>
              <a href="thread.html#16397">[ thread ]</a>
              <a href="subject.html#16397">[ subject ]</a>
              <a href="author.html#16397">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>At 03:32 PM 9/3/10, Andreas Fritiofson wrote:
&gt;<i> &gt;&gt;Annoying how? The flash IS at 0x08000000. Why would you want to link
</I>&gt;<i> &gt;&gt;your program to 0? That if anything would be relying on the aliasing.
</I>&gt;<i> &gt;&gt;Of course it works, otherwise the chip couldn't start, but does it
</I>&gt;<i> &gt;&gt;alias the entire flash and not just enough to cover the vectors? Two
</I>&gt;<i> &gt;&gt;years ago, the ST folks I asked didn't know the answer to that.
</I>&gt;<i> &gt;&gt;Perhaps it's clarified in the docs today.
</I>
I have found Flash-at-zero to be the common case for ARM7 from many 
vendors.  Sometimes a register must be written to map the entire 
Flash at 0, more often 0 is the default.  Perhaps this is not the 
case on Cortex - the STM32 is my only experience there.

My first test project for STM32 was an LED-flasher program that 
Olimex ships with their STM-P103 board.  It links at zero.  I do not 
claim that this is the best project in the world, but it will be the 
first one that many people see, and it will not work as provided.

The memory map diagram in the 3 June 2010 update to the STM32F103 
datasheet labels the entire range 0 to 800_0000 with &quot;Aliased to 
Flash or system memory depending on BOOT pins&quot;.  Whether or not this 
is accurate, I cannot say.

My intent was to make it easier for people to get gdb and OpenOCD 
running.  The volume of &quot;how do I do it&quot; traffic here and on SparkFun 
indicates to me that things could be made easier.

But if the change seems unwise to the expects, I am happy to withdraw 
my proposal.

Best regards, John Hartman
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20100903/0f91de03/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20100903/0f91de03/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016394.html">[Openocd-development] Proposed change for STM32 Flash burner: at 0 as well as 0x8000000
</A></li>
	<LI>Next message: <A HREF="016398.html">[Openocd-development] Proposed change for STM32 Flash	burner:	at 0 as well as 0x8000000
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16397">[ date ]</a>
              <a href="thread.html#16397">[ thread ]</a>
              <a href="subject.html#16397">[ subject ]</a>
              <a href="author.html#16397">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
