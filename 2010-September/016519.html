<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Amontec jtagkey2 OpenOCD on Windows error : Cannot build &amp; run test program using ftd2xx.lib
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Amontec%20jtagkey2%20OpenOCD%20on%20Windows%20error%0A%20%3A%20Cannot%20build%20%26%20run%20test%20program%20using%20ftd2xx.lib&In-Reply-To=%3CAANLkTinH-n%3DMJ5PtPz3O8ucVBzRor0sFX6%3DM7HvjD-p0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016517.html">
   <LINK REL="Next"  HREF="016518.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Amontec jtagkey2 OpenOCD on Windows error : Cannot build &amp; run test program using ftd2xx.lib</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Amontec%20jtagkey2%20OpenOCD%20on%20Windows%20error%0A%20%3A%20Cannot%20build%20%26%20run%20test%20program%20using%20ftd2xx.lib&In-Reply-To=%3CAANLkTinH-n%3DMJ5PtPz3O8ucVBzRor0sFX6%3DM7HvjD-p0%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Amontec jtagkey2 OpenOCD on Windows error : Cannot build &amp; run test program using ftd2xx.lib">xiaofanc at gmail.com
       </A><BR>
    <I>Wed Sep 15 15:59:05 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016517.html">[Openocd-development] Amontec jtagkey2 OpenOCD on Windows error : Cannot build &amp; run test program using ftd2xx.lib
</A></li>
        <LI>Next message: <A HREF="016518.html">[Openocd-development] Amontec jtagkey2 OpenOCD on Windows error : Cannot build &amp; run test program using ftd2xx.lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16519">[ date ]</a>
              <a href="thread.html#16519">[ thread ]</a>
              <a href="subject.html#16519">[ subject ]</a>
              <a href="author.html#16519">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Sep 15, 2010 at 9:27 PM, Xiaofan Chen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">xiaofanc at gmail.com</A>&gt; wrote:
&gt;<i> On Wed, Sep 15, 2010 at 8:23 PM, Peter Stuge &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">peter at stuge.se</A>&gt; wrote:
</I>&gt;&gt;<i> Laurent Gauch wrote:
</I>&gt;&gt;&gt;<i> actually I will recommend to still use D2XX drivers and build your
</I>&gt;&gt;&gt;<i> openocd for d2xx driver. Why :
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> D2XX driver is actually still faster than libusb driver on Windows ...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do you know why this is? Have you compared also using libusb-1.0,
</I>&gt;&gt;<i> which uses WinUSB.sys?
</I>&gt;<i>
</I>&gt;<i> I've tried to use libftdi-1.0/libusb-1.0 with OpenOCD under Linux and it
</I>&gt;<i> is not faster than libftdi/libusb-0.1 since OpenOCD has not been
</I>&gt;<i> written to be based on the async API of libftdi-1.0/libusb-1.0.
</I>&gt;<i>
</I>&gt;<i> UrJtag developers have done things to improve the performance
</I>&gt;<i> by using the async API of libftdi-1.0.
</I>&gt;<i>
</I>&gt;<i> There was a discussion in the archive of the mailing list.
</I>&gt;<i>
</I>&gt;<i> I've also tried to use libftdi-1.0/libusb-1.0/WinUSB under Windows,
</I>&gt;<i> the result is similar.
</I>&gt;<i>
</I>

Maybe the reply from libftdi-1.0's developer in the libftdi mailing
list can shed some light.


---------- Forwarded message ----------
From: Jie Zhang
Date: Sat, Feb 20, 2010 at 12:37 PM
Subject: Re: libftdi-1.0 for Ubuntu 9.10
To: libftdi AT developer.intra2net.com

On Sat, Feb 20, 2010 at 12:21 PM, Xiaofan Chen wrote:
&gt;<i> On Sat, Feb 20, 2010 at 11:47 AM, Jie Zhang wrote:
</I>&gt;&gt;<i> You need to modify OpenOCD to utilize the async mode to get higher
</I>&gt;&gt;<i> performance. See
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The commit:
</I>&gt;&gt;<i> <A HREF="http://urjtag.git.sourceforge.net/git/gitweb.cgi?p=urjtag/urjtag;a=commit;h=ad53771377357e1f10206b2916069373fda01122">http://urjtag.git.sourceforge.net/git/gitweb.cgi?p=urjtag/urjtag;a=commit;h=ad53771377357e1f10206b2916069373fda01122</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The patch:
</I>&gt;&gt;<i> <A HREF="http://sourceforge.net/mailarchive/message.php?msg_name=4B70279A.3010307%40analog.com">http://sourceforge.net/mailarchive/message.php?msg_name=4B70279A.3010307%40analog.com</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The explanation:
</I>&gt;&gt;<i> <A HREF="http://developer.intra2net.com/mailarchive/html/libftdi/2010/msg00065.html">http://developer.intra2net.com/mailarchive/html/libftdi/2010/msg00065.html</A>
</I>&gt;<i>
</I>&gt;<i> Thanks. Maybe I will forward this to OpenOCD and there may be
</I>&gt;<i> people who can do that.
</I>&gt;<i>
</I>&gt;<i> Current ftdi code in OpenOCD:
</I>&gt;<i> <A HREF="http://openocd.git.sourceforge.net/git/gitweb.cgi?p=openocd/openocd;a=blob;f=src/jtag/drivers/ft2232.c;h=82132d3b2d41159eb7974c370ce63a61a74752ff;hb=HEAD">http://openocd.git.sourceforge.net/git/gitweb.cgi?p=openocd/openocd;a=blob;f=src/jtag/drivers/ft2232.c;h=82132d3b2d41159eb7974c370ce63a61a74752ff;hb=HEAD</A>
</I>&gt;<i>
</I>Seems it can be done in the same way in ft2232_send_and_recv for
OpenOCD. But I have no time and no hardware to do it now by myself.
The only USB JTAG cable I have is Blackfin gnICE.


Jie

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016517.html">[Openocd-development] Amontec jtagkey2 OpenOCD on Windows error : Cannot build &amp; run test program using ftd2xx.lib
</A></li>
	<LI>Next message: <A HREF="016518.html">[Openocd-development] Amontec jtagkey2 OpenOCD on Windows error : Cannot build &amp; run test program using ftd2xx.lib
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16519">[ date ]</a>
              <a href="thread.html#16519">[ thread ]</a>
              <a href="subject.html#16519">[ subject ]</a>
              <a href="author.html#16519">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
