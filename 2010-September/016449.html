<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] PXA question - SOLVED
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20PXA%20question%20-%20SOLVED&In-Reply-To=%3C20100909135624.GA1447%40dream.aleph1.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016448.html">
   <LINK REL="Next"  HREF="016420.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] PXA question - SOLVED</H1>
    <B>Wookey</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20PXA%20question%20-%20SOLVED&In-Reply-To=%3C20100909135624.GA1447%40dream.aleph1.co.uk%3E"
       TITLE="[Openocd-development] PXA question - SOLVED">wookey at wookware.org
       </A><BR>
    <I>Thu Sep  9 15:56:24 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016448.html">[Openocd-development] PXA question - SOLVED
</A></li>
        <LI>Next message: <A HREF="016420.html">[Openocd-development] Stellaris: disable JTAG interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16449">[ date ]</a>
              <a href="thread.html#16449">[ thread ]</a>
              <a href="subject.html#16449">[ subject ]</a>
              <a href="author.html#16449">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>+++ Laurent Gauch [2010-09-09 15:11 +0200]:
&gt;<i>
</I>&gt;<i>
</I>&gt;&gt;<i> Hello,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> the problem was solved by adding the following line to the board config 
</I>&gt;&gt;<i> file:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> adapter_nsrst_assert_width 40
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> This made the second srst period 40ms long, which is longer than the  
</I>&gt;&gt;<i> required 35ms.
</I>&gt;&gt;<i> Now I am able to reflash my boards!
</I>   
&gt;<i> /So it was delay on SRST ... AGAIN AGAIN AGAIN ... ;-) !
</I>&gt;<i>
</I>&gt;<i> Note this kind of delay is board related and not chip related. It is  
</I>&gt;<i> depending on how the onboard reset is generated.
</I>&gt;<i> - only from a Pull-up resistor (toradex have a 100k pull-up !!!! a bit  
</I>&gt;<i> to big 10k will be better)
</I>&gt;<i> - from a external reset supervisor chip
</I>&gt;<i> ...
</I>&gt;<i> Also, since it is board related, OpenOCD will never know this delay.
</I>
This leaves the question of what defaults we should put in the pxa
config, and what we can say in the docs about how people should
proceed if they have problems. I know my understanding of how this all
works is very weak, and no doubt a lot of engineers trying to get some
JTAG joy will be in the same boat.

Can we write something helpful about how to diagnose these issues?
Perhaps it is already written?

&gt;<i> Anyway, nice to see you have your Amontec JTAGkey Tiny - to - XSCALE  
</I>&gt;<i> connection working.
</I>&gt;<i> But you should try with the Amontec JTAGkey-2 OEM High-Speed USB JTAG  
</I>&gt;<i> Cable. You will be 4x to 6x faster .
</I>&gt;<i> And get benfit of the rtck from XSCALE processor ;-)
</I>
Does this require something special in use or config to realise? We
saw no, or only a few percent, speedup moving from JTAGkey-tiny to
JTAGkey2. (talking to balloon3 pxa270 board (and Xilinx coolrunnerIII
CPLD).

Wookey
-- 
Principal hats:  Linaro, Emdebian, Wookware, Balloonboard, ARM
<A HREF="http://wookware.org/">http://wookware.org/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016448.html">[Openocd-development] PXA question - SOLVED
</A></li>
	<LI>Next message: <A HREF="016420.html">[Openocd-development] Stellaris: disable JTAG interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16449">[ date ]</a>
              <a href="thread.html#16449">[ thread ]</a>
              <a href="subject.html#16449">[ subject ]</a>
              <a href="author.html#16449">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
