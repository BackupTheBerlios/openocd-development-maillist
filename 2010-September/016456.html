<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Software breakpoints with GDB do not work
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Software%20breakpoints%20with%20GDB%20do%20not%20work&In-Reply-To=%3CAANLkTimrzvCX%2B6r3jbcJd1XdO5%2BEfhV2%2BMSROgYahWmG%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016453.html">
   <LINK REL="Next"  HREF="016457.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Software breakpoints with GDB do not work</H1>
    <B>Drasko DRASKOVIC</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Software%20breakpoints%20with%20GDB%20do%20not%20work&In-Reply-To=%3CAANLkTimrzvCX%2B6r3jbcJd1XdO5%2BEfhV2%2BMSROgYahWmG%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Software breakpoints with GDB do not work">drasko.draskovic at gmail.com
       </A><BR>
    <I>Fri Sep 10 11:38:20 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016453.html">[Openocd-development] Software breakpoints with GDB do not work
</A></li>
        <LI>Next message: <A HREF="016457.html">[Openocd-development] Software breakpoints with GDB do not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16456">[ date ]</a>
              <a href="thread.html#16456">[ thread ]</a>
              <a href="subject.html#16456">[ subject ]</a>
              <a href="author.html#16456">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
based on previous problem description, with software breakpoint being
constantly hit and not allowing single stepping. Memory has been
changed and replaced back with correct instruction (breakpoint does
not exist in memory anymore, this can be see by memory dump). Caches
were flashed by commands :
printf (&quot;Invalidate I$\n&quot;);
retval = arm966e_write_cp15(target, 0x0f, 0);

printf (&quot;Invalidate D$\n&quot;);
retval = arm966e_write_cp15(target, 0x0e, 0);

These commands for cache flushing are based on ARM946E scan chain 15,
as presented:
<A HREF="http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.set.arm9/index.html">http://infocenter.arm.com/help/index.jsp?topic=/com.arm.doc.set.arm9/index.html</A>

This makes me think that problem is not in caches.

Question is:
can anybody with some more experience in OpenOCD give some hints of
software breakpoint placing and removing mechanisms and SIGINT
handling. Where to look at in the code and inspect why the same
(non-existing) breakpoint is hit over and over again.

In short, which part of OpenOCD code handles software berakpoints management.

BR,
Drasko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016453.html">[Openocd-development] Software breakpoints with GDB do not work
</A></li>
	<LI>Next message: <A HREF="016457.html">[Openocd-development] Software breakpoints with GDB do not work
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16456">[ date ]</a>
              <a href="thread.html#16456">[ thread ]</a>
              <a href="subject.html#16456">[ subject ]</a>
              <a href="author.html#16456">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
