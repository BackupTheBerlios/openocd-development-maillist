<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] flash driver problem on LPC2148
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20flash%20driver%20problem%20on%20LPC2148&In-Reply-To=%3C4816EB63.20900%40asix.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002032.html">
   <LINK REL="Next"  HREF="002037.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] flash driver problem on LPC2148</H1>
    <B>Pavel Chromy</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20flash%20driver%20problem%20on%20LPC2148&In-Reply-To=%3C4816EB63.20900%40asix.cz%3E"
       TITLE="[Openocd-development] flash driver problem on LPC2148">chromy at asix.cz
       </A><BR>
    <I>Tue Apr 29 11:33:23 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002032.html">[Openocd-development] flash driver problem on LPC2148
</A></li>
        <LI>Next message: <A HREF="002037.html">[Openocd-development] flash driver problem on LPC2148
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2036">[ date ]</a>
              <a href="thread.html#2036">[ thread ]</a>
              <a href="subject.html#2036">[ subject ]</a>
              <a href="author.html#2036">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Edgar Grimberg napsal(a):
&gt;<i> and, even more into the &quot;typical user operation&quot; area:
</I>&gt;<i> 
</I>&gt;<i>  &gt; flash erase_address 0 0x2000
</I>&gt;<i> erased address 0x00000000 length 8192 in 0.557000s
</I>&gt;<i>  &gt; flash write_image 
</I>&gt;<i> C:\workspace\open_ocd\testing\examples\LPC2148Test\test_rom.elf
</I>&gt;<i> wrote 364 byte from file 
</I>&gt;<i> C:\workspace\open_ocd\testing\examples\LPC2148Test\test_rom.elf in 
</I>&gt;<i> 0.153000s (2.323325 kb/s)
</I>&gt;<i>  &gt; verify_image 
</I>&gt;<i> C:\workspace\open_ocd\testing\examples\LPC2148Test\test_rom.elf
</I>&gt;<i> checksum mismatch - attempting binary compare
</I>&gt;<i> Verify operation failed address 0x00000014. Was 0x58 instead of 0x60
</I>
Hello Edgar,

this is also a property rather than a bug. Please have a look into datasheet one more time,
LPC2148 verifies checksum of the vectors area before executing code from the flash.
That is why the flash driver replaces flash location 0x14 by correct checksum during its operation
(because the image typically does not contain correct value)
This feature may be turned on/off by a parameter given to the driver.

Best regards,
   Pavel

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002032.html">[Openocd-development] flash driver problem on LPC2148
</A></li>
	<LI>Next message: <A HREF="002037.html">[Openocd-development] flash driver problem on LPC2148
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2036">[ date ]</a>
              <a href="thread.html#2036">[ thread ]</a>
              <a href="subject.html#2036">[ subject ]</a>
              <a href="author.html#2036">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
