<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] fast enable/disable command
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20fast%20enable/disable%20command&In-Reply-To=%3C480F51A5.2060902%40asix.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001956.html">
   <LINK REL="Next"  HREF="002004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] fast enable/disable command</H1>
    <B>Pavel Chromy</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20fast%20enable/disable%20command&In-Reply-To=%3C480F51A5.2060902%40asix.cz%3E"
       TITLE="[Openocd-development] fast enable/disable command">chromy at asix.cz
       </A><BR>
    <I>Wed Apr 23 17:11:33 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001956.html">[Openocd-development] fast enable/disable command
</A></li>
        <LI>Next message: <A HREF="002004.html">[Openocd-development] fast enable/disable command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2002">[ date ]</a>
              <a href="thread.html#2002">[ thread ]</a>
              <a href="subject.html#2002">[ subject ]</a>
              <a href="author.html#2002">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello Ville,

Ville Voipio napsal(a):
&gt;<i> If we get to read the correct number of words, we have caught everything 
</I>&gt;<i> (as the relevant bit in the DCC status register is set when written and 
</I>&gt;<i> reset when read). There may be race conditions, but without any deeper 
</I>&gt;<i> analysis it seems that all of them result in a missing word. (Of course, 
</I>&gt;<i> if there is a danger of a corrupted word, that's another thing.)
</I>&gt;<i> 
</I>&gt;<i> So... If we read r0 (or whatever the index register is in the stm 
</I>&gt;<i> command, I did not bother to disassemble 0xe4801004) after the transfer 
</I>&gt;<i> and check the index against base+size, then we should know if the 
</I>&gt;<i> transfer failed. If it failed, the program can easily complain
</I>
Good point, I am definitely for implementing this, in case of semi-hosted flashing
e.g. using ecos flash driver, overrun in DCC communication may end up with
wrong data written to the flash, which is really bad in case of production
flash programming, pure evil!

&gt;<i> This would only need an extra register read and some simple arithmetics.
</I>&gt;<i> 
</I>&gt;<i> CRC would be the &quot;foolproof&quot; (never underestimate fools!) solution, but 
</I>&gt;<i> it requires either a lot of time or extra space.
</I>
Parity might be a good compromise.

Best regards,
   Pavel

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001956.html">[Openocd-development] fast enable/disable command
</A></li>
	<LI>Next message: <A HREF="002004.html">[Openocd-development] fast enable/disable command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2002">[ date ]</a>
              <a href="thread.html#2002">[ thread ]</a>
              <a href="subject.html#2002">[ subject ]</a>
              <a href="author.html#2002">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
