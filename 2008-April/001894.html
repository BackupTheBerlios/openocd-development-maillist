<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] gdb memory map enabled by default
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20gdb%20memory%20map%20enabled%20by%20default&In-Reply-To=%3C48084F64.5000904%40discworld.dascon.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001896.html">
   <LINK REL="Next"  HREF="001900.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] gdb memory map enabled by default</H1>
    <B>Michael Schwingen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20gdb%20memory%20map%20enabled%20by%20default&In-Reply-To=%3C48084F64.5000904%40discworld.dascon.de%3E"
       TITLE="[Openocd-development] gdb memory map enabled by default">rincewind at discworld.dascon.de
       </A><BR>
    <I>Fri Apr 18 09:36:04 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001896.html">[Openocd-development] gdb memory map enabled by default
</A></li>
        <LI>Next message: <A HREF="001900.html">[Openocd-development] gdb memory map enabled by default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1894">[ date ]</a>
              <a href="thread.html#1894">[ thread ]</a>
              <a href="subject.html#1894">[ subject ]</a>
              <a href="author.html#1894">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pavel Chromy wrote:
&gt;<i> Actually, not. These devices feature these operations
</I>&gt;<i> - erase whole flash plane
</I>&gt;<i> - erase sector
</I>&gt;<i> - write sector
</I>&gt;<i> and in addition, write sector is capable of doing erase before actual 
</I>&gt;<i> write,
</I>&gt;<i> and this is also used in the present flash driver.
</I>That seems broken to me, then. How would I write on that target without 
erasing?

If the hardware only supports a mode where a write also causes an erase, 
we would have to work around that somehow. However, in this case, it 
looks like the driver violates the defined API without need.

This looks like someone implemented his own version of auto-erase down 
in the AT7* flash driver, and because of that, the more general 
auto-erase in the flash layer is now considered &quot;broken&quot; because it 
interferes with the one in the driver. I would prefer the general 
approach, with the chip flash driver ony erasing when told to do so.

cu
Michael


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001896.html">[Openocd-development] gdb memory map enabled by default
</A></li>
	<LI>Next message: <A HREF="001900.html">[Openocd-development] gdb memory map enabled by default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1894">[ date ]</a>
              <a href="thread.html#1894">[ thread ]</a>
              <a href="subject.html#1894">[ subject ]</a>
              <a href="author.html#1894">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
