<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] gdb memory map change
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20gdb%20memory%20map%20change&In-Reply-To=%3C200804230215.m3N2FgP11200%40h-68-165-246-86.mclnva23.covad.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001971.html">
   <LINK REL="Next"  HREF="001972.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] gdb memory map change</H1>
    <B>David Gesswein</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20gdb%20memory%20map%20change&In-Reply-To=%3C200804230215.m3N2FgP11200%40h-68-165-246-86.mclnva23.covad.net%3E"
       TITLE="[Openocd-development] gdb memory map change">djg at pdp8online.com
       </A><BR>
    <I>Wed Apr 23 04:15:42 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001971.html">[Openocd-development] AM29SL800DB patch
</A></li>
        <LI>Next message: <A HREF="001972.html">[Openocd-development] gdb memory map change
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1970">[ date ]</a>
              <a href="thread.html#1970">[ thread ]</a>
              <a href="subject.html#1970">[ subject ]</a>
              <a href="author.html#1970">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>   The change from 590 to 591 which enabled sending gdb memory map
made gdb stop working for me since openocd sends a memory map with only
the flash defined. The gdb I installed (codesourcery) defaults to
mem inaccessible-by-default which prevents gdb from accessing memory
outside a defined memory map region.

Looking in the openocd.info file after finding this I see that it is 
documented that GDB 6.8 and higher set this option so won't work with
the new default without changing the gdb setting.

The openocd.info documents the gdb_memory_map default is disabled which
I don't think is true any more. The other options changed at the same
time are also likely wrong.

Is their any option in the openocd config file that can be used to send 
memory map regions for ram and register so it will work with the default 
gdb behavior or do I need to change the gdb startup script to change 
inaccessible-by-default?

I am using a Stellaris LM3S6965-EK with openocd 602.

Memory map sent
$l&lt;memory-map&gt;
&lt;memory type=&quot;flash&quot; start=&quot;0x0&quot; length=&quot;0x40000&quot;&gt;
&lt;property name=&quot;blocksize&quot;&gt;0x400&lt;/property&gt;
&lt;/memory&gt;
&lt;/memory-map&gt;
#66


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001971.html">[Openocd-development] AM29SL800DB patch
</A></li>
	<LI>Next message: <A HREF="001972.html">[Openocd-development] gdb memory map change
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1970">[ date ]</a>
              <a href="thread.html#1970">[ thread ]</a>
              <a href="subject.html#1970">[ subject ]</a>
              <a href="author.html#1970">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
