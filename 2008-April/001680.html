<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Various reset and flash fixes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Various%20reset%20and%20flash%20fixes&In-Reply-To=%3C200804040808.06765.Dominic.Rath%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001677.html">
   <LINK REL="Next"  HREF="001681.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Various reset and flash fixes</H1>
    <B>Dominic Rath</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Various%20reset%20and%20flash%20fixes&In-Reply-To=%3C200804040808.06765.Dominic.Rath%40gmx.de%3E"
       TITLE="[Openocd-development] Various reset and flash fixes">Dominic.Rath at gmx.de
       </A><BR>
    <I>Fri Apr  4 08:08:04 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001677.html">[Openocd-development] Various reset and flash fixes
</A></li>
        <LI>Next message: <A HREF="001681.html">[Openocd-development] Various reset and flash fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1680">[ date ]</a>
              <a href="thread.html#1680">[ thread ]</a>
              <a href="subject.html#1680">[ subject ]</a>
              <a href="author.html#1680">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 03 April 2008 15:59:57 &#216;yvind Harboe wrote:
&gt;<i> - arm7/9 with seperate srst &amp; trst now supports reset init/halt
</I>&gt;<i> after a power outage. arm7/9 no longer makes any assumptions
</I>&gt;<i> about state of target when reset is asserted.
</I>&gt;<i> - fixes for srst &amp; trst capable arm7/9 with reset init/halt
</I>&gt;<i> - prepare_reset_halt retired. This code needs to be inside
</I>&gt;<i> assert_reset anyway
</I>
I can't reset-halt my ARM926EJ-S anymore. Haven't had time to look at your 
changes closer, but there was a reason for having prepare_reset_halt the way 
it was. Some -S targets (ARM966E-S in the STR912 isn't affected, ARM926EJ-S 
in the LPC3180 and AT91SAM9260 is affected) completely stop the JTAG clock 
while the core is held in reset. It isn't possible to program the halt 
condition once reset was asserted, hence a hook that allows the target to set 
up its reset-halt condition prior to asserting reset.

Just tried a reset-run, and that failed, too.

It also isn't possible to query the current jtag_speed anymore - is that 
intentional? I assume that went in with your introduction of a separate 
reset_speed.

Best regards,

Dominic

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001677.html">[Openocd-development] Various reset and flash fixes
</A></li>
	<LI>Next message: <A HREF="001681.html">[Openocd-development] Various reset and flash fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1680">[ date ]</a>
              <a href="thread.html#1680">[ thread ]</a>
              <a href="subject.html#1680">[ subject ]</a>
              <a href="author.html#1680">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
