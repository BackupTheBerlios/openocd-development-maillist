<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] NAND Flash Bad Block Density - What isreasonable?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20NAND%20Flash%20Bad%20Block%20Density%20-%20What%0A%20isreasonable%3F&In-Reply-To=%3C70E876B0EA86DD4BAF101844BC814DFE093F977803%40Cloud.RL.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017980.html">
   <LINK REL="Next"  HREF="017989.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] NAND Flash Bad Block Density - What isreasonable?</H1>
    <B>Jon Povey</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20NAND%20Flash%20Bad%20Block%20Density%20-%20What%0A%20isreasonable%3F&In-Reply-To=%3C70E876B0EA86DD4BAF101844BC814DFE093F977803%40Cloud.RL.local%3E"
       TITLE="[Openocd-development] NAND Flash Bad Block Density - What isreasonable?">Jon.Povey at racelogic.co.uk
       </A><BR>
    <I>Tue Jan 25 07:43:55 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="017980.html">[Openocd-development] NAND Flash Bad Block Density - What is	reasonable?
</A></li>
        <LI>Next message: <A HREF="017989.html">[Openocd-development] NAND Flash Bad Block Density - What is reasonable?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17984">[ date ]</a>
              <a href="thread.html#17984">[ thread ]</a>
              <a href="subject.html#17984">[ subject ]</a>
              <a href="author.html#17984">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development-bounces at lists.berlios.de</A> wrote:
&gt;<i> I was asking the ODM to
</I>&gt;<i> ensure that no more than 2 bad blocks occur in any 4M range
</I>&gt;<i> of the flash as a requirement.
</I>
You have a pretty good chance of hitting that ime.

&gt;<i> Anyone have any place to get something official about bad
</I>&gt;<i> block density? I suspect that in practice, 2 BB in 4M is
</I>&gt;<i> reasonable and unlikely to cause issues, but without
</I>&gt;<i> empirical documentation, I can't make a requirement.
</I>
with 2KB page 512MB NAND flash if I remember rightly quite a few of the chips we buy in would fail your 4M requirement. More than 1-2% I think.

My statistics are not hot enough to give you the formula, but 512M into 4M
buckets is 128 buckets, assuming 128KB blocks is 4096 blocks, let's say
1% are bad is around 41, ideally randomly distributed - this gives a very
high probability that two will be in the same bucket. Not sure the
probability for 3, but I think it is also high.

Also I think (fuzzy memory, sorry) that bad blocks tend to appear close together more often than even random distribution would suggest.

&gt;<i> In a
</I>&gt;<i> 512M NAND flash, setting aside +40M in sloppy partitioning seems very
</I>&gt;<i> wasteful.
</I>&gt;<i>
</I>&gt;<i> Thoughts/Comments?
</I>
That is what UBI is for if I understand it correctly. It manages internal
virtual partitions where the actual wear levelling and bad block tolerance
takes place across the whole physical NAND shared by the UBI partitions.

--
Jon Povey
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">jon.povey at racelogic.co.uk</A>

Racelogic is a limited company registered in England. Registered number 2743719 .
Registered Office Unit 10, Swan Business Centre, Osier Way, Buckingham, Bucks, MK18 1TB .

The information contained in this electronic mail transmission is intended by Racelogic Ltd for the use of the named individual or entity to which it is directed and may contain information that is confidential or privileged. If you have received this electronic mail transmission in error, please delete it from your system without copying or forwarding it, and notify the sender of the error by reply email so that the sender's address records can be corrected. The views expressed by the sender of this communication do not necessarily represent those of Racelogic Ltd. Please note that Racelogic reserves the right to monitor e-mail communications passing through its network



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017980.html">[Openocd-development] NAND Flash Bad Block Density - What is	reasonable?
</A></li>
	<LI>Next message: <A HREF="017989.html">[Openocd-development] NAND Flash Bad Block Density - What is reasonable?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17984">[ date ]</a>
              <a href="thread.html#17984">[ thread ]</a>
              <a href="subject.html#17984">[ subject ]</a>
              <a href="author.html#17984">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
