<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] Improving Cortex-A8 support...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20Improving%20Cortex-A8%20support...&In-Reply-To=%3C4A96B07F.1070509%40mlu.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010183.html">
   <LINK REL="Next"  HREF="010207.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] Improving Cortex-A8 support...</H1>
    <B>Magnus Lundin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20Improving%20Cortex-A8%20support...&In-Reply-To=%3C4A96B07F.1070509%40mlu.mine.nu%3E"
       TITLE="[Openocd-development] [PATCH] Improving Cortex-A8 support...">lundin at mlu.mine.nu
       </A><BR>
    <I>Thu Aug 27 18:12:47 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010183.html">[Openocd-development] [PATCH] Improving Cortex-A8 support...
</A></li>
        <LI>Next message: <A HREF="010207.html">[Openocd-development] [PATCH] Improving Cortex-A8 support...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10184">[ date ]</a>
              <a href="thread.html#10184">[ thread ]</a>
              <a href="subject.html#10184">[ subject ]</a>
              <a href="author.html#10184">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Holger Freyther wrote:
&gt;<i> On Thursday 27 August 2009 16:43:34 Dirk Behme wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> Holger Freyther wrote:
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i>   
</I>&gt;&gt;&gt;<i> Okay, turns out that I'm not able to omap3_dbginit scan once the linux
</I>&gt;&gt;&gt;<i> kernel is running and when linux is starts the &quot;poll&quot; will start to fail.
</I>&gt;&gt;&gt;<i> Does this sound familiar? Do you guys have any ideas?
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> Hmm, there is some rumor that Linux debugging isn't possible as long
</I>&gt;&gt;<i> as we don't have proper Cortex A8 cache and MMU support. If I remember
</I>&gt;&gt;<i> correctly, Magnus always talked about &quot;with this only U-Boot debugging
</I>&gt;&gt;<i> is possible&quot;. Sorry if I missed something or if I'm completely wrong
</I>&gt;&gt;<i> here ;)
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Would you know where to start to look? I have not looked at the CoreSight DAP-
</I>&gt;<i> Lite documentation and such and I assume that this serial wire jtag debug port 
</I>&gt;<i> (swjdap) would just work? Or do you mean that the OMAP3_BASEADDR is now 
</I>&gt;<i> different with the MMU on?
</I>&gt;<i>
</I>&gt;<i> Regarding caches, in the Cortex-A8 debug entry sequence the code is executing 
</I>&gt;<i> a barrier (we don't)..
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> z.
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Openocd-development mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
</I>&gt;<i>   
</I>My observations was that if we connect OpenOcd (omap3_dbginit) while 
UBoot is running and after that start Linux then we can do some debugging.
I think we will get problems with distrbing timer interrups, but at 
least sometimes it was possible to halt and resume a Linux terminal session.

After Linux has started up I was never able to get a JTAG connection, I 
looked for changes in configuration registers  that could explain this 
but could not find anything.

The MMU situation, AFIK, is that all register addresses are still OK 
(physical addresses) since the DAP-MEMAP accesses them directly over the 
bus, but all register and memory  address that are used by the CPU must 
be translated between virtual and physical.

Best regards,
Magnus






</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010183.html">[Openocd-development] [PATCH] Improving Cortex-A8 support...
</A></li>
	<LI>Next message: <A HREF="010207.html">[Openocd-development] [PATCH] Improving Cortex-A8 support...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10184">[ date ]</a>
              <a href="thread.html#10184">[ thread ]</a>
              <a href="subject.html#10184">[ subject ]</a>
              <a href="author.html#10184">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
