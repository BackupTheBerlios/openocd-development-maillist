<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] R: Halt not working on arm926jes (s3c2450)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20R%3A%20Halt%20not%20working%20on%20arm926jes%20%28s3c2450%29&In-Reply-To=%3C4A7427AB.9060300%40postema.eu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009837.html">
   <LINK REL="Next"  HREF="009872.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] R: Halt not working on arm926jes (s3c2450)</H1>
    <B>Ferdinand Postema</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20R%3A%20Halt%20not%20working%20on%20arm926jes%20%28s3c2450%29&In-Reply-To=%3C4A7427AB.9060300%40postema.eu%3E"
       TITLE="[Openocd-development] R: Halt not working on arm926jes (s3c2450)">ferdinand at postema.eu
       </A><BR>
    <I>Sat Aug  1 13:31:55 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009837.html">[Openocd-development] About the Program Load Speed
</A></li>
        <LI>Next message: <A HREF="009872.html">[Openocd-development] R: Halt not working on arm926jes (s3c2450)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9825">[ date ]</a>
              <a href="thread.html#9825">[ thread ]</a>
              <a href="subject.html#9825">[ subject ]</a>
              <a href="author.html#9825">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Stefano,

I think, I have the same problem...
I have a MMnet1001 module from Propox. This module has a AT91SAM9260 
chip. This chip has an ARM926EJ-S Processor.
I am using the Amontec Chameleon dongle, loaded with the JTAG 
Accelerator configuration. (RTCK-feature enabled)

When commanding the module &quot;reset halt&quot;, the halt times out and the 
module is still running.
In the software there are 2 ways to halt the module after a reset: 
vector catching and breakpoints.
The software uses vector catch and that doesn't work in my setup (halt 
times out).
When I force it to use breakpoints, it works fine in my setup!
It looks like the vector catching is not working properly.

Attached is the patch that works for me.
It is not intended to be committed into the project, because it disables 
the vector catch for all arm7/9 targets during reset.



-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: bp_vec_catch.patch
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090801/cddc66ec/attachment.ksh">https://lists.berlios.de/pipermail/openocd-development/attachments/20090801/cddc66ec/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009837.html">[Openocd-development] About the Program Load Speed
</A></li>
	<LI>Next message: <A HREF="009872.html">[Openocd-development] R: Halt not working on arm926jes (s3c2450)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9825">[ date ]</a>
              <a href="thread.html#9825">[ thread ]</a>
              <a href="subject.html#9825">[ subject ]</a>
              <a href="author.html#9825">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
