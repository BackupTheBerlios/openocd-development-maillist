<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] BeagleBoard and Flyswatter
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20BeagleBoard%20and%20Flyswatter&In-Reply-To=%3CFF6911BB-956F-4C30-93B9-7E48AA3DD33A%40aol.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010107.html">
   <LINK REL="Next"  HREF="010132.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] BeagleBoard and Flyswatter</H1>
    <B>Fred Koehler</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20BeagleBoard%20and%20Flyswatter&In-Reply-To=%3CFF6911BB-956F-4C30-93B9-7E48AA3DD33A%40aol.com%3E"
       TITLE="[Openocd-development] BeagleBoard and Flyswatter">fkoehler at aol.com
       </A><BR>
    <I>Wed Aug 26 06:02:08 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010107.html">[Openocd-development] BeagleBoard and Flyswatter
</A></li>
        <LI>Next message: <A HREF="010132.html">[Openocd-development] BeagleBoard and Flyswatter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10130">[ date ]</a>
              <a href="thread.html#10130">[ thread ]</a>
              <a href="subject.html#10130">[ subject ]</a>
              <a href="author.html#10130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi,

I've tested 1 and 2 as Dirk suggested.  With both versions I get the  
same results.  I'm able to connect jtag consistently and from a telnet  
session issue the omap3_dbginit command.  Lots of improvement from the  
last time I tried.

I try halt, resume, halt and that consistently produces a crash.  The  
gdb of openocd and telnet session is attached, I did not try to debug  
this further.

fred

-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: gdb_openocd_20090825.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090825/bb88a0e1/attachment.txt">https://lists.berlios.de/pipermail/openocd-development/attachments/20090825/bb88a0e1/attachment.txt</A>&gt;
-------------- next part --------------



-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: telnet_20090825.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090825/bb88a0e1/attachment-0001.txt">https://lists.berlios.de/pipermail/openocd-development/attachments/20090825/bb88a0e1/attachment-0001.txt</A>&gt;
-------------- next part --------------


On Aug 25, 2009, at 7:26 AM, Dirk Behme wrote:

&gt;<i>
</I>&gt;<i> Let's try to organize this a little and summarize the status:
</I>&gt;<i>
</I>&gt;<i> 1. Last time I tried was *r2604*:
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openocd-development/2009-August/010035.html">https://lists.berlios.de/pipermail/openocd-development/2009-August/010035.html</A>
</I>&gt;<i>
</I>&gt;<i> To reproduce this, you have to apply the four patches in attachment  
</I>&gt;<i> of that mail to r2604.
</I>&gt;<i>
</I>&gt;<i> Fred and Matt: Please try to exactly reproduce this and in case of  
</I>&gt;<i> differences or other issues, send detailed report.
</I>&gt;<i>
</I>&gt;<i> Matt: As you can see in above mail, halt and resume seem to work  
</I>&gt;<i> there.
</I>&gt;<i>
</I>&gt;<i> 2. When we agree on status of (1), then it's time to test recent  
</I>&gt;<i> trunk. As ?yvind mentioned in
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openocd-development/2009-August/010073.html">https://lists.berlios.de/pipermail/openocd-development/2009-August/010073.html</A>
</I>&gt;<i>
</I>&gt;<i> he applied 3 of 4 patches from (1) (thanks!). To test this, we have  
</I>&gt;<i> to apply remaining patch (attachment) and test if result is the same  
</I>&gt;<i> like in (1). I did so and got the same result as in (1) with *r2619*  
</I>&gt;<i> and single patch in attachment.
</I>&gt;<i>
</I>&gt;<i> Fred and Matt: Please try to exactly reproduce this and in case of  
</I>&gt;<i> differences or other issues, send detailed report.
</I>&gt;<i>
</I>&gt;<i> 3. When we agree on (1) and (2), the further steps could be:
</I>&gt;<i>
</I>&gt;<i> a) Review/fix/rewrite remaining patch to get it applied. Dave's  
</I>&gt;<i> recent version of this patch is in
</I>&gt;<i>
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openocd-development/2009-August/010041.html">https://lists.berlios.de/pipermail/openocd-development/2009-August/010041.html</A>
</I>&gt;<i>
</I>&gt;<i> btw (see attachment, too).
</I>&gt;<i>
</I>&gt;<i> b) Fix the issues mentioned in (1):
</I>&gt;<i>
</I>&gt;<i> - Fix &quot;OLD SYNTAX: DEPRECATED - use jtag_khz, not jtag_speed&quot;
</I>&gt;<i>
</I>&gt;<i> - Fix &quot;invalid mode value encountered&quot; warnings
</I>&gt;<i>
</I>&gt;<i> - Fix &quot;soft_reset_halt&quot; segfault
</I>&gt;<i>
</I>&gt;<i> - Update eLinux OpenOCD Beagle page
</I>&gt;<i>
</I>&gt;<i> - ...
</I>&gt;<i>
</I>&gt;<i> Best regards
</I>&gt;<i>
</I>&gt;<i> Dirk
</I>&gt;<i>
</I>&gt;<i> Matt Hsu wrote:
</I>&gt;&gt;<i> ?yvind Harboe wrote:
</I>&gt;&gt;&gt;<i> Did you try with the patches I committed today?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>    Hi ?yvind,
</I>&gt;&gt;<i>    Thanks for your reply.
</I>&gt;&gt;<i>    Yes. I applied the patch your committed. It definitely works.
</I>&gt;&gt;<i>    The jtag session could be established.
</I>&gt;&gt;<i>    The problem is I would like to issue commands such as reset  
</I>&gt;&gt;<i> halt, bp, resume.
</I>&gt;&gt;<i>    The source code shown their implementation are NULL.
</I>&gt;&gt;<i>    So I'm curious why coretex_a8 does not have these support?
</I>&gt;&gt;<i>    Or why Magnus's patches were not merged?
</I>&gt;&gt;<i>    Cheers,
</I>&gt;&gt;<i>    Matt
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;<i> Openocd-development mailing list
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
</I>&gt;<i>
</I>&gt;<i> ---
</I>&gt;<i> src/jtag/core.c |    8 ++++++++
</I>&gt;<i> 1 file changed, 8 insertions(+)
</I>&gt;<i>
</I>&gt;<i> --- a/src/jtag/core.c
</I>&gt;<i> +++ b/src/jtag/core.c
</I>&gt;<i> @@ -469,6 +469,14 @@ void jtag_add_tlr(void)
</I>&gt;<i> {
</I>&gt;<i>    jtag_prelude(TAP_RESET);
</I>&gt;<i>    jtag_set_error(interface_jtag_add_tlr());
</I>&gt;<i> +
</I>&gt;<i> +   /*
</I>&gt;<i> +    * Add a bunch of clocks after TLR entry to force SWD reset (newer
</I>&gt;<i> +    * ARM cores; just in case, ~50 cycles), switch on ICEpick power
</I>&gt;<i> +    * domains (for some TI parts, ~100 cycles), etc
</I>&gt;<i> +    */
</I>&gt;<i> +   jtag_set_error(interface_jtag_add_runtest(100, TAP_RESET));
</I>&gt;<i> +
</I>&gt;<i>    jtag_call_event_callbacks(JTAG_TRST_ASSERTED);
</I>&gt;<i> }
</I>&gt;<i>
</I></PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010107.html">[Openocd-development] BeagleBoard and Flyswatter
</A></li>
	<LI>Next message: <A HREF="010132.html">[Openocd-development] BeagleBoard and Flyswatter
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10130">[ date ]</a>
              <a href="thread.html#10130">[ thread ]</a>
              <a href="subject.html#10130">[ subject ]</a>
              <a href="author.html#10130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
