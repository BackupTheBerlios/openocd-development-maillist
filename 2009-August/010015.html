<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Scripts for Atmel AT91SAM7S256 and AT91SAM9260
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Scripts%20for%20Atmel%20AT91SAM7S256%20and%20AT91SAM9260&In-Reply-To=%3C9095C35E94C6DF41B6298E900A1987372C7533BC7D%40pscptsrvexc02.psitek.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010027.html">
   <LINK REL="Next"  HREF="010016.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Scripts for Atmel AT91SAM7S256 and AT91SAM9260</H1>
    <B>Pieter Conradie</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Scripts%20for%20Atmel%20AT91SAM7S256%20and%20AT91SAM9260&In-Reply-To=%3C9095C35E94C6DF41B6298E900A1987372C7533BC7D%40pscptsrvexc02.psitek.local%3E"
       TITLE="[Openocd-development] Scripts for Atmel AT91SAM7S256 and AT91SAM9260">Pieter.Conradie at psitek.com
       </A><BR>
    <I>Fri Aug 21 09:29:05 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010027.html">[Openocd-development] GIT mirror of OpenOCD SVN set up ...
</A></li>
        <LI>Next message: <A HREF="010016.html">[Openocd-development] Scripts for Atmel AT91SAM7S256 and	AT91SAM9260
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10015">[ date ]</a>
              <a href="thread.html#10015">[ thread ]</a>
              <a href="subject.html#10015">[ subject ]</a>
              <a href="author.html#10015">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi List,

FYI, attached are scripts tested with OpenOCD 0.2.0 and SVN 2600 (head) for:

1. Atmel AT91SAM7S-EK dev board (microcontroller AT91SAM7S256)
board/atmel_at91sam7s-ek.cfg and target/at91sam7sx.cfg

2. Atmel AT91SAM9260-EK dev board (microcontroller AT91SAM9260-CJ)
board/atmel_at91sam9260-ek.cfg and target/at91sam9260.cfg

3. Unknown vendor board with Atmel AT91SAM9260-CU
board/unknown_at91sam9260_ek.cfg and target/at91sam9260.cfg

I took the liberty of renaming &quot;unknown-board-atmel-at91sam9260.cfg&quot; to &quot;unknown_at91sam9260.cfg&quot;. I also added &quot;at91sam7sx.cfg&quot; to comply with the general naming convention. I would also recommend that &quot;at91sam9260_ext_RAM_ext_flash.cfg&quot; be deleted (in favour of &quot;unknown_at91sam9260.cfg&quot;).

For the AT91SAM9260-CJ, I had to increase the jtag_nsrst_delay to 300 ms so that the target would halt properly for the &quot;reset-init&quot; event script. If this time was too small (e.g. 200 ms) I would get the following:

&gt;<i> reset init
</I>5 kHz
JTAG tap: at91sam9260.cpu tap/device found: 0x0792603f (mfg: 0x01f, part: 0x7926, ver: 0x0)
JTAG Tap/device matched
timed out while waiting for target halted
Runtime error, file &quot;embedded:startup.tcl&quot;, line 222:
    expected return code but got 'TARGET: at91sam9260.cpu - Not halted'
in procedure 'ocd_process_reset'
called at file &quot;embedded:startup.tcl&quot;, line 204
called at file &quot;embedded:startup.tcl&quot;, line 205
called at file &quot;embedded:startup.tcl&quot;, line 221
Runtime error, file &quot;command.c&quot;, line 469:

I can't explain why this is required... any takers?

Anyway, as far as the scripts goes... commit it, don't commit it :)

Best regards,
Pieter Conradie

Notice
This email is intended for the addressee only and may contain legally privileged and/or confidential information.  If you have received this email in error and are not the intended recipient, you are hereby informed that you are not entitled to read, broadcast, distribute or in any manner whatsoever use the contents of this email or any attachments thereto.  You are requested to please notify Psitek that you have received the email and then delete it.  Unless clearly stated otherwise, the content and sentiments expressed in this email or any attachments thereto are those of the sender and not of Psitek (Proprietary) Limited.  Psitek does not accept liability for any damages, loss or expense of any nature whatsoever arising (a) out of or in connection with the email or any attachments thereto and/or (b) from any act or omission by the recipient relying upon the content of the email or attachments.  Psitek further disclaims liability for any damages caused by computer and/or software viruses.  Should this email contain the terms of a contract, no binding agreement will result until such time as a written (hardcopy) document is signed on behalf of Psitek.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: atmel_at91sam7s-ek.cfg
Type: application/octet-stream
Size: 159 bytes
Desc: atmel_at91sam7s-ek.cfg
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: atmel_at91sam9260-ek.cfg
Type: application/octet-stream
Size: 3370 bytes
Desc: atmel_at91sam9260-ek.cfg
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment-0001.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment-0001.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: unknown_at91sam9260.cfg
Type: application/octet-stream
Size: 3842 bytes
Desc: unknown_at91sam9260.cfg
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment-0002.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment-0002.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: at91sam7sx.cfg
Type: application/octet-stream
Size: 1691 bytes
Desc: at91sam7sx.cfg
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment-0003.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment-0003.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: at91sam9260.cfg
Type: application/octet-stream
Size: 1072 bytes
Desc: at91sam9260.cfg
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment-0004.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090821/5471c83c/attachment-0004.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010027.html">[Openocd-development] GIT mirror of OpenOCD SVN set up ...
</A></li>
	<LI>Next message: <A HREF="010016.html">[Openocd-development] Scripts for Atmel AT91SAM7S256 and	AT91SAM9260
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10015">[ date ]</a>
              <a href="thread.html#10015">[ thread ]</a>
              <a href="subject.html#10015">[ subject ]</a>
              <a href="author.html#10015">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
