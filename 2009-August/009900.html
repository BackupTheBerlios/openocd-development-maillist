<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] EK-LM3S1968 Configuration File
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20EK-LM3S1968%20Configuration%20File&In-Reply-To=%3Ca276da400908070638y3d823505ubf0223536080f462%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009899.html">
   <LINK REL="Next"  HREF="009902.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] EK-LM3S1968 Configuration File</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20EK-LM3S1968%20Configuration%20File&In-Reply-To=%3Ca276da400908070638y3d823505ubf0223536080f462%40mail.gmail.com%3E"
       TITLE="[Openocd-development] EK-LM3S1968 Configuration File">xiaofanc at gmail.com
       </A><BR>
    <I>Fri Aug  7 15:38:28 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009899.html">[Openocd-development] EK-LM3S1968 Configuration File
</A></li>
        <LI>Next message: <A HREF="009902.html">[Openocd-development] [PATCH] Add config file for TI-Luminary	LM3S1968 chip and EK-LM3S1968 board
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9900">[ date ]</a>
              <a href="thread.html#9900">[ thread ]</a>
              <a href="subject.html#9900">[ subject ]</a>
              <a href="author.html#9900">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jul 31, 2009 at 8:24 PM, Xiaofan Chen&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">xiaofanc at gmail.com</A>&gt; wrote:
&gt;&gt;&gt;&gt;<i> I am also having problem with J-Link with the EK-LM3S1968. It
</I>&gt;&gt;&gt;&gt;<i> is not able to flash the flash. I've tried V3 and V6 IAR OEM version of
</I>&gt;&gt;&gt;&gt;<i> J-Link. Take note the on-board ftdi interface works fine with the same
</I>&gt;&gt;&gt;&gt;<i> svn version 2570.
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Not really. It seems that some Ubuntu 9.04 updates yesterday messed up with
</I>&gt;&gt;&gt;<i> OpenOCD now. Actually it crashed now with ftdi interface.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> So I went back to V0.2.0 release version and it works.
</I>&gt;<i>
</I>&gt;<i> V0.2.0 release works with the on-board ftdi interface. But it still has the
</I>&gt;<i> same problem with J-Link. Firstly I have to reduce jtag_khz to around
</I>&gt;<i> 1000. Secondly it still does not work with flashing.
</I>
Interestingly the J-Link flashing problem is also fixed after the segmentation
problem of the fidi interface is fixed by Spen. Tested under Ubuntu 9.04
32bit using SVN 2578.

I have to reduce jtag_khz to 1200 for J-Link. The speed is still faster the
on-board ftdi interface at jtag_khz=3000.

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/lm3s1968$ openocd -f
ek-lm3s1968_jlink.cfg
Open On-Chip Debugger 0.3.0-in-development (2009-08-07-21:11) svn:2578
$URL: <A HREF="svn://svn.berlios.de/openocd/trunk/src/openocd.c">svn://svn.berlios.de/openocd/trunk/src/openocd.c</A> $
For bug reports, read <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS">http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS</A>
1200 kHz
jtag_nsrst_delay: 100
jtag_ntrst_delay: 100
Info : J-Link initialization started / target CPU reset initiated
Info : J-Link compiled Feb 20 2006 18:20:20 -- Update --
Info : JLink caps 0x3
Info : JLink hw version 30000
Info : Vref = 3.290 TCK = 1 TDI = 1 TDO = 1 TMS = 1 SRST = 0 TRST = 255

Info : J-Link JTAG Interface ready
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched
Info : accepting 'telnet' connection from 0
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched
target state: halted
target halted due to debug-request, current mode: Thread
xPSR: 0x01000000 pc: 0x00000470 msp: 0x20000198
flash 'stellaris' found at 0x00000000
auto erase enabled
Info : Algorithm flash write 1710 words to 0x0, 1710 remaining
wrote 6840 byte from file
./StellarisWare/boards/ek-lm3s1968/graphics/gcc/graphics.bin in
0.879946s (7.591020 kb/s)
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched
target state: halted
target halted due to debug-request, current mode: Thread
xPSR: 0x01000000 pc: 0x00000470 msp: 0x20000198
flash 'stellaris' found at 0x00000000
auto erase enabled
Info : Algorithm flash write 2048 words to 0x0, 30257 remaining
Info : Algorithm flash write 2048 words to 0x2000, 28209 remaining
Info : Algorithm flash write 2048 words to 0x4000, 26161 remaining
Info : Algorithm flash write 2048 words to 0x6000, 24113 remaining
Info : Algorithm flash write 2048 words to 0x8000, 22065 remaining
Info : Algorithm flash write 2048 words to 0xa000, 20017 remaining
Info : Algorithm flash write 2048 words to 0xc000, 17969 remaining
Info : Algorithm flash write 2048 words to 0xe000, 15921 remaining
Info : Algorithm flash write 2048 words to 0x10000, 13873 remaining
Info : Algorithm flash write 2048 words to 0x12000, 11825 remaining
Info : Algorithm flash write 2048 words to 0x14000, 9777 remaining
Info : Algorithm flash write 2048 words to 0x16000, 7729 remaining
Info : Algorithm flash write 2048 words to 0x18000, 5681 remaining
Info : Algorithm flash write 2048 words to 0x1a000, 3633 remaining
Info : Algorithm flash write 1585 words to 0x1c000, 1585 remaining
wrote 121029 byte from file
./StellarisWare/boards/ek-lm3s1968/qs_ek-lm3s1968/gcc/qs_ek-lm3s1968.bin
in 13.964152s (8.463986 kb/s)
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~$ telnet localhost 4444
Trying ::1...
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
Open On-Chip Debugger
&gt;<i> init
</I>&gt;<i> reset halt
</I>JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg: 0x23b, part:
0xba00, ver: 0x3)
JTAG Tap/device matched
target state: halted
target halted due to debug-request, current mode: Thread
xPSR: 0x01000000 pc: 0x00000470 msp: 0x20000198
&gt;<i> flash probe 0
</I>flash 'stellaris' found at 0x00000000
&gt;<i> flash write_image erase ./StellarisWare/boards/ek-lm3s1968/graphics/gcc/graphics.bin
</I>auto erase enabled
Algorithm flash write 1710 words to 0x0, 1710 remaining
wrote 6840 byte from file
./StellarisWare/boards/ek-lm3s1968/graphics/gcc/graphics.bin in
0.879946s (7.591020 kb/s)
&gt;<i> reset run
</I>JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg: 0x23b, part:
0xba00, ver: 0x3)
JTAG Tap/device matched
&gt;<i> reset halt
</I>JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg: 0x23b, part:
0xba00, ver: 0x3)
JTAG Tap/device matched
target state: halted
target halted due to debug-request, current mode: Thread
xPSR: 0x01000000 pc: 0x00000470 msp: 0x20000198
&gt;<i> flash probe 0
</I>flash 'stellaris' found at 0x00000000
&gt;<i> flash write_image erase ./StellarisWare/boards/ek-lm3s1968/qs_ek-lm3s1968/gcc/qs_ek-lm3s1968.bin
</I>auto erase enabled
Algorithm flash write 2048 words to 0x0, 30257 remaining
Algorithm flash write 2048 words to 0x2000, 28209 remaining
Algorithm flash write 2048 words to 0x4000, 26161 remaining
Algorithm flash write 2048 words to 0x6000, 24113 remaining
Algorithm flash write 2048 words to 0x8000, 22065 remaining
Algorithm flash write 2048 words to 0xa000, 20017 remaining
Algorithm flash write 2048 words to 0xc000, 17969 remaining
Algorithm flash write 2048 words to 0xe000, 15921 remaining
Algorithm flash write 2048 words to 0x10000, 13873 remaining
Algorithm flash write 2048 words to 0x12000, 11825 remaining
Algorithm flash write 2048 words to 0x14000, 9777 remaining
Algorithm flash write 2048 words to 0x16000, 7729 remaining
Algorithm flash write 2048 words to 0x18000, 5681 remaining
Algorithm flash write 2048 words to 0x1a000, 3633 remaining
Algorithm flash write 1585 words to 0x1c000, 1585 remaining
wrote 121029 byte from file
./StellarisWare/boards/ek-lm3s1968/qs_ek-lm3s1968/gcc/qs_ek-lm3s1968.bin
in 13.964152s (8.463986 kb/s)
&gt;<i> reset run
</I>JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg: 0x23b, part:
0xba00, ver: 0x3)
JTAG Tap/device matched


-- 
Xiaofan <A HREF="http://mcuee.blogspot.com">http://mcuee.blogspot.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009899.html">[Openocd-development] EK-LM3S1968 Configuration File
</A></li>
	<LI>Next message: <A HREF="009902.html">[Openocd-development] [PATCH] Add config file for TI-Luminary	LM3S1968 chip and EK-LM3S1968 board
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9900">[ date ]</a>
              <a href="thread.html#9900">[ thread ]</a>
              <a href="subject.html#9900">[ subject ]</a>
              <a href="author.html#9900">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
