<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Setting a watchpoint to break when writing a specific value to a specific address
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Setting%20a%20watchpoint%20to%20break%20when%20writing%20a%0A%20specific%20value%20to%20a%20specific%20address&In-Reply-To=%3C14FFB10D8C44FC42BCE4B9425148537B0E51D3D6%40pscptsrvexc02.psitek.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002172.html">
   <LINK REL="Next"  HREF="002182.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Setting a watchpoint to break when writing a specific value to a specific address</H1>
    <B>Pieter Conradie</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Setting%20a%20watchpoint%20to%20break%20when%20writing%20a%0A%20specific%20value%20to%20a%20specific%20address&In-Reply-To=%3C14FFB10D8C44FC42BCE4B9425148537B0E51D3D6%40pscptsrvexc02.psitek.local%3E"
       TITLE="[Openocd-development] Setting a watchpoint to break when writing a specific value to a specific address">Pieter.Conradie at psitek.com
       </A><BR>
    <I>Thu May 22 08:33:50 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002172.html">[Openocd-development] Segmentation fault when trying enable	turbo on str9xpec
</A></li>
        <LI>Next message: <A HREF="002182.html">[Openocd-development] Setting a watchpoint to break when writing a specific value to a specific address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2165">[ date ]</a>
              <a href="thread.html#2165">[ thread ]</a>
              <a href="subject.html#2165">[ subject ]</a>
              <a href="author.html#2165">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi List,

The target I am trying to debug is an Atmel AT91SAM7S256 (arm7tdmi core). The OpenOCD revision is 657. The syntax for setting a watch point is:

wp    set watchpoint &lt;address&gt; &lt;length&gt; &lt;r/w/a&gt; [value] [mask]

I want OpenOCD to only break when a specific value (0xaabbccdd) is written to a specific address (0x00200098). I used the following command:

wp 0x00200098 4 w 0xaabbccdd

By querying the watchpoints (using &quot;wp&quot;) the following is reported (note that the word &quot;mask&quot; is used twice):

address: 0x00200098, mask: 0x00000004, r/w/a: 1, value: 0xaabbccdd, mask: 0xffffffff

The problem is that OpenOCD breaks when ANY value is written to the specified address. Am I missing something?

Thanks for your time!

Best regards,
Pieter Conradie

P.S. I am trying to find the cause of a nasty Prefetch Abort because of a nested interrupt handler and the only way is using this feature.
Notice
This email is intended for the addressee only and may contain legally privileged and/or confidential information.  If you have received this email in error and are not the intended recipient, you are hereby informed that you are not entitled to read, broadcast, distribute or in any manner whatsoever use the contents of this email or any attachments thereto.  You are requested to please notify Psitek that you have received the email and then delete it.  Unless clearly stated otherwise, the content and sentiments expressed in this email or any attachments thereto are those of the sender and not of Psitek (Proprietary) Limited.  Psitek does not accept liability for any damages, loss or expense of any nature whatsoever arising (a) out of or in connection with the email or any attachments thereto and/or (b) from any act or omission by the recipient relying upon the content of the email or attachments.  Psitek further disclaims liability for any damages caused by computer and/or software viruses.  Should this email contain the terms of a contract, no binding agreement will result until such time as a written (hardcopy) document is signed on behalf of Psitek.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20080522/d8d1bcce/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20080522/d8d1bcce/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002172.html">[Openocd-development] Segmentation fault when trying enable	turbo on str9xpec
</A></li>
	<LI>Next message: <A HREF="002182.html">[Openocd-development] Setting a watchpoint to break when writing a specific value to a specific address
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2165">[ date ]</a>
              <a href="thread.html#2165">[ thread ]</a>
              <a href="subject.html#2165">[ subject ]</a>
              <a href="author.html#2165">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
