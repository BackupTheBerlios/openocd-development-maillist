<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] howto: push variables from make to openocd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20howto%3A%20push%20variables%20from%20make%20to%20openocd&In-Reply-To=%3C3fcfb0ba0805220144g79f9c593lca976379b545d445%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002158.html">
   <LINK REL="Next"  HREF="002163.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] howto: push variables from make to openocd</H1>
    <B>CeDeROM</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20howto%3A%20push%20variables%20from%20make%20to%20openocd&In-Reply-To=%3C3fcfb0ba0805220144g79f9c593lca976379b545d445%40mail.gmail.com%3E"
       TITLE="[Openocd-development] howto: push variables from make to openocd">cederom at tlen.pl
       </A><BR>
    <I>Thu May 22 10:44:54 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002158.html">[Openocd-development] howto: push variables from make to openocd
</A></li>
        <LI>Next message: <A HREF="002163.html">[Openocd-development] Segmentation fault when trying enable turbo	on str9xpec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2173">[ date ]</a>
              <a href="thread.html#2173">[ thread ]</a>
              <a href="subject.html#2173">[ subject ]</a>
              <a href="author.html#2173">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello!

I think these two files might be the solution. When You export
variable it gets aviable to all internally invoked scripts.
Alternatively You can pass arguments as the commandline parameters to
the script and read them all by $* or one after another $0 (is the
script name) $1(first parameter), $2 (second parameter), ...
If You need to split whole line of parameters, awk program can be used.

Makefile:
export NAME=Tomek
all:
        sh script $@ second

script:
#!/bin/sh
echo &quot;The $0 says that variable NAME is &quot;$NAME&quot; and first commandline
paramater is: &quot; $1
echo &quot;But this script knows also all the commandline parameters: &quot; $*


I have recently written a simple script that lays next to openocd.cfg.
It generates temporary file that is invoked by openocd.cfg. also it
searches for the first *.elf file then generates *.bin file from it,
but this couls be replaced by passing target name as showed above.
Here is the script:
<A HREF="http://home.elka.pw.edu.pl/~tcedro/files/openocd.run">http://home.elka.pw.edu.pl/~tcedro/files/openocd.run</A>
<A HREF="http://home.elka.pw.edu.pl/~tcedro/files/openocd.cfg">http://home.elka.pw.edu.pl/~tcedro/files/openocd.cfg</A>

Regards,
Tomek

-- 
CeDeROM, <A HREF="http://www.tomek.cedro.info">http://www.tomek.cedro.info</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002158.html">[Openocd-development] howto: push variables from make to openocd
</A></li>
	<LI>Next message: <A HREF="002163.html">[Openocd-development] Segmentation fault when trying enable turbo	on str9xpec
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2173">[ date ]</a>
              <a href="thread.html#2173">[ thread ]</a>
              <a href="subject.html#2173">[ subject ]</a>
              <a href="author.html#2173">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
