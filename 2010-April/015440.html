<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] patching load_image command
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20patching%20load_image%20command&In-Reply-To=%3Cy2qc09652431004110155y409aa040ra8726adbe4a2b48f%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015420.html">
   <LINK REL="Next"  HREF="015446.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] patching load_image command</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20patching%20load_image%20command&In-Reply-To=%3Cy2qc09652431004110155y409aa040ra8726adbe4a2b48f%40mail.gmail.com%3E"
       TITLE="[Openocd-development] patching load_image command">oyvind.harboe at zylin.com
       </A><BR>
    <I>Sun Apr 11 10:55:35 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015420.html">[Openocd-development] patching load_image command
</A></li>
        <LI>Next message: <A HREF="015446.html">[Openocd-development] patching load_image command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15440">[ date ]</a>
              <a href="thread.html#15440">[ thread ]</a>
              <a href="subject.html#15440">[ subject ]</a>
              <a href="author.html#15440">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Apr 8, 2010 at 2:48 AM, michal smulski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">michal.smulski at ooma.com</A>&gt; wrote:
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Here is a patch that adds file_offset to load_image command.
</I>&gt;<i> This allows loading 'bin' regions that do not start at 0x0 file offset.
</I>&gt;<i> I use this to create a simple flash driver in tcl. It load chunks of the
</I>&gt;<i> bin file to memory and burn them to flash. This is saved me a quite a
</I>&gt;<i> bit of time as I did not have to write a full flash driver in openocd.
</I>
I think I'd prefer to see this implemented in a more general fashion, it
looks a bit hacked in there...

I recall having a need at one point to &quot;crop&quot; load_image where I would
load only part of an image into an area in memory.

Perhaps with an argument for max and min address to write to, keeping
the current offset? That concept would work for all file types...

Perhaps load the image into tcl objects so small tcl'lets can be written
to do anything out of the ordinary?

-- 
Meet us in Paris at rts EMBEDDED SYSTEMS 2010 - March 30. and April 1.
<A HREF="http://www.zylin.com/events_rts.html">http://www.zylin.com/events_rts.html</A>

&#216;yvind Harboe
US toll free 1-866-980-3434 / International +47 51 63 25 00
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015420.html">[Openocd-development] patching load_image command
</A></li>
	<LI>Next message: <A HREF="015446.html">[Openocd-development] patching load_image command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15440">[ date ]</a>
              <a href="thread.html#15440">[ thread ]</a>
              <a href="subject.html#15440">[ subject ]</a>
              <a href="author.html#15440">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
