<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Getting OpenOCD working on DM355 without SRST
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Getting%20OpenOCD%20working%20on%20DM355%20without%0A%20SRST&In-Reply-To=%3C4BCD546B.7080708%40amontec.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015523.html">
   <LINK REL="Next"  HREF="015529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Getting OpenOCD working on DM355 without SRST</H1>
    <B>Laurent Gauch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Getting%20OpenOCD%20working%20on%20DM355%20without%0A%20SRST&In-Reply-To=%3C4BCD546B.7080708%40amontec.com%3E"
       TITLE="[Openocd-development] Getting OpenOCD working on DM355 without SRST">laurent.gauch at amontec.com
       </A><BR>
    <I>Tue Apr 20 09:14:51 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015523.html">[Openocd-development] Getting OpenOCD working on DM355 without SRST
</A></li>
        <LI>Next message: <A HREF="015529.html">[Openocd-development] Getting OpenOCD working on DM355 without SRST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15526">[ date ]</a>
              <a href="thread.html#15526">[ thread ]</a>
              <a href="subject.html#15526">[ subject ]</a>
              <a href="author.html#15526">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

Could you please let us know if you have selected ICE Pick or ARM debug 
mode  from the EMU0 and EMU1 ?
note: ICE Pick Mode may have an issue booting from Reset !

For ARM Mode please configure your jumper for EMU0 = '0' and EMU1 = '0'  
(pulldown 2.2k or smaller).
note : you could still route the SRST (ARM RESET signal) from the 
Amontec JTAGkey-Tiny to the ARM_RSTn signal on your DM355 board. (eg. on 
pin 15 of the TI SAMTEC 20-pin header).

If you want to use the RTCK (adaptive return clock ) signal, you could 
update your ICE to an Amontec JTAGkey-2 dongle. This will help 
accelerate your debug and help to have a stable debug.

That's just some comments. Maybe they could help, maybe not.

Regards,
Laurent
 <A HREF="http://www.amontec.com">http://www.amontec.com</A>
 <A HREF="http://www.amontec.com/jtagkey.shtml">http://www.amontec.com/jtagkey.shtml</A>

&gt;<i> Hi folks,
</I>&gt;<i>
</I>&gt;<i> I am trying to get OpenOCD 0.4.0 (built from git) working with an Amontek JTAGKey-Tiny. I am using a home-made adapter to TI 14-pin JTAG header which has TRST but no SRST, on our board which features Texas DM355 and one other chip in the scan chain (which I don't care much about). For info we have been using the Ronetix PEEDI JTAG programmer through the same connector successfully on this board and other copies, so the design and connector are known to work.
</I>&gt;<i>
</I>&gt;<i> I used OpenOCD a little a couple of years ago and it's clearly come on a long way - I'm keen to play with the NAND flash support.
</I>&gt;<i>
</I>&gt;<i> I have copied dm355evm.cfg and customised with a couple of lines like:
</I>&gt;<i>
</I>&gt;<i>  jtag newtap penta tap -irlen 5 -expected-id 0x04040009
</I>&gt;<i>  # paranoia / trying to make stuff work:
</I>&gt;<i>  jtag_rclk 100
</I>&gt;<i>  reset_config trst_only separate
</I>&gt;<i>
</I>&gt;<i> I can talk to the board a little, but I think I need to configure OpenOCD with a software reset or something to replace the missing SRST?
</I>&gt;<i>   
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015523.html">[Openocd-development] Getting OpenOCD working on DM355 without SRST
</A></li>
	<LI>Next message: <A HREF="015529.html">[Openocd-development] Getting OpenOCD working on DM355 without SRST
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15526">[ date ]</a>
              <a href="thread.html#15526">[ thread ]</a>
              <a href="subject.html#15526">[ subject ]</a>
              <a href="author.html#15526">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
