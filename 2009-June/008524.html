<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] FT2232 &amp; Windows - summary of options
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20FT2232%20%26%20Windows%20-%20summary%20of%20options&In-Reply-To=%3C1245792464.28486.1286.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008441.html">
   <LINK REL="Next"  HREF="008412.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] FT2232 &amp; Windows - summary of options</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20FT2232%20%26%20Windows%20-%20summary%20of%20options&In-Reply-To=%3C1245792464.28486.1286.camel%40localhost%3E"
       TITLE="[Openocd-development] FT2232 &amp; Windows - summary of options">zw at superlucidity.net
       </A><BR>
    <I>Tue Jun 23 23:27:44 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="008441.html">[Openocd-development] FT2232 &amp; Windows - summary of options
</A></li>
        <LI>Next message: <A HREF="008412.html">[Openocd-development] FT2232 &amp; Windows - summary of options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8524">[ date ]</a>
              <a href="thread.html#8524">[ thread ]</a>
              <a href="subject.html#8524">[ subject ]</a>
              <a href="author.html#8524">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-06-22 at 19:35 -0700, David Brownell wrote: 
&gt;<i> On Monday 22 June 2009, Zach Welch wrote:
</I>&gt;<i> &gt; On Mon, 2009-06-22 at 19:59 +0200, Dominic wrote:
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &#216;yvind mentioned the idea of wrapping the JTAG API in TCP/IP. Aside
</I>&gt;<i> &gt; &gt; from performance implications I think this would require some
</I>&gt;<i> &gt; &gt; significant development efforts with little immediate benefits. Even
</I>&gt;<i> &gt; &gt; worse, it would encourage other JTAG interface vendors to implement
</I>&gt;<i> &gt; &gt; their JTAG interface layer as a binary only driver that talks to the
</I>&gt;<i> &gt; &gt; OpenOCD via TCP/IP layer, too.
</I>&gt;<i> 
</I>&gt;<i> FTDI doesn't see themselves as a JTAG interface vendor though,
</I>&gt;<i> and that's part of the problem.  :(
</I>&gt;<i> 
</I>&gt;<i> Getting more driver support wouldn't be entirely bad, would it?
</I>
I read his statement as being opposed to more binary drivers, since he
started his last sentence with the words &quot;even worse&quot;.  So, yes, I think
that some of us think binary driver support would be bad, but I admit
not &quot;entirely&quot; -- provided any such solutions are GPL-compliant.  ;)

&gt;<i> Most of those JTAG adapter vendors are just ignoring OpenOCD
</I>&gt;<i> right now.  Maybe they talk to GDB through a proprietary GDB
</I>&gt;<i> server engine; maybe they don't talk GDB at all.
</I>&gt;<i> 
</I>&gt;<i> We could be presenting a choice between getting GNU tools
</I>&gt;<i> support by either
</I>&gt;<i> 
</I>&gt;<i>  (a) writing proprietary JTAG engine *AND* proprietary
</I>&gt;<i>      GDB server engine; or
</I>&gt;<i>  (b) writing proprietary JTAG engine but *REUSING* OpenOCD
</I>&gt;<i>      GDB server engine.
</I>&gt;<i> 
</I>&gt;<i> Anyone switching to (b) would necessarily start improving
</I>&gt;<i> the OpenOCD code.  And they'd likely realize that adding
</I>&gt;<i> Linux support -- instead of being Windows-only -- became
</I>&gt;<i> much easier.  That's in addition to
</I>&gt;<i> 
</I>&gt;<i>  (c) propietary JTAG engine plus proprietary non-GNU tools
</I>&gt;<i> 
</I>&gt;<i> Vendors now in category (c) that provide such OpenOCD
</I>&gt;<i> engines seem like incremental wins too.  But if any of
</I>&gt;<i> them do so, I'd be (pleasantly) surprised.
</I>
I really would be surprised to see the kind of transition that you
envision happening actually occurring in real life, without the
hand-in-hand support of the vendors.  That said, it seems possible, if
apparently improbable.

&gt;<i> &gt; I am opposed to this as
</I>&gt;<i> &gt; well, for the same reasons.  This is why I did 
</I>&gt;<i> &gt; not suggest it until someone else suggested it.  I want to see libusb
</I>&gt;<i> &gt; and libfdti fixed,
</I>&gt;<i> 
</I>&gt;<i> I think *everyone* wants to see those get fixed.
</I>&gt;<i> &quot;How&quot; is open; Duane's WinUSB note was interesting.
</I>
I agree -- WinUSB looks promising, particularly since support for it has
been indicated to be present in SVN builds (if still incomplete).  I am
all for talking about &quot;how,&quot; but I think we are getting past having to
explain &quot;why&quot; it needs to be fixed so badly. 

&gt;<i> &gt; and I do not want to open the door to more binary 
</I>&gt;<i> &gt; drivers.  If I were to implement the TCP/IP interface without pay, I
</I>&gt;<i> &gt; would release it under the GPL to prevent this situation from ever
</I>&gt;<i> &gt; occurring.  At this point, I am tempted to implement it simply in order
</I>&gt;<i> &gt; to close this back door to binary drivers.
</I>&gt;<i> 
</I>&gt;<i> It wouldn't work that way at all.  As soon as there's a well defined
</I>&gt;<i> protocol, it could be re-implemented without using your code.
</I>&gt;<i> 
</I>&gt;<i> There are two ways to take that reality.  One is the Microsoft way:
</I>&gt;<i> as a threat, to be responded to by ensuring the protocol is always
</I>&gt;<i> changing and abysmally documented, so that interop using anyone
</I>&gt;<i> else's code tends to be weak in critical areas.
</I>&gt;<i> 
</I>&gt;<i> The other is the IETF/Internet way, to be responded to by making
</I>&gt;<i> sure the protocol is well-documented, well-behaving, and evolves
</I>&gt;<i> cleanly.  This is how we got HTTP and SSL, not to mention TCP in
</I>&gt;<i> the first place.
</I>
I am totally in favor of developing an open standard for this. However,
I am not particularly interested in allowing my investment in OpenOCD to
be used in ways that effectively circumvent the GPL, which is what I
ultimately see becoming the impetus to pursue this design.

Since this is being viewed as a viable option, I started to sketch out
this module yesterday.  I am willing for it to be licensed under LGPL,
but I am not willing to do that work for free and see it be used in that
way.  I would rather submit it under the GPL, and it would be a very sad
day to see it rejected because of that license choice alone.  

Would the OpenOCD community refuse an implementation if one was given,
but licensed only under the GPL?  [[How would such a matter be decided
fairly and conclusively?]]  To me, this is where &quot;first mover advantage&quot;
comes into play; you want your code in?  Then write it first.

That said, once it becomes a public protocol... you are totally right.
A clean room implementation can provide a FTD2XX driver.  I believe some
portions of this loophole were closed with the GPL v3, but I have not
studied this version as carefully as v2.  Since we use v2, it's moot;
the proprietary vendors have found their loophole.  That outcome seemed
inevitable really; it did not take long for the idea to surface either. 

I can try to bias the OpenOCD code on the side of the GPL, though.  So
my metaphor about closing the door on this should be clarified.  I meant
to say that I never expected to be able to shut it completely.  I want
to make it both easier for people to find the door and simultaneously
have to make the decision as to whether or not to try to go through it.
I want them to just embrace the GPL, using my baseline implementation.  

This will make it easier to license drivers as GPL than not, but I could
even dual-license my original code to closed driver authors.  Clearly, I
do not want others to use my work for that purpose for free, but I am
not opposed to such use.  Someday, I hope to be able to donate such
works for free, but I would go bankrupt today.  Put simply, I have a
house mortgage, and this kind of work should be paying it off.

It would be nice to get some confirmation from the existing vendors that
they would spend some money on such a solution; however, these folks**
have shown more interest in finding a quick contribution-less solution.
In general, this behavior seems representative of their virtually
non-existent community support resources, but these same vendors are
using OpenOCD to generate sales and profits (one must presume).

Why should anyone be surprised when I offer no quick fixes in return,
beyond my already excessive amount of community support?  You get as you
give, or so I would like to believe.  This plans seems to be the best
approach, given my present perspective on the situation.

The community should consider that I could have just as well said &quot;no,
ask a lawyer&quot;.  Or, I could have just kept completely quiet and started
suing the violators into settlement after 0.2.0 was out.  Think about
that folks.  Clearly, I am not out to screw everyone out of money, or I
am doing a very poor job of it.  Indeed, I no longer expect to be hired
by vendors in this community after taking this stance, so I figure that
my ethics have now fully undermined my own potential to profit here.

Cheers,

Zach

** The singular exception to this observation would be Zylin AS.
Interestingly, I think they would accept the TCP/IP driver if it was
provided under the GPL, and I think their word deserves additional
consideration. Oyvind actively contributes to the community on a regular
basis, which puts him leagues ahead of the other vendors in my book.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008441.html">[Openocd-development] FT2232 &amp; Windows - summary of options
</A></li>
	<LI>Next message: <A HREF="008412.html">[Openocd-development] FT2232 &amp; Windows - summary of options
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8524">[ date ]</a>
              <a href="thread.html#8524">[ thread ]</a>
              <a href="subject.html#8524">[ subject ]</a>
              <a href="author.html#8524">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
