<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] RFC: struct cleanup and more
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20struct%20cleanup%20and%20more&In-Reply-To=%3C17C90183-4AAC-4557-B581-8F293ED4FEEC%40kc8apf.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007572.html">
   <LINK REL="Next"  HREF="007629.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] RFC: struct cleanup and more</H1>
    <B>Rick Altherr</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20struct%20cleanup%20and%20more&In-Reply-To=%3C17C90183-4AAC-4557-B581-8F293ED4FEEC%40kc8apf.net%3E"
       TITLE="[Openocd-development] RFC: struct cleanup and more">kc8apf at kc8apf.net
       </A><BR>
    <I>Mon Jun  1 20:12:29 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007572.html">[Openocd-development] RFC: struct cleanup and more
</A></li>
        <LI>Next message: <A HREF="007629.html">[Openocd-development] RFC: struct cleanup and more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7602">[ date ]</a>
              <a href="thread.html#7602">[ thread ]</a>
              <a href="subject.html#7602">[ subject ]</a>
              <a href="author.html#7602">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I'm all for removing the type redundancy, but I'd rather see the  
typedef stay and remove the struct name instead. It reduces typing  
when specifying the type and gets rid of the unnecessary separation of  
struct type names from other types.

Sent from my iPhone

On May 31, 2009, at 4:37 PM, Zach Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">zw at superlucidity.net</A>&gt; wrote:

&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> The following things nagged at me when I did the target_type clean-up:
</I>&gt;<i>
</I>&gt;<i> 1) Remove redundant structure typedefs:
</I>&gt;<i>  a) Entails the following steps (for each named struct &quot;type&quot;):
</I>&gt;<i>        i) s/^typedef struct type_s/struct type_s/
</I>&gt;<i>       ii) s/^} type_t;/};/
</I>&gt;<i>      iii) s/type_t/struct type_s/
</I>&gt;<i>       iv) Fix any messes that these commands miss or make. ;)
</I>&gt;<i>  b) Eliminates what are essentially duplicated symbols:
</I>&gt;<i>    - simplifies the Doxygen documentation tremendously.
</I>&gt;<i>    - eliminates style ambiguity and forward referencing.
</I>&gt;<i>
</I>&gt;<i> 2) Improve the documentation for the target module files.
</I>&gt;<i>  - would be best to wait until other cleanup is done.
</I>&gt;<i>
</I>&gt;<i> 3) More moving and module clean-up:
</I>&gt;<i>  - I target.h needs some re-organization.
</I>&gt;<i>  - I have a jtag.h doc patch in progress.
</I>&gt;<i>
</I>&gt;<i> How do these changes look in the community's eyes?  These were on the
</I>&gt;<i> list of things to be considered for 0.2.0, but no one addressed them.
</I>&gt;<i>
</I>&gt;<i> I will post patches to clean-up and removal of jtag_tap_t in reply to
</I>&gt;<i> this thread, to provide better foundation for concrete discussion  
</I>&gt;<i> about
</I>&gt;<i> issue #1.  While I think this would help the code and documentation a
</I>&gt;<i> lot, I would even go further to suggest &quot;s/_s//&quot; from all struct  
</I>&gt;<i> names.
</I>&gt;<i>
</I>&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Zach
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Openocd-development mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007572.html">[Openocd-development] RFC: struct cleanup and more
</A></li>
	<LI>Next message: <A HREF="007629.html">[Openocd-development] RFC: struct cleanup and more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7602">[ date ]</a>
              <a href="thread.html#7602">[ thread ]</a>
              <a href="subject.html#7602">[ subject ]</a>
              <a href="author.html#7602">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
