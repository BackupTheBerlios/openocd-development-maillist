<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] ir/drscan and target &quot;layering violations&quot;
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ir/drscan%20and%20target%20%22layering%20violations%22&In-Reply-To=%3C1244702350.12543.113.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007912.html">
   <LINK REL="Next"  HREF="007916.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] ir/drscan and target &quot;layering violations&quot;</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ir/drscan%20and%20target%20%22layering%20violations%22&In-Reply-To=%3C1244702350.12543.113.camel%40localhost%3E"
       TITLE="[Openocd-development] ir/drscan and target &quot;layering violations&quot;">zw at superlucidity.net
       </A><BR>
    <I>Thu Jun 11 08:39:10 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007912.html">[Openocd-development] ir/drscan and target &quot;layering violations&quot;
</A></li>
        <LI>Next message: <A HREF="007916.html">[Openocd-development] ir/drscan and target &quot;layering violations&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7914">[ date ]</a>
              <a href="thread.html#7914">[ thread ]</a>
              <a href="subject.html#7914">[ subject ]</a>
              <a href="author.html#7914">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, 2009-06-11 at 08:23 +0200, &#216;yvind Harboe wrote:
&gt;<i> I was thinking that pathmove, irscan and drscan commands should
</I>&gt;<i> fail or at least give a warning if they are invoked while background
</I>&gt;<i> polling is running.
</I>
Sounds reasonable.

&gt;<i> But isn't that a &quot;layering violation&quot;?
</I>
It looks like it, yes.

&gt;<i> Should target tell jtag when it is doing background polling or
</I>&gt;<i> should jtag check when target is doing polling?
</I>
This is a dumb question (because I could answer it by looking at the
code for a little while), but can the polling mechanism be separated and
moved into a JTAG sub-layer?  It seems that this kind of coordination
implies that some part of it should already be there.

So, while &quot;yes, it would be a layering violation today&quot;, I think the
bigger layering violation might be the fact that the target layer uses a
monolithic polling mechanism, rather than factoring the core mechanism
into the JTAG module and implementing its required policy on top of it.

Mind you, I am glad that I did not have to extricate those bits from the
rest during the recent modularization, but the JTAG layer now seems
better prepared to received this kind of extended functionality.

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007912.html">[Openocd-development] ir/drscan and target &quot;layering violations&quot;
</A></li>
	<LI>Next message: <A HREF="007916.html">[Openocd-development] ir/drscan and target &quot;layering violations&quot;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7914">[ date ]</a>
              <a href="thread.html#7914">[ thread ]</a>
              <a href="subject.html#7914">[ subject ]</a>
              <a href="author.html#7914">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
