<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] RFC: struct cleanup and more
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20struct%20cleanup%20and%20more&In-Reply-To=%3C1243823759.26434.1736.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007569.html">
   <LINK REL="Next"  HREF="007576.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] RFC: struct cleanup and more</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20struct%20cleanup%20and%20more&In-Reply-To=%3C1243823759.26434.1736.camel%40localhost%3E"
       TITLE="[Openocd-development] RFC: struct cleanup and more">zw at superlucidity.net
       </A><BR>
    <I>Mon Jun  1 04:35:59 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007569.html">[Openocd-development] RFC: struct cleanup and more
</A></li>
        <LI>Next message: <A HREF="007576.html">[Openocd-development] RFC: struct cleanup and more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7570">[ date ]</a>
              <a href="thread.html#7570">[ thread ]</a>
              <a href="subject.html#7570">[ subject ]</a>
              <a href="author.html#7570">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-06-01 at 04:15 +0200, Michael Bruck wrote:
&gt;<i> The 'struct foo_s' syntax is code bloat that obscures the actual
</I>&gt;<i> algorithms. 'foo_t' is shorter.
</I>
I assume you prefer u32 over uint32_t, then? ;)  Nevermind....

I think 'struct foo' is much more clear when reading and writing code.

&gt;<i> Doxygen seems to recognize the foo_s and foo_t version as one an the
</I>&gt;<i> same, I don't see what problem you have there. However it will just as
</I>&gt;<i> happily accept foo_t only, like in
</I>&gt;<i> 
</I>&gt;<i> typedef struct {} foo_t;
</I>
The problem with the documentation is the fact that there are two types
that refer to the same thing.  The current scheme imposes extra effort
for new developers to realize that many blah_t types are structures, and
there is not immediate way to tell them apart without digging into
further into the documentation or code.

I think the Wikipedia page on typedefs does a good job of explaining the
reasons to avoid them in this particular case:

	<A HREF="http://en.wikipedia.org/wiki/Typedef">http://en.wikipedia.org/wiki/Typedef</A>

Neither of the K&amp;R guidelines for using typedefs are met in this case:
1) These types do nothing to aid portability; they add no value here.
2) These types do not make a complex declaration easier to understand.
If anything, they make a simple declaration unnecessarily opaque.

Cheers,

Zach

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007569.html">[Openocd-development] RFC: struct cleanup and more
</A></li>
	<LI>Next message: <A HREF="007576.html">[Openocd-development] RFC: struct cleanup and more
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7570">[ date ]</a>
              <a href="thread.html#7570">[ thread ]</a>
              <a href="subject.html#7570">[ subject ]</a>
              <a href="author.html#7570">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
