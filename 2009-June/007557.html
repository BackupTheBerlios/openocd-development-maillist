<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] The Taming of target_type_t
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20The%20Taming%20of%20target_type_t&In-Reply-To=%3C1243812794.26434.809.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007579.html">
   <LINK REL="Next"  HREF="007560.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] The Taming of target_type_t</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20The%20Taming%20of%20target_type_t&In-Reply-To=%3C1243812794.26434.809.camel%40localhost%3E"
       TITLE="[Openocd-development] The Taming of target_type_t">zw at superlucidity.net
       </A><BR>
    <I>Mon Jun  1 01:33:14 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007579.html">[Openocd-development] new target_types.h
</A></li>
        <LI>Next message: <A HREF="007560.html">[Openocd-development] The Taming of target_type_t
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7557">[ date ]</a>
              <a href="thread.html#7557">[ thread ]</a>
              <a href="subject.html#7557">[ subject ]</a>
              <a href="author.html#7557">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

Last night, I committed patches to hide the definition of the
target_type_s structure from out-of-module users.  This was done over
the course of a few series of patches.  I apologize if any problems crop
up, but I will report my own status in a new thread following this one.
Suffice it to say that I believe it unlikely there will be problems.

The first and second series of patches added trivial target_* wrappers
for its fields and callback functions.  They culminated in the removal
of the structure definition and replacement with a forward declaration,
unless the DEFINE_TARGET_TYPE_S symbol is defined by the source file
that requires it.

The third &quot;series&quot; turned out to be one patch to move the structure into
its own header file, which allows it to be documented without bloating
the main target.h header.  That header will remain fairly hefty (after
being documented), even after removing this particular fatty lump.

As this sentiment suggests, I was tempted to make some other changes
along the way to clean up the target APIs, but I wanted to remain true
to the intent of the line of development (indicated in the Subject line
of this message).  Now that most of that work is done, I will post a new
thread to list the things that bothered me when I was knee-deep in code.

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007579.html">[Openocd-development] new target_types.h
</A></li>
	<LI>Next message: <A HREF="007560.html">[Openocd-development] The Taming of target_type_t
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7557">[ date ]</a>
              <a href="thread.html#7557">[ thread ]</a>
              <a href="subject.html#7557">[ subject ]</a>
              <a href="author.html#7557">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
