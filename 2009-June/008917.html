<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [patch] warn when tap *NUMBERS* are used
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5Bpatch%5D%20warn%20when%20tap%20%2ANUMBERS%2A%20are%20used&In-Reply-To=%3C200906291058.30060.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="008916.html">
   <LINK REL="Next"  HREF="008919.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [patch] warn when tap *NUMBERS* are used</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5Bpatch%5D%20warn%20when%20tap%20%2ANUMBERS%2A%20are%20used&In-Reply-To=%3C200906291058.30060.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] [patch] warn when tap *NUMBERS* are used">david-b at pacbell.net
       </A><BR>
    <I>Mon Jun 29 19:58:29 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="008916.html">[Openocd-development] [patch] openocd.texi - cleanup,	mostly related to setup.tcl
</A></li>
        <LI>Next message: <A HREF="008919.html">[Openocd-development] [patch] remove bogus arm926ejs startup	warnings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8917">[ date ]</a>
              <a href="thread.html#8917">[ thread ]</a>
              <a href="subject.html#8917">[ subject ]</a>
              <a href="author.html#8917">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Warn when people (or scripts) use numeric identifiers for TAPs,
instead of dotted.name values.  We want this usage to go away,
so that for example adding more TAPs doesn't cause config scripts
to break because some sequence number changed.

It's been deprecated since late 2008, but putting a warning on
this should help us remove it (say, in June 2010) by helping to
phase out old (ab)usage in config scripts.

Other than in various config files, the only code expecting such
a number was the almost unused str9xpec driver.  This code was
changed to use the TAP it was passed, instead of making its own
dubious lookup and ignoring that TAP.
---
Something similar should probably be done for TARGET names.

 doc/openocd.texi     |    5 +++--
 src/flash/str9xpec.c |    8 ++++----
 src/jtag/core.c      |   34 ++++++++++++++++++++++------------
 src/jtag/jtag.h      |    1 -
 4 files changed, 29 insertions(+), 19 deletions(-)

-------------- next part --------------
A non-text attachment was scrubbed...
Name: number.patch
Type: text/x-diff
Size: 4292 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090629/e90bfca0/attachment.patch">https://lists.berlios.de/pipermail/openocd-development/attachments/20090629/e90bfca0/attachment.patch</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="008916.html">[Openocd-development] [patch] openocd.texi - cleanup,	mostly related to setup.tcl
</A></li>
	<LI>Next message: <A HREF="008919.html">[Openocd-development] [patch] remove bogus arm926ejs startup	warnings
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#8917">[ date ]</a>
              <a href="thread.html#8917">[ thread ]</a>
              <a href="subject.html#8917">[ subject ]</a>
              <a href="author.html#8917">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
