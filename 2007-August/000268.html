<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] Update README and manpage
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20Update%20README%20and%20manpage&In-Reply-To=%3C20070809201413.GA30154%40greenwood%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000267.html">
   <LINK REL="Next"  HREF="000269.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] Update README and manpage</H1>
    <B>Uwe Hermann</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20Update%20README%20and%20manpage&In-Reply-To=%3C20070809201413.GA30154%40greenwood%3E"
       TITLE="[Openocd-development] [PATCH] Update README and manpage">uwe at hermann-uwe.de
       </A><BR>
    <I>Thu Aug  9 22:14:13 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000267.html">[Openocd-development] FLASH access per target vs bank
</A></li>
        <LI>Next message: <A HREF="000269.html">[Openocd-development] [PATCH] Fix build on some non-x86	architectures (sys/io.h)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#268">[ date ]</a>
              <a href="thread.html#268">[ thread ]</a>
              <a href="subject.html#268">[ subject ]</a>
              <a href="author.html#268">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

On Thu, Jul 26, 2007 at 08:24:18AM +0200, Vincent Palatin wrote:
&gt;<i> On Thursday 26 July 2007 01:47, Uwe Hermann wrote:
</I>&gt;<i> &gt; Also, judging from the Debian autobuilders openocd builds fine on the
</I>&gt;<i> &gt; following architectures (now mentioned in the README):
</I>&gt;<i> &gt; alpha, amd64, arm, i386, and ia64.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; <A HREF="http://buildd.debian.org/pkg.cgi?pkg=openocd">http://buildd.debian.org/pkg.cgi?pkg=openocd</A>
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Interestingly, PowerPC (and some others) fail because of the lack of
</I>&gt;<i> &gt; sys/io.h. The README says PowerPC Mac OS X works, so this should be
</I>&gt;<i> &gt; fixable (?)
</I>&gt;<i> 
</I>&gt;<i> IMHO, sys/io.h is useful only if we use &quot;outb&quot;,&quot;'inb&quot;,&quot;ioperm&quot; ... , so when 
</I>&gt;<i> PARPORT_USE_PPDEV is not defined. The header should be put under conditional 
</I>&gt;<i> definition.
</I>
Yep.

For Debian I'm using PPDEV for all targets anyway for that reason.

 
&gt;<i> I attach a patch with the aforementioned corrections, I hope it fixes the 
</I>&gt;<i> problem. I have tested it on i686 and arm (I don't have powerpc available 
</I>&gt;<i> here to check)
</I>&gt;<i> 
</I>&gt;<i> Note that status for ia64 is unclear for me, ioperm used not to work with 
</I>&gt;<i> Linux but I don't test it recently.
</I>
Thanks for the patch! There are two other occurrences of sys/io.h which
need to be protected (or, in this case, removed altogether as they're
not needed). See my patch in an extra thread.

With that patch, openocd now seems to build on just about any
architecture, including ia64, powerpc, and mips:

<A HREF="http://buildd.debian.org/pkg.cgi?pkg=openocd">http://buildd.debian.org/pkg.cgi?pkg=openocd</A>


Cheers, Uwe. 
-- 
<A HREF="http://www.hermann-uwe.de">http://www.hermann-uwe.de</A>  | <A HREF="http://www.holsham-traders.de">http://www.holsham-traders.de</A>
<A HREF="http://www.crazy-hacks.org">http://www.crazy-hacks.org</A> | <A HREF="http://www.unmaintained-free-software.org">http://www.unmaintained-free-software.org</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: signature.asc
Type: application/pgp-signature
Size: 189 bytes
Desc: Digital signature
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20070809/a469792e/attachment.pgp">https://lists.berlios.de/pipermail/openocd-development/attachments/20070809/a469792e/attachment.pgp</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000267.html">[Openocd-development] FLASH access per target vs bank
</A></li>
	<LI>Next message: <A HREF="000269.html">[Openocd-development] [PATCH] Fix build on some non-x86	architectures (sys/io.h)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#268">[ date ]</a>
              <a href="thread.html#268">[ thread ]</a>
              <a href="subject.html#268">[ subject ]</a>
              <a href="author.html#268">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
