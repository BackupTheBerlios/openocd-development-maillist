<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Patch for 192 - serious bugs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2007-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Patch%20for%20192%20-%20serious%20bugs&In-Reply-To=%3C46BDB667.3060507%40asix.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000282.html">
   <LINK REL="Next"  HREF="000284.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Patch for 192 - serious bugs</H1>
    <B>Pavel Chromy</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Patch%20for%20192%20-%20serious%20bugs&In-Reply-To=%3C46BDB667.3060507%40asix.cz%3E"
       TITLE="[Openocd-development] Patch for 192 - serious bugs">chromy at asix.cz
       </A><BR>
    <I>Sat Aug 11 15:15:19 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000282.html">[Openocd-development] Some leftover patches for 192
</A></li>
        <LI>Next message: <A HREF="000284.html">[Openocd-development] Patch for 192 - serious bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277">[ date ]</a>
              <a href="thread.html#277">[ thread ]</a>
              <a href="subject.html#277">[ subject ]</a>
              <a href="author.html#277">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Dominic and everyone on the list,

there are some serious bugs in 192 causing OpenOCD to crash (memory access violation)

target_request.c: function delete_debug_msg_receiver() dereferenced uninitialized pointers
p and c, causing a crash, fixed by this patch.

image.c: image_add_section() assumed that there is already at least one section in the image
and tried checked whether to append data to it, which caused crash by dereferencing invalid pointer
in case there was no section yet.
the patch fixes this and makes the code a bit more readable by adding a local pointer instead
of accessing the same array member several times using an index decremented by one.

Best regards,
   Pavel
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: image+target_bugs.patch
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20070811/ac31be3c/attachment.ksh">https://lists.berlios.de/pipermail/openocd-development/attachments/20070811/ac31be3c/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000282.html">[Openocd-development] Some leftover patches for 192
</A></li>
	<LI>Next message: <A HREF="000284.html">[Openocd-development] Patch for 192 - serious bugs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#277">[ date ]</a>
              <a href="thread.html#277">[ thread ]</a>
              <a href="subject.html#277">[ subject ]</a>
              <a href="author.html#277">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
