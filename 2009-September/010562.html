<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] arm1136 download problems &amp; performance
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20arm1136%20download%20problems%20%26%20performance&In-Reply-To=%3C1252988303.7914.135.camel%40mws%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010544.html">
   <LINK REL="Next"  HREF="010525.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] arm1136 download problems &amp; performance</H1>
    <B>michal smulski</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20arm1136%20download%20problems%20%26%20performance&In-Reply-To=%3C1252988303.7914.135.camel%40mws%3E"
       TITLE="[Openocd-development] arm1136 download problems &amp; performance">michal.smulski at ooma.com
       </A><BR>
    <I>Tue Sep 15 06:18:23 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010544.html">[Openocd-development] arm1136 download problems &amp; performance
</A></li>
        <LI>Next message: <A HREF="010525.html">[Openocd-development] arm1136 download problems &amp; performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10562">[ date ]</a>
              <a href="thread.html#10562">[ thread ]</a>
              <a href="subject.html#10562">[ subject ]</a>
              <a href="author.html#10562">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
I noticed that something was not right  with my svn repo after doing
various up-rev's and down-rev's and decided to start fresh.

It turns out that last 'memwrite burst' working is actually rev 1824 and
the failing one is rev 1825 and the offending change is somewhere in
ft2232.c file (change r1814 -&gt; r1825).

I checked out two svn branches from fresh 'r1824' and 'r1825.' The first
was still passes the memwrite test and the other one does not. It would
explain why you cannot reproduce it on your jtag.

Do you have access to ft* based JTAG hardware. Perhaps somebody else on
this list can confirm this?

Could you review the r1825 changes and point in the right direction to
debug this problem?

I attached a diffs (via svn diff and diff commands).



On Mon, 2009-09-14 at 08:51 +0200, &#216;yvind Harboe wrote:
&gt;<i> On Mon, Sep 14, 2009 at 8:35 AM, michal smulski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">michal.smulski at ooma.com</A>&gt; wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; Did you also double check that 1822 breaks?
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt; r1822 is broken without any mods. I did not try adding usleep() here but
</I>&gt;<i> &gt; double-checked that it fails on memburst.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt; The burst code is executing two instructions to increment the pointer. Perhaps
</I>&gt;<i> &gt;&gt; the second instruction is getting executed twice?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Where is that in the code? I would remove the 2nd instruction to see is the increments are still happening.
</I>&gt;<i> &gt; If they are, that means some other code is executed. If there are not then it is the instruction executed twice.
</I>&gt;<i> 
</I>&gt;<i> Search for:
</I>&gt;<i> 
</I>&gt;<i> arm11_config_memrw_no_increment
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>-------------- next part --------------
A non-text attachment was scrubbed...
Name: ft2232.c.r1824_r1825.diff
Type: text/x-patch
Size: 35561 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090914/692bba6e/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090914/692bba6e/attachment.bin</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: ft2232.c.1824_1825.diff
Type: text/x-patch
Size: 24163 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090914/692bba6e/attachment-0001.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090914/692bba6e/attachment-0001.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010544.html">[Openocd-development] arm1136 download problems &amp; performance
</A></li>
	<LI>Next message: <A HREF="010525.html">[Openocd-development] arm1136 download problems &amp; performance
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10562">[ date ]</a>
              <a href="thread.html#10562">[ thread ]</a>
              <a href="subject.html#10562">[ subject ]</a>
              <a href="author.html#10562">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
