<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] JTAG controllers disabled while SRST is	asserted
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20JTAG%20controllers%20disabled%20while%20SRST%20is%0A%09asserted&In-Reply-To=%3C200909231030.04537.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010780.html">
   <LINK REL="Next"  HREF="010784.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] JTAG controllers disabled while SRST is	asserted</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20JTAG%20controllers%20disabled%20while%20SRST%20is%0A%09asserted&In-Reply-To=%3C200909231030.04537.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] JTAG controllers disabled while SRST is	asserted">david-b at pacbell.net
       </A><BR>
    <I>Wed Sep 23 19:30:04 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010780.html">[Openocd-development] JTAG controllers disabled while SRST is asserted
</A></li>
        <LI>Next message: <A HREF="010784.html">[Openocd-development] JTAG controllers disabled while SRST is asserted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10782">[ date ]</a>
              <a href="thread.html#10782">[ thread ]</a>
              <a href="subject.html#10782">[ subject ]</a>
              <a href="author.html#10782">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 23 September 2009, Michael Schwingen wrote:
&gt;<i> David Brownell wrote:
</I>&gt;<i> &gt; Where -- to summarize ruthlessly -- you said that not only is
</I>&gt;<i> &gt; the FT2232 annoyingly imposing an SRST on you, but you also
</I>&gt;<i> &gt; need an extra delay to recover from that.  Right?
</I>&gt;<i> &gt;   
</I>&gt;<i> A board may stretch SRST, so you *have* to be able to wait a 
</I>&gt;<i> (user-defined) amount of time after SRESET assertion/deassertion before 
</I>&gt;<i> talking to anything in the chain. This is also true if the SRESET 
</I>&gt;<i> assertion is not caused by OpenOCD directly.
</I>
Understood.  This is part of why some JTAG adapters provide
inputs for SRST, not just outputs.  It'd be nice if the
FT2232 ones provided a &quot;USB interrupt&quot; to give hosts an
asynch (more or less) notification that it was asserted.

Hmm ... FT2232 *does* have special 0x88 and 0x89 commands
to block on ACBUS1 (GPIOH1) levels.  And at least one
adapter design I'm looking at hooks nSRST up to that, as
an input (you can tell by, among other things, looking at
how the level shifters are wired).  So for such adapters
(which I suspect aren' that common) it might be possible
to add some special casing to handle that case.

- Dave

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010780.html">[Openocd-development] JTAG controllers disabled while SRST is asserted
</A></li>
	<LI>Next message: <A HREF="010784.html">[Openocd-development] JTAG controllers disabled while SRST is asserted
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10782">[ date ]</a>
              <a href="thread.html#10782">[ thread ]</a>
              <a href="subject.html#10782">[ subject ]</a>
              <a href="author.html#10782">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
