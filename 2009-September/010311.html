<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] init sequence tricks - simulating	execution of elf images
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20init%20sequence%20tricks%20-%20simulating%0A%09execution%20of%20elf%20images&In-Reply-To=%3C200909020909.32893.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010293.html">
   <LINK REL="Next"  HREF="010299.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] init sequence tricks - simulating	execution of elf images</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20init%20sequence%20tricks%20-%20simulating%0A%09execution%20of%20elf%20images&In-Reply-To=%3C200909020909.32893.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] init sequence tricks - simulating	execution of elf images">david-b at pacbell.net
       </A><BR>
    <I>Wed Sep  2 18:09:32 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010293.html">[Openocd-development] init sequence tricks - simulating execution	of elf images
</A></li>
        <LI>Next message: <A HREF="010299.html">[Openocd-development] svn 2600 Cygwin windows build failed at texi	!!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10311">[ date ]</a>
              <a href="thread.html#10311">[ thread ]</a>
              <a href="subject.html#10311">[ subject ]</a>
              <a href="author.html#10311">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 01 September 2009, &#216;yvind Harboe wrote:
&gt;<i> Starting a new thread on a crazy idea I had to help alleviate
</I>&gt;<i> problems with coming up with the reset init sequence.
</I>&gt;<i> 
</I>&gt;<i> Lots of hardware out there have working .elf files that set up
</I>&gt;<i> the hardware.
</I>
Called &quot;boot loaders&quot;.  And when OpenOCD is used to develop
such boot loaders ... developers rely on scripted JTAG setup.

I've seen such scripts top 200K, as produced by teams that
do silicon verification.  Trying all kinds of clock options,
memory and bus timings, etc.  Not in OpenOCD; but with other
JTAG tools.


&gt;<i> What if a known working elf image could be used instead of
</I>&gt;<i> having to first succeed in writing a reset init sequence?
</I>
Makes me think of chickens and eggs debating which one
crossed the street first.  :)

Also, that creating and maintaining libraries of such images
is needless complication.  But that it's clearly possible to
do such things with OpenOCD today, if needed.  In a way this
is just what run_algorithm() does...


 
&gt;<i> 	... The trick with running an elf image
</I>&gt;<i> without a working reset init sequence is that the elf image
</I>&gt;<i> might be designed to run out of flash/rom.
</I>
Using JTAG to download to ROM would be quite the trick!

In many cases that code gets developed to run out of SRAM;
e.g. loaded from a NAND or OneNAND bootblock as a second
stage loader (mask ROM boot loader talks to NAND or a handful
of other peripherals as the first stage).


That level of simulation support is a lot of effort, and
isn't very portable.  Having a way to hook up to, for one
option, QEMU might be a good addition to OpenOCD though.

- Dave





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010293.html">[Openocd-development] init sequence tricks - simulating execution	of elf images
</A></li>
	<LI>Next message: <A HREF="010299.html">[Openocd-development] svn 2600 Cygwin windows build failed at texi	!!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10311">[ date ]</a>
              <a href="thread.html#10311">[ thread ]</a>
              <a href="subject.html#10311">[ subject ]</a>
              <a href="author.html#10311">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
