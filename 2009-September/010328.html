<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH][Cortex_A8] Fix the hardware	single-step logic
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%5BCortex_A8%5D%20Fix%20the%0A%20hardware%09single-step%20logic&In-Reply-To=%3C4A9FF7E0.7000306%40mlu.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010346.html">
   <LINK REL="Next"  HREF="010329.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH][Cortex_A8] Fix the hardware	single-step logic</H1>
    <B>Magnus Lundin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%5BCortex_A8%5D%20Fix%20the%0A%20hardware%09single-step%20logic&In-Reply-To=%3C4A9FF7E0.7000306%40mlu.mine.nu%3E"
       TITLE="[Openocd-development] [PATCH][Cortex_A8] Fix the hardware	single-step logic">lundin at mlu.mine.nu
       </A><BR>
    <I>Thu Sep  3 19:07:44 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010346.html">[Openocd-development] [PATCH][Cortex_A8] Fix the hardware single-step logic
</A></li>
        <LI>Next message: <A HREF="010329.html">[Openocd-development] [PATCH][Cortex_A8] Fix the hardware	single-step logic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10328">[ date ]</a>
              <a href="thread.html#10328">[ thread ]</a>
              <a href="subject.html#10328">[ subject ]</a>
              <a href="author.html#10328">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Matt Hsu wrote:
&gt;<i> Hi all,
</I>&gt;<i>
</I>&gt;<i> This series patches fix the hardware single-step logic mainly.
</I>&gt;<i> With these patches, you can do the step operation on the telnet session.
</I>&gt;<i> Also, the programming breakpoints works as well.
</I>&gt;<i> Cheers,
</I>&gt;<i> Matt
</I>&gt;<i> ------------------------------------------------------------------------
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Openocd-development mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
</I>&gt;<i>   
</I>Hi Matt,

It makes me very happy to se active work with this code.
 
The bit offset handling is very nice, patches 0001 and 0003.

The second patch is more worth thinking about.

For the Omap353x we set the  DSCR[DSCR_HALT_DBG_MODE] bit in the setup 
script, and we then assume that the running application does not 
actively play with the debug settings.
This can of course be discussed.

Anyway, if we want to set this bit every time we call halt, a small 
extra cost in USB return trips, then I think the logical place is before 
we try to halt the core by writing to bit 0 of DRCR.

I cannot really se how this patch modifies single stepping or breakpoint 
handling, can you describe that. It would be helpful with some 
descriptions of how  and when problems occured that you are solving with 
your patches.

Best regards,
Magnus



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010346.html">[Openocd-development] [PATCH][Cortex_A8] Fix the hardware single-step logic
</A></li>
	<LI>Next message: <A HREF="010329.html">[Openocd-development] [PATCH][Cortex_A8] Fix the hardware	single-step logic
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10328">[ date ]</a>
              <a href="thread.html#10328">[ thread ]</a>
              <a href="subject.html#10328">[ subject ]</a>
              <a href="author.html#10328">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
