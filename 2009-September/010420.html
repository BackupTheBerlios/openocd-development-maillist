<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] new lpc2xxx cfg files layout
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20new%20lpc2xxx%20cfg%20files%20layout&In-Reply-To=%3C4AA56267.3060909%40op.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010418.html">
   <LINK REL="Next"  HREF="010421.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] new lpc2xxx cfg files layout</H1>
    <B>Freddie Chopin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20new%20lpc2xxx%20cfg%20files%20layout&In-Reply-To=%3C4AA56267.3060909%40op.pl%3E"
       TITLE="[Openocd-development] new lpc2xxx cfg files layout">freddie_chopin at op.pl
       </A><BR>
    <I>Mon Sep  7 21:43:35 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010418.html">[Openocd-development] new lpc2xxx cfg files layout
</A></li>
        <LI>Next message: <A HREF="010421.html">[Openocd-development] new lpc2xxx cfg files layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10420">[ date ]</a>
              <a href="thread.html#10420">[ thread ]</a>
              <a href="subject.html#10420">[ subject ]</a>
              <a href="author.html#10420">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Duane Ellis pisze:
&gt;<i> Freddie Chopin wrote:
</I>&gt;&gt;<i> I got the second version - it implements ideas from Duane and David. 
</I>&gt;<i> comments...
</I>&gt;<i> 
</I>&gt;<i> -Duane.
</I>&gt;<i> 
</I>&gt;<i> ===================
</I>&gt;<i> 
</I>&gt;<i> 1) Seems to be missing  proc _SET_DEFAULT..
</I>&gt;<i> 
</I>&gt;<i> 2) There are numerous syntax errors ... example:
</I>&gt;<i> 
</I>&gt;<i> # check for VARIANT - it has to be defined
</I>&gt;<i> if { [info exists VARIANT ] } {
</I>&gt;<i>     set _VARIANT $VARIANT
</I>&gt;<i> } else {
</I>&gt;<i>     if { ! [info exists _VARIANT ] } {
</I>&gt;<i>         &quot;Variable: VARIANT is not set, cannot continue&quot;
</I>&gt;<i>     }
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> Is missing the command &quot;error&quot;
</I>
Argh... wrong file attached /; I've attached the right one this time... 
Ignore the first one, as that was some early version from a different 
directory.

&gt;<i> 3) You have all the &quot;sets&quot; in the internal files.
</I>&gt;<i> Example:
</I>&gt;<i> 
</I>&gt;<i> # LPC2101 - 8kB Flash and 2kB SRAM (CPUTAPID unknown yet, use typical 
</I>&gt;<i> value)
</I>&gt;<i> if { $_CHIPNAME == &quot;lpc2101&quot; || $_CHIPNAME == &quot;LPC2101&quot; } {
</I>&gt;<i>     _SET_DEFAULT _FLASH_SIZE 0x2000
</I>&gt;<i>     _SET_DEFAULT _RAM_SIZE 0x800
</I>&gt;<i>     _SET_DEFAULT _VARIANT lpc2000_v2
</I>&gt;<i> }
</I>&gt;<i> 
</I>&gt;<i> I would have put *ALL* sets in the CHIP_SPECIFIC file
</I>&gt;<i> And some type of validation in the CHIP_INTERNALS file.
</I>
IMHO this way it's better for the user. With your philosophy the normal 
file would have to be filled with those global xxx, set xxx yyy which 
would be mandatory for all parameters. Moreover - users would have to 
serach for the meaning of variant, explanation of the fact that some 
chips don't have 512kB of FLASH, but just 500, etc. - notice that now 
all details are hidden.


4\/3!!
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: lpc2xxx_internals.tcl
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090907/37f070b6/attachment.ksh">https://lists.berlios.de/pipermail/openocd-development/attachments/20090907/37f070b6/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010418.html">[Openocd-development] new lpc2xxx cfg files layout
</A></li>
	<LI>Next message: <A HREF="010421.html">[Openocd-development] new lpc2xxx cfg files layout
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10420">[ date ]</a>
              <a href="thread.html#10420">[ thread ]</a>
              <a href="subject.html#10420">[ subject ]</a>
              <a href="author.html#10420">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
