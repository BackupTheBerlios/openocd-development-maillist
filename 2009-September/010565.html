<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] svn 1825 breaks arm1136 burst mode
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20svn%201825%20breaks%20arm1136%20burst%20mode&In-Reply-To=%3C4AAF4877.3080907%40mlu.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010563.html">
   <LINK REL="Next"  HREF="010571.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] svn 1825 breaks arm1136 burst mode</H1>
    <B>Magnus Lundin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20svn%201825%20breaks%20arm1136%20burst%20mode&In-Reply-To=%3C4AAF4877.3080907%40mlu.mine.nu%3E"
       TITLE="[Openocd-development] svn 1825 breaks arm1136 burst mode">lundin at mlu.mine.nu
       </A><BR>
    <I>Tue Sep 15 09:55:35 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010563.html">[Openocd-development] svn 1825 breaks arm1136 burst mode
</A></li>
        <LI>Next message: <A HREF="010571.html">[Openocd-development] svn 1825 breaks arm1136 burst mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10565">[ date ]</a>
              <a href="thread.html#10565">[ thread ]</a>
              <a href="subject.html#10565">[ subject ]</a>
              <a href="author.html#10565">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&#216;yvind Harboe wrote:
&gt;<i> On Tue, Sep 15, 2009 at 6:18 AM, michal smulski &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">michal.smulski at ooma.com</A>&gt; wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> I noticed that something was not right  with my svn repo after doing
</I>&gt;&gt;<i> various up-rev's and down-rev's and decided to start fresh.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It turns out that last 'memwrite burst' working is actually rev 1824 and
</I>&gt;&gt;<i> the failing one is rev 1825 and the offending change is somewhere in
</I>&gt;&gt;<i> ft2232.c file (change r1814 -&gt; r1825).
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I checked out two svn branches from fresh 'r1824' and 'r1825.' The first
</I>&gt;&gt;<i> was still passes the memwrite test and the other one does not. It would
</I>&gt;&gt;<i> explain why you cannot reproduce it on your jtag.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Do you have access to ft* based JTAG hardware. Perhaps somebody else on
</I>&gt;&gt;<i> this list can confirm this?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Could you review the r1825 changes and point in the right direction to
</I>&gt;&gt;<i> debug this problem?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I attached a diffs (via svn diff and diff commands).
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> First of all *great* find!
</I>&gt;<i>
</I>&gt;<i> But ouch.... This is going to be a tough one. Committing huge changes
</I>&gt;<i> like this in a single commit when it's possible to break it apart
</I>&gt;<i> is a faux pas, this being an excellent example of why. :-(
</I>&gt;<i>
</I>&gt;<i>   
</I>Well, not really, some changes are major changes. This is, apart from 
some formatting changes, the &quot;switch from long tms sequences  to short 
tms sequences&quot; ptch.
 It is not possible to switch only part of the ft2232.c to using the new 
tms sequence tables, and the support functions would never be called and 
tested if commited in an earlier patch.

So this seems to a &quot;short tms sequence&quot; issue. Does the same  problems 
appear when switching to the short tms sequence in the jlink code. So 
anyone with a jlink and an arm1136 ?
It is also possible to use the old, long, tms sequences by issuing the   
&quot;tms_sequence long&quot; command and check if this helps.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010563.html">[Openocd-development] svn 1825 breaks arm1136 burst mode
</A></li>
	<LI>Next message: <A HREF="010571.html">[Openocd-development] svn 1825 breaks arm1136 burst mode
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10565">[ date ]</a>
              <a href="thread.html#10565">[ thread ]</a>
              <a href="subject.html#10565">[ subject ]</a>
              <a href="author.html#10565">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
