<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] debug message
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20debug%20message&In-Reply-To=%3C2484.193.11.64.185.1253102828.squirrel%40mlu.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010586.html">
   <LINK REL="Next"  HREF="010591.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] debug message</H1>
    <B>Magnus Lundin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20debug%20message&In-Reply-To=%3C2484.193.11.64.185.1253102828.squirrel%40mlu.mine.nu%3E"
       TITLE="[Openocd-development] [PATCH] debug message">lundin at mlu.mine.nu
       </A><BR>
    <I>Wed Sep 16 14:07:08 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010586.html">[Openocd-development] [PATCH] debug message
</A></li>
        <LI>Next message: <A HREF="010591.html">[Openocd-development] [PATCH] debug message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10590">[ date ]</a>
              <a href="thread.html#10590">[ thread ]</a>
              <a href="subject.html#10590">[ subject ]</a>
              <a href="author.html#10590">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;&gt;<i> I think this is OK, it does not change the return value, it is still
</I>&gt;&gt;<i> reported as an error/exception condition, not ERROR_OK. So for the
</I>&gt;&gt;<i> codebase nothing is changed. In the calling functions we do fall back to
</I>&gt;&gt;<i> smaller buffers or alternative implementations. So the error warning
</I>&gt;&gt;<i> should be generated in the calling code, if at all.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I am in favour.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> There are a couple of problems with this patch:
</I>&gt;<i>
</I>&gt;<i> - it doesn't address the problem in a general fashion
</I>&gt;<i> - it breaks the general rule in OpenOCD that we report the error at
</I>&gt;<i> the site that it occurred and that we *do not* try to communicate
</I>&gt;<i> information about what went wrong using the return error code. The
</I>&gt;<i> return error code is to be treated as a boolean(either ERROR_OK or
</I>&gt;<i> not).
</I>&gt;<i> - it does not fix all the calling sites where an error message *should*
</I>&gt;<i> be displayed.
</I>&gt;<i>
</I>&gt;<i> The right solution(not hard) is to implement something that achieves the
</I>&gt;<i> same
</I>&gt;<i> as a try-catch:
</I>&gt;<i>
</I>&gt;<i> - disable error messages
</I>&gt;<i> - invoke fn
</I>&gt;<i> - reenable error messages
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> --
</I>&gt;<i> &#195;&#152;yvind Harboe
</I>&gt;<i> Embedded software and hardware consulting services
</I>&gt;<i> <A HREF="http://www.zylin.com">http://www.zylin.com</A>
</I>&gt;<i>
</I>
The proposed patch does not try to solve the general problem of
errorhandling in OpenOCD. It simply wants to change the debug level at
which this exception is reported to the user.

Whats the problem ??

Magnus



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010586.html">[Openocd-development] [PATCH] debug message
</A></li>
	<LI>Next message: <A HREF="010591.html">[Openocd-development] [PATCH] debug message
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10590">[ date ]</a>
              <a href="thread.html#10590">[ thread ]</a>
              <a href="subject.html#10590">[ subject ]</a>
              <a href="author.html#10590">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
