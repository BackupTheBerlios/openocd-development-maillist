<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development]  works on amd64 but not i386
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%20works%20on%20amd64%20but%20not%20i386&In-Reply-To=%3C4ABCB408.4060102%40amontec.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="010809.html">
   <LINK REL="Next"  HREF="010824.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development]  works on amd64 but not i386</H1>
    <B>Laurent Gauch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%20works%20on%20amd64%20but%20not%20i386&In-Reply-To=%3C4ABCB408.4060102%40amontec.com%3E"
       TITLE="[Openocd-development]  works on amd64 but not i386">laurent.gauch at amontec.com
       </A><BR>
    <I>Fri Sep 25 14:14:00 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="010809.html">[Openocd-development] Appeal for .patch or .diff as the file name	suffix for patches
</A></li>
        <LI>Next message: <A HREF="010824.html">[Openocd-development] [patch/rfc] cleanup TAP ircapture/irmask
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10810">[ date ]</a>
              <a href="thread.html#10810">[ thread ]</a>
              <a href="subject.html#10810">[ subject ]</a>
              <a href="author.html#10810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Wookey ,

You should try to have -d3 debug log for both your 64bits and 32bits !
Then compare the 2 log files. And send us these two log files

Note: Amontec is very interested to your balloon3 board and I am sure 
you could be interested in our Amontec JTAGkey-2 (Hi-Speed USB 2.0 JTAG 
adapter &amp; Interface cable, including RTCK with 1.3V to 5V JTAG IO level 
shifter @ 32mA by output) . We could think to exchange our products. 
Please contact me at laurent . gauch @ amontec . com if you are interested.

Best regards,
Laurent
 <A HREF="http://www.amontec.com">http://www.amontec.com</A>
ARM CORTEX JTAG Debugger
Amontec JTAGkey (Tiny) / Amontec JTAGkey-2 / Amontec JTAGkey-2P



&gt;<i> I have been having fun with various combinations of openocd, amontec
</I>&gt;<i> jtagkey and olimex usb-tiny and pxa270 and chianed and unchained JTAG
</I>&gt;<i> interfaces. We have one JTAG port to xilinx xcr3256 (coolrunner II
</I>&gt;<i> CPLD) and one to pxa270. 
</I>&gt;<i>
</I>&gt;<i> I have a large table of what does and doesn't work which is all very
</I>&gt;<i> nice, but I suspect won't generally be of much interest here because
</I>&gt;<i> it all related to r1613 because that was the last version on which
</I>&gt;<i> xsvf or svf playing into CPLDs worked. I intend to work through svn
</I>&gt;<i> revisions, keeping the 1613-vontage xsvf code to see how far forward
</I>&gt;<i> one can go until that dies due to changes elsewhere. David Bisset is
</I>&gt;<i> also working with latest code to see if he can get it going again on
</I>&gt;<i> xscale - it seems that nor programing only works in simple-minded mode
</I>&gt;<i> - as soon as you try to use the debug-handler code in the xscale to
</I>&gt;<i> program NOR at a useful speed it fails.
</I>&gt;<i>
</I>&gt;<i> Anyway. The issue we have is that we are stuck with r1613 for the time
</I>&gt;<i> being and we can make that work with an amontec jtagkey in
</I>&gt;<i> chained-JTAG setup quite well (it segfaults every odd run and works
</I>&gt;<i> just fine every even run - which is about as good as it gets IME :-)
</I>&gt;<i>
</I>&gt;<i> However this turned out (when we tried to deploy it to production) to
</I>&gt;<i> only be true on amd64 machines. On i386 machines boundary scan always
</I>&gt;<i> fails. This is a bit of a pain (we've gone to buy another amd64 box
</I>&gt;<i> for now as openocd-fixing time has run out).
</I>&gt;<i>
</I>&gt;<i> It works the same (every other time) on amd64 debian testing and
</I>&gt;<i> stable boxes, with both libftdi 0.13 and 0.16. It doesn't work just
</I>&gt;<i> the same with libftdi 0.13 and 0.16 on debian stable i386 machines.
</I>&gt;<i>
</I>&gt;<i> So, if anyone has any bright ideas for fixing the underlying xsvf
</I>&gt;<i> problem so we can move to newer code or why it should be different on
</I>&gt;<i> i386.
</I>&gt;<i>
</I>&gt;<i> Is anyone else using OpenOCD to program coolrunner CPLDs? I suspect
</I>&gt;<i> not otherwise there should be more grumbling that it's been broken for
</I>&gt;<i> quite some time. 
</I>&gt;<i>
</I>&gt;<i> all our config files are available at 
</I>&gt;<i> <A HREF="http://balloonboard.org/cgi-bin/viewcvs.cgi/balloon/trunk/utils/openocd/">http://balloonboard.org/cgi-bin/viewcvs.cgi/balloon/trunk/utils/openocd/</A>
</I>&gt;<i>
</I>&gt;<i> The case I am talking about above is:
</I>&gt;<i> openocd -s utils/openocd -f balloon3-amontec.cfg -f loadloon.cfg -f shutdown.cfg
</I>&gt;<i>
</I>&gt;<i> Wookey
</I>&gt;<i> -- 
</I>&gt;<i> Principal hats:  iEndian - Balloonboard - Toby Churchill - Emdebian
</I>&gt;<i> <A HREF="http://wookware.org/">http://wookware.org/</A>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="010809.html">[Openocd-development] Appeal for .patch or .diff as the file name	suffix for patches
</A></li>
	<LI>Next message: <A HREF="010824.html">[Openocd-development] [patch/rfc] cleanup TAP ircapture/irmask
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#10810">[ date ]</a>
              <a href="thread.html#10810">[ thread ]</a>
              <a href="subject.html#10810">[ subject ]</a>
              <a href="author.html#10810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
