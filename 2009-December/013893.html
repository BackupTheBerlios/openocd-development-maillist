<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] Fix parport_dcl5 config file.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20Fix%20parport_dcl5%20config%20file.&In-Reply-To=%3Ce77c29220912300848p18b7f3aem62bc83334497ff08%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013919.html">
   <LINK REL="Next"  HREF="013894.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] Fix parport_dcl5 config file.</H1>
    <B>Antonio Borneo</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20Fix%20parport_dcl5%20config%20file.&In-Reply-To=%3Ce77c29220912300848p18b7f3aem62bc83334497ff08%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH] Fix parport_dcl5 config file.">borneo.antonio at gmail.com
       </A><BR>
    <I>Wed Dec 30 17:48:13 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013919.html">[Openocd-development] Adding support for SST 39VF6401B external flash
</A></li>
        <LI>Next message: <A HREF="013894.html">[Openocd-development] [PATCH] Fix parport_dcl5 config file.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13893">[ date ]</a>
              <a href="thread.html#13893">[ thread ]</a>
              <a href="subject.html#13893">[ subject ]</a>
              <a href="author.html#13893">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

in the file ./tcl/interface/parport_dlc5.cfg the line
parport_port /dev/parport0
is not correct, since the argument for such command must be an integer.
Error message is:
Error: Invalid command argument
parport_port option value ('/dev/parport0') is not valid
Command handler execution failed

This error exists since long time.
Before commit ae28b96ab9824474a8f5a808480fee3fe7db1f3a, dated Jun 12
2009, the argument was simply parsed with strtoul() that does not
recognize the string and returns 0.
The mentioned commit encapsulates the parsing in parse_u16() that
better check argument correctness, generating error message.

In attachment a simple patch to fix it.

Best Regards,
Antonio Borneo
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-Fix-parport_dcl5-config-file.patch
Type: text/x-patch
Size: 562 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20091231/cf2172ac/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20091231/cf2172ac/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013919.html">[Openocd-development] Adding support for SST 39VF6401B external flash
</A></li>
	<LI>Next message: <A HREF="013894.html">[Openocd-development] [PATCH] Fix parport_dcl5 config file.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13893">[ date ]</a>
              <a href="thread.html#13893">[ thread ]</a>
              <a href="subject.html#13893">[ subject ]</a>
              <a href="author.html#13893">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
