<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 1/4] switch 'rm' command away from	using Jim
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/4%5D%20switch%20%27rm%27%20command%20away%20from%0A%09using%20Jim&In-Reply-To=%3Cc09652430912040139r3da2d7e9iac528224744eebe7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013317.html">
   <LINK REL="Next"  HREF="013325.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 1/4] switch 'rm' command away from	using Jim</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/4%5D%20switch%20%27rm%27%20command%20away%20from%0A%09using%20Jim&In-Reply-To=%3Cc09652430912040139r3da2d7e9iac528224744eebe7%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH 1/4] switch 'rm' command away from	using Jim">oyvind.harboe at zylin.com
       </A><BR>
    <I>Fri Dec  4 10:39:00 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013317.html">[Openocd-development] [PATCH 1/4] switch 'rm' command away from using Jim
</A></li>
        <LI>Next message: <A HREF="013325.html">[Openocd-development] [PATCH 1/4] switch 'rm' command away from using Jim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13319">[ date ]</a>
              <a href="thread.html#13319">[ thread ]</a>
              <a href="subject.html#13319">[ subject ]</a>
              <a href="author.html#13319">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Dec 4, 2009 at 10:31 AM, Zach Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">zw at superlucidity.net</A>&gt; wrote:
&gt;<i> On Fri, 2009-12-04 at 07:48 +0100, &#216;yvind Harboe wrote:
</I>&gt;&gt;<i> On Fri, Dec 4, 2009 at 3:04 AM, Zachary T Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">zw at superlucidity.net</A>&gt; wrote:
</I>&gt;&gt;<i> &gt; Commands that do not need to use Jim should be registered as
</I>&gt;&gt;<i> &gt; high-level command handlers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Why is that?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Nb! &quot;ls&quot; *does* need to use jim to return a list of directory
</I>&gt;&gt;<i> names used by other jim commands.
</I>&gt;<i>
</I>&gt;<i> Did you read my summary message? &#160;Quoting this thread's first message:
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i> If the command layer provides some wrappers for Jim's return
</I>&gt;<i> handling mechanisms, then all handlers can be converted to use the
</I>&gt;<i> high-level command mechanisms -- and Jim can be isolated therein.
</I>&gt;<i> It's simple refactoring, but are there objections to doing this?
</I>&gt;<i> &quot;&quot;&quot;
</I>&gt;<i>
</I>&gt;<i> We need command_return_list() and similar helpers, whereby the low-level
</I>&gt;<i> language primitives are hidden away in the command layer. &#160;Once this is
</I>&gt;<i> done, then we can add support for new languages, and upgrading Jim
</I>&gt;<i> itself is no longer intractable as it is today.
</I>
Gotit. I see the design improvement.

Note that I'll have *major* problems with switching away
from jim tcl when we have a large library of *tested* target config
scripts.

There would have to be some huge advantage or some
robust way of getting retesting done.

Although this is an improvement in the OpenOCD design,
I think splitting OpenOCD across multiple scripting languages and
implementations of each of those languages would be detrimental
to OpenOCD.

Your improved design can facilitate such a disaster so we should
handle this carefully.

(This is not counting the headaches of renewed discussions about
which language to choose.... Duane wrote up in docs some of
the reasons why we're using jim tcl.)

-- 
&#216;yvind Harboe
US toll free 1-866-980-3434 / International +47 51 63 25 00
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013317.html">[Openocd-development] [PATCH 1/4] switch 'rm' command away from using Jim
</A></li>
	<LI>Next message: <A HREF="013325.html">[Openocd-development] [PATCH 1/4] switch 'rm' command away from using Jim
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13319">[ date ]</a>
              <a href="thread.html#13319">[ thread ]</a>
              <a href="subject.html#13319">[ subject ]</a>
              <a href="author.html#13319">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
