<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] arm7_9: Support VINITHI signal
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20arm7_9%3A%20Support%20VINITHI%20signal&In-Reply-To=%3Cc09652430912200915i78538015wfc91369bf653d814%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013737.html">
   <LINK REL="Next"  HREF="013739.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] arm7_9: Support VINITHI signal</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20arm7_9%3A%20Support%20VINITHI%20signal&In-Reply-To=%3Cc09652430912200915i78538015wfc91369bf653d814%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH] arm7_9: Support VINITHI signal">oyvind.harboe at zylin.com
       </A><BR>
    <I>Sun Dec 20 18:15:02 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013737.html">[Openocd-development] [PATCH] arm7_9: Support VINITHI signal
</A></li>
        <LI>Next message: <A HREF="013739.html">[Openocd-development] [PATCH] arm7_9: Support VINITHI signal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13738">[ date ]</a>
              <a href="thread.html#13738">[ thread ]</a>
              <a href="subject.html#13738">[ subject ]</a>
              <a href="author.html#13738">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Dec 20, 2009 at 5:57 PM, Antonio Borneo
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">borneo.antonio at gmail.com</A>&gt; wrote:
&gt;<i> Command &quot;reset halt&quot; checks if PC properly resets, issueing warning:
</I>&gt;<i> &quot;PC was not 0. Does this target need srst_pulls_trst?&quot;.
</I>&gt;<i> Checking PC against 0 is not always correct.
</I>&gt;<i>
</I>&gt;<i> ARM cores have HW signal VINITHI to force exception vectors at high addresses.
</I>&gt;<i> If at reset VINITHI is high, it sets &quot;V&quot; bit in Control Register c1 and forces
</I>&gt;<i> address 0xffff0000 as next PC.
</I>
I think a better option is to remove the check on reset PC address
altogether.

The reason for performing this check is to catch the case where
srst pulls trst.

The reset code will discover that the CPU is not halted and issue a halt
now, so the default behavior for incorrect reset_config options is reasonable
here.

Complicated code to catch all obscure cases seems to be like asking
for trouble.





-- 
&#216;yvind Harboe
US toll free 1-866-980-3434 / International +47 51 63 25 00
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013737.html">[Openocd-development] [PATCH] arm7_9: Support VINITHI signal
</A></li>
	<LI>Next message: <A HREF="013739.html">[Openocd-development] [PATCH] arm7_9: Support VINITHI signal
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13738">[ date ]</a>
              <a href="thread.html#13738">[ thread ]</a>
              <a href="subject.html#13738">[ subject ]</a>
              <a href="author.html#13738">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
