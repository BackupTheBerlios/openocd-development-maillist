<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 2/4] produce stack traces on segfaults
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%202/4%5D%20produce%20stack%20traces%20on%0A%20segfaults&In-Reply-To=%3C1259661744.10374.2377.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013145.html">
   <LINK REL="Next"  HREF="013152.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 2/4] produce stack traces on segfaults</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%202/4%5D%20produce%20stack%20traces%20on%0A%20segfaults&In-Reply-To=%3C1259661744.10374.2377.camel%40localhost%3E"
       TITLE="[Openocd-development] [PATCH 2/4] produce stack traces on segfaults">zw at superlucidity.net
       </A><BR>
    <I>Tue Dec  1 11:02:24 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013145.html">[Openocd-development] [PATCH 2/4] produce stack traces on	segfaults
</A></li>
        <LI>Next message: <A HREF="013152.html">[Openocd-development] [PATCH 2/4] produce stack traces on	segfaults
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13151">[ date ]</a>
              <a href="thread.html#13151">[ thread ]</a>
              <a href="subject.html#13151">[ subject ]</a>
              <a href="author.html#13151">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2009-12-01 at 10:36 +0100, &#216;yvind Harboe wrote:
&gt;<i> &gt;&gt; &gt; No one was talking about linking with GDB.  That's just insane. ;)
</I>&gt;<i> &gt;&gt; &gt; libbfd is part of binutils.  But again it should be_optional.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; OK. Explain the benefit of complicating OpenOCD vs. adding a script
</I>&gt;<i> &gt;&gt; to launch OpenOCD via GDB then...
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Seriously... you've never had a Heisenbug either?  Am I the only one
</I>&gt;<i> &gt; that gets segfaults and doesn't _want_ to have to debug them?  Really?
</I>&gt;<i> 
</I>&gt;<i> You're not answering the question:
</I>
You're not seeing my point.

&gt;<i> How is your solution better than writing a script &quot;openocd&quot; that launches
</I>&gt;<i> openocd from GDB by default?
</I>
You want to _force_ me to _always_ run GDB, to catch random segfaults?
If you agree that such would be _unreasonable_ to ask, then when I get a
segfault out-of-the-blue after working interactively, you expect me to
reproduce it?  What if I can't?  And you could ask *users* to do that,
and keep a straight face?  The very notion should cause embarrassment.

We have seen reports from users where the last line is &quot;Segmentation
Fault&quot; and that's all they did.  Your theory about asking people to do
extra work has been shown to be ineffective at best, and it's downright
annoying to consider the lack of respect that excluding this type of
feature shows our _users_.

&gt;<i> This script could run a bt automatically and create a &quot;bug&quot; file. To boot
</I>&gt;<i> we could add a circular debug_level 3 memory buffer that is dumped
</I>&gt;<i> at the same time...
</I>&gt;<i> 
</I>&gt;<i> In releases we could default to running without gdb/debug_level 3 all the time.
</I>
How is this better than built-in, automatic stack traces?  Exactly?

I have code that works, adds value, and I will address and shortcomings
regarding portability and selectability.  Now, show me your solution.

The burden is on _you_ to explain how your solution is better, because I
do not buy the crap you guys are slinging tonight.  I have explained
repeatedly and clearly how this will benefit _users_, and it's really
irritating me to see resistance to this idea -- when I bet most of you
haven't even tried my patches yet.  Please tell me (justly) I'm wrong.

--Z


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013145.html">[Openocd-development] [PATCH 2/4] produce stack traces on	segfaults
</A></li>
	<LI>Next message: <A HREF="013152.html">[Openocd-development] [PATCH 2/4] produce stack traces on	segfaults
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13151">[ date ]</a>
              <a href="thread.html#13151">[ thread ]</a>
              <a href="subject.html#13151">[ subject ]</a>
              <a href="author.html#13151">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
