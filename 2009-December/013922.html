<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] ARM7_9: Fix segfault.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20ARM7_9%3A%20Fix%20segfault.&In-Reply-To=%3C200912310302.59549.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013917.html">
   <LINK REL="Next"  HREF="013915.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] ARM7_9: Fix segfault.</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20ARM7_9%3A%20Fix%20segfault.&In-Reply-To=%3C200912310302.59549.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] [PATCH] ARM7_9: Fix segfault.">david-b at pacbell.net
       </A><BR>
    <I>Thu Dec 31 12:02:59 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013917.html">[Openocd-development] [PATCH] ARM7_9: Fix segfault.
</A></li>
        <LI>Next message: <A HREF="013915.html">[Openocd-development] Additional Eclipse pieces for gitignore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13922">[ date ]</a>
              <a href="thread.html#13922">[ thread ]</a>
              <a href="subject.html#13922">[ subject ]</a>
              <a href="author.html#13922">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thursday 31 December 2009, Antonio Borneo wrote:
&gt;<i> On Thu, Dec 31, 2009 at 9:01 AM, David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt; wrote:
</I>&gt;<i> &gt; Do you have a strategy for finding these, or are you just
</I>&gt;<i> &gt; tripping over these problems?  Either way is fine, but I'm
</I>&gt;<i> &gt; curious.
</I>&gt;<i>
</I>&gt;<i> At the beginning, just by chance.
</I>
Well please keep it up!  ;)


&gt;<i> I'm adding support to new SOC and board based on arm926, and a new JTAG device.
</I>&gt;<i> In my preliminary config file I've put &quot;arm9 vector_catch reset&quot; to
</I>&gt;<i> deal with reset before fine tune SRST.
</I>&gt;<i> I got first segfault with board powered off.
</I>&gt;<i> Once found the root cause, I checked all the other points the same
</I>&gt;<i> variable is used.
</I>&gt;<i> I think that code for arm7_9 is now clean, but I'm not sure about other CPU.
</I>
I figure those ARMv4 and ARMv5 class machines are probably the
majority of current users, so that's good news.  :)


I was just noticing something via the new helptext ... there seem
to be various commands which are allowed to run in the wrong stages.

That suggests slightly more systematic fixes, but of course I won't
be able to have the helptext announce those issues to me except for
the CPUs I end up testing with.


&gt;<i> &gt; And do you have positive test results on the semihosting?
</I>&gt;<i>
</I>&gt;<i> Not tested.
</I>
So that was one bug you found by code inspection ... ;)


&gt;<i> It requires dedicated code on target side, while my target doesn't have.
</I>
I'm not sure what you mean by &quot;dedicated&quot;, but all you should
need is something like the CodeSourcery EABI toolchain; that
includes the libraries.  A &quot;hello world&quot; should suffice.

Of course that does imply you'd actually set up and test that.
I've not tried, yet, but it's on my agenda.  For now it's only
for ARM7/ARM9, and I'm looking at other cores just now.

I *really* want to see a few positive test reports for the
semihosting, from folk other than Nico (who wrote thate).

- Dave

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013917.html">[Openocd-development] [PATCH] ARM7_9: Fix segfault.
</A></li>
	<LI>Next message: <A HREF="013915.html">[Openocd-development] Additional Eclipse pieces for gitignore
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13922">[ date ]</a>
              <a href="thread.html#13922">[ thread ]</a>
              <a href="subject.html#13922">[ subject ]</a>
              <a href="author.html#13922">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
