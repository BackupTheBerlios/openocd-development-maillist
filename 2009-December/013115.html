<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 2/4] produce stack traces on segfaults
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%202/4%5D%20produce%20stack%20traces%20on%0A%20segfaults&In-Reply-To=%3C1259637790.10374.1212.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013114.html">
   <LINK REL="Next"  HREF="013130.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 2/4] produce stack traces on segfaults</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%202/4%5D%20produce%20stack%20traces%20on%0A%20segfaults&In-Reply-To=%3C1259637790.10374.1212.camel%40localhost%3E"
       TITLE="[Openocd-development] [PATCH 2/4] produce stack traces on segfaults">zw at superlucidity.net
       </A><BR>
    <I>Tue Dec  1 04:23:09 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013114.html">[Openocd-development] [PATCH 1/4] add 'module' helper module
</A></li>
        <LI>Next message: <A HREF="013130.html">[Openocd-development] [PATCH 2/4] produce stack traces on	segfaults
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13115">[ date ]</a>
              <a href="thread.html#13115">[ thread ]</a>
              <a href="subject.html#13115">[ subject ]</a>
              <a href="author.html#13115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-11-30 at 14:42 -0800, David Brownell wrote:
&gt;<i> On Monday 30 November 2009, Zachary T Welch wrote:
</I>&gt;<i> &gt; Registers a signal handler to catch SIGSEGV in order to display the
</I>&gt;<i> &gt; stack where the program crashed.
</I>&gt;<i> 
</I>&gt;<i> Is this for inside OpenOCD?  If so, I'd rather just expect folk
</I>&gt;<i> to run inside GDB.  Either they're running natively and should
</I>&gt;<i> never see SEGV ... or they should be able to fire up GDB to get
</I>&gt;<i> this data (and likely more).
</I>&gt;<i> 
</I>
Not everyone wants to run GDB, and not all segfaults can be predicted.

If you get one, it's better to have usable data than be required to
reproduce what might be a Heisenbug.  I have found this feature to be
highly useful in the past, to the extent that I am not joking about
wanting to implement a libbfd version of the module symbol lookup.
This feature ensures that we can get reasonable stack traces from users,
without them having to do any extra work.  Less steps for crash reports
is a Good Thing, I imagine Martha would say.

Good built-in debugging facilities can be far superior to a debugger,
and the Jim scripting language adds the fun twist where OpenOCD can
expose these debug features directly to the user.  You laugh now.  The
first time you use one of the stack dumps that it can produce, you will
come to thank me for adding this feature. ;)  Right now, I seem to find
new ways to create segfaults on a regular basis, and this makes it much
faster for me to see what has happened -- without ever running GDB.

In summary, printf remains among the best debugging aids.  This simply
aims to offer some critical introspective intelligence in that vein,
which benefits users and developers.

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013114.html">[Openocd-development] [PATCH 1/4] add 'module' helper module
</A></li>
	<LI>Next message: <A HREF="013130.html">[Openocd-development] [PATCH 2/4] produce stack traces on	segfaults
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13115">[ date ]</a>
              <a href="thread.html#13115">[ thread ]</a>
              <a href="subject.html#13115">[ subject ]</a>
              <a href="author.html#13115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
