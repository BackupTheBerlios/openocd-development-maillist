<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Codecheck
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Codecheck&In-Reply-To=%3C26728387.20091216223532%40mail.ru%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013647.html">
   <LINK REL="Next"  HREF="013646.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Codecheck</H1>
    <B>Igor Skochinsky</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Codecheck&In-Reply-To=%3C26728387.20091216223532%40mail.ru%3E"
       TITLE="[Openocd-development] Codecheck">skochinsky at mail.ru
       </A><BR>
    <I>Wed Dec 16 22:35:32 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013647.html">[Openocd-development] Codecheck
</A></li>
        <LI>Next message: <A HREF="013646.html">[Openocd-development] Codecheck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13635">[ date ]</a>
              <a href="thread.html#13635">[ thread ]</a>
              <a href="subject.html#13635">[ subject ]</a>
              <a href="author.html#13635">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Carsten,

Wednesday, December 16, 2009, 9:00:58 PM, you wrote:

&gt;&gt;&gt;<i> The first thing i had to learn was, that it is verry uncommon in
</I>&gt;&gt;&gt;<i> OpenOCD to check the result of malloc.
</I>&gt;&gt;<i> This is a known problem where we gladly accept patches to fix each
</I>&gt;&gt;<i> case.
</I>
CB&gt; OK, then i will start to fix all the mallocs
CB&gt; that are handled not correct yet and where
CB&gt; i understand what to do if they fail.

There is an emerging opinion that checking for malloc failures in
application code is counterproductive:
1) it is rarely tested properly, thus almost never works as expected
when allocation does fail
2) it bloats the code, in some case substantially, and obscures the
&quot;real&quot; code flow
3) it's very hard to write a proper rollback algorithm for all
situations
4) if the system is at the stage where malloc fails, there's little
guarantee that your recovery code will work properly
5) many systems just kill the process when the memory is exhausted
instead of returning NULL

<A HREF="http://article.gmane.org/gmane.comp.audio.jackit/19998">http://article.gmane.org/gmane.comp.audio.jackit/19998</A>
<A HREF="http://log.ometer.com/2008-02.html#4.2">http://log.ometer.com/2008-02.html#4.2</A>


-- 
WBR,
 Igor                            mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">skochinsky at mail.ru</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013647.html">[Openocd-development] Codecheck
</A></li>
	<LI>Next message: <A HREF="013646.html">[Openocd-development] Codecheck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13635">[ date ]</a>
              <a href="thread.html#13635">[ thread ]</a>
              <a href="subject.html#13635">[ subject ]</a>
              <a href="author.html#13635">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
