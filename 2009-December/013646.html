<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Codecheck
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Codecheck&In-Reply-To=%3C4B2965D3.3000005%40textwork.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013635.html">
   <LINK REL="Next"  HREF="013650.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Codecheck</H1>
    <B>Carsten Breuer</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Codecheck&In-Reply-To=%3C4B2965D3.3000005%40textwork.de%3E"
       TITLE="[Openocd-development] Codecheck">CarstenBreuerOpenOcd at textwork.de
       </A><BR>
    <I>Wed Dec 16 23:57:23 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013635.html">[Openocd-development] Codecheck
</A></li>
        <LI>Next message: <A HREF="013650.html">[Openocd-development] Codecheck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13646">[ date ]</a>
              <a href="thread.html#13646">[ thread ]</a>
              <a href="subject.html#13646">[ subject ]</a>
              <a href="author.html#13646">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Igor,

&gt;<i> There is an emerging opinion that checking for malloc failures in
</I>&gt;<i> application code is counterproductive:
</I>
OK, that is not my point of view ;-).
Writing to a zero pointer is allways &quot;wrong code&quot;, even if
we think that someone somewhere would clean up the mess
we have created.

&gt;<i> it is rarely tested
</I>&gt;<i> properly, thus almost never works as expected when allocation does
</I>&gt;<i> fail
</I>
Well, you can use Test-Tools like Tessy to get a 100% coverage.
I disagree here.

&gt;<i> 2) it bloats the code, in some case substantially, and obscures
</I>&gt;<i> the &quot;real&quot; code flow
</I>
The real code flow ends in nothing. There are embedded CPU's that have
no problem with writing to zero. They just do it. So this is really nice
to search errors. Good luck.

&gt;<i> 3) it's very hard to write a proper rollback
</I>&gt;<i> algorithm for all situations
</I>
No. If it is, the code is not well structured.

&gt;<i> if the system is at the stage where
</I>&gt;<i> malloc fails, there's little guarantee that your recovery code will
</I>&gt;<i> work properly
</I>
You know the difference betwenn stack and heap ;-).

&gt;<i> many systems just kill the process when the memory
</I>&gt;<i> is exhausted instead of returning NULL
</I>
What System?
This is at least  one argument.
If all system would do, than perhaps
you can leave this out. But then you are
not able to clean things like a half written
file or something like that.

Best regards,



Carsten




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013635.html">[Openocd-development] Codecheck
</A></li>
	<LI>Next message: <A HREF="013650.html">[Openocd-development] Codecheck
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13646">[ date ]</a>
              <a href="thread.html#13646">[ thread ]</a>
              <a href="subject.html#13646">[ subject ]</a>
              <a href="author.html#13646">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
