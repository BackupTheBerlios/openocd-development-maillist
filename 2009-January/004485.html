<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] ADuC702x flash plugin
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20ADuC702x%20flash%20plugin&In-Reply-To=%3C702768eb0901191118k40ac7477y39843bb835399308%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004482.html">
   <LINK REL="Next"  HREF="004502.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] ADuC702x flash plugin</H1>
    <B>Michael Ashton</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20ADuC702x%20flash%20plugin&In-Reply-To=%3C702768eb0901191118k40ac7477y39843bb835399308%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH] ADuC702x flash plugin">data at gtf.org
       </A><BR>
    <I>Mon Jan 19 20:18:13 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004482.html">[Openocd-development] Fwd: [Openocd-svn] r1333 - trunk
</A></li>
        <LI>Next message: <A HREF="004502.html">[Openocd-development] [PATCH] ADuC702x flash plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4485">[ date ]</a>
              <a href="thread.html#4485">[ thread ]</a>
              <a href="subject.html#4485">[ subject ]</a>
              <a href="author.html#4485">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>(Sorry if this shows up more than once -- I've just subscribed, and the
first attempt didn't seem to work.)

The attached patch makes the aduc702x flash plugin work for me with the
following setup:

* Olimex ARM-USB-OCD JTAG adapter
* Olimex ADUC-P7026 development board
* Cygwin

The patch makes the following changes:

* Flash bank setup made static
* Sector information now filled in -- GDB can now download code
* Erase and write routines fixed
* Block writing now supported (based on STR7X code)
* Note added to users guide about plugin command syntax
* Default target config file edited, with working area added

I haven't implemented the protection code -- in fact I can't see much use
for it on this device -- but it shouldn't be terribly difficult.

I'd love to hear how well this works for anyone else with a similar setup.
There are a few rough edges yet, the worst being that JTAG reset seems not
to work at all for this target (probably an easy fix), but I'm at least now
able to download code to it at reasonable speed.

--Michael Ashton &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">data at gtf.org</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090119/8826b608/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20090119/8826b608/attachment.html</A>&gt;
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: aducpatch.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090119/8826b608/attachment.txt">https://lists.berlios.de/pipermail/openocd-development/attachments/20090119/8826b608/attachment.txt</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004482.html">[Openocd-development] Fwd: [Openocd-svn] r1333 - trunk
</A></li>
	<LI>Next message: <A HREF="004502.html">[Openocd-development] [PATCH] ADuC702x flash plugin
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4485">[ date ]</a>
              <a href="thread.html#4485">[ thread ]</a>
              <a href="subject.html#4485">[ subject ]</a>
              <a href="author.html#4485">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
