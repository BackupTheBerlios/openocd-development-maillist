<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] support for freescale mc13224
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20support%20for%20freescale%20mc13224&In-Reply-To=%3C48239d390901210830o28b40e83vbbff4d1a6eb76565%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004570.html">
   <LINK REL="Next"  HREF="004539.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] support for freescale mc13224</H1>
    <B>Sergey Lapin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20support%20for%20freescale%20mc13224&In-Reply-To=%3C48239d390901210830o28b40e83vbbff4d1a6eb76565%40mail.gmail.com%3E"
       TITLE="[Openocd-development] support for freescale mc13224">slapinid at gmail.com
       </A><BR>
    <I>Wed Jan 21 17:30:42 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004570.html">[Openocd-development] xsvf tools fix for missing TRST in XSVF	format
</A></li>
        <LI>Next message: <A HREF="004539.html">[Openocd-development] support for freescale mc13224
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4537">[ date ]</a>
              <a href="thread.html#4537">[ thread ]</a>
              <a href="subject.html#4537">[ subject ]</a>
              <a href="author.html#4537">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, all!

I write support for mc13224 - arm7tdmi-based ieee8021.15.4 -compliant
communication chip. Chip is quite new, documentation is in weird state
and is not full, but core and basic peripherals like SPI are
documented normally. I already managed to make core work,
but I can't manage it to reset properly.

1. It does not have TRST, only SRST, and it works (resets), but then
OpenOCD is unable to talk to it anymore, full restart of openocd and
board reset button press works to some extent.

2. halt works only first time, then the same problem is as with reset.
Startup process and limitations is not described in manual.

Now I have managed to make GPIO and SPI work via mww,
can write stuff to internal RAM and run it, so basically it works.

Could anybody advice how to debug/gather information to fix this issue?

I could provide -d3 log of openocd, but it just tells that chip is in
invalid mode.
(will submit in another email as soon as I get home).

Freescale chose strategy of making very hard to work with this chip,
demanding closed binaries every now and then, and depending on
IAR Workbench for closed libraries, etc, but I'd like to
make it work fully (at least as just controller) hoping to reverse engineer
the rest for proper gcc support, because it is only integrated chip
on market at the moment, and I'd like to experiment with this kind of stuff.
By any chance if anybody had any experience with this particular chip,
have any information, I'd like to know about it.

Thanks a lot.
S.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004570.html">[Openocd-development] xsvf tools fix for missing TRST in XSVF	format
</A></li>
	<LI>Next message: <A HREF="004539.html">[Openocd-development] support for freescale mc13224
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4537">[ date ]</a>
              <a href="thread.html#4537">[ thread ]</a>
              <a href="subject.html#4537">[ subject ]</a>
              <a href="author.html#4537">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
