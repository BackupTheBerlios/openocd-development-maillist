<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] OpenOCD r1302 + STM32 Primer (Rlink)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20r1302%20%2B%20STM32%20Primer%20%28Rlink%29&In-Reply-To=%3C20090106213517.8580416B26E%40mail.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004311.html">
   <LINK REL="Next"  HREF="004330.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] OpenOCD r1302 + STM32 Primer (Rlink)</H1>
    <B>Spencer Oliver</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20r1302%20%2B%20STM32%20Primer%20%28Rlink%29&In-Reply-To=%3C20090106213517.8580416B26E%40mail.berlios.de%3E"
       TITLE="[Openocd-development] OpenOCD r1302 + STM32 Primer (Rlink)">spen at spen-soft.co.uk
       </A><BR>
    <I>Tue Jan  6 22:35:09 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004311.html">[Openocd-development] OpenOCD r1302 + STM32 Primer (Rlink)
</A></li>
        <LI>Next message: <A HREF="004330.html">[Openocd-development] OpenOCD r1302 + STM32 Primer (Rlink)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4313">[ date ]</a>
              <a href="thread.html#4313">[ thread ]</a>
              <a href="subject.html#4313">[ subject ]</a>
              <a href="author.html#4313">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Freddie,

&gt;<i> &gt; Open On-Chip Debugger 1.0 (2009-01-06-18:35) svn:unknown
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; BUGS? Read <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS">http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; $URL: <A HREF="svn://svn.berlios.de/openocd/trunk/src/openocd.c">svn://svn.berlios.de/openocd/trunk/src/openocd.c</A> $
</I>&gt;<i> &gt; Error: No device found on bus.
</I>&gt;<i> 
</I>&gt;<i> running in debug mode gives nothing more - only the init 
</I>&gt;<i> functions are executed, the error is produced by rlink_init()
</I>&gt;<i> 
</I>&gt;<i> it actually doesn't matter if the Primer is connected or not, 
</I>&gt;<i> powered or not - the msg is always the same. The Primer and 
</I>&gt;<i> it's RLINK work under Ride7, so I guess my problem is 
</I>&gt;<i> situated in software...
</I>&gt;<i> 
</I>
The issue is that the rlink uses a slightly unique driver (forget the name)
that the libusb filter driver cannot see.
you have to remove the standard rlink driver and use the main libusb driver.

This is a pain as other interfaces (jlink, ftdi) behave fine with the filter
driver.
To be honest though the best way to access the interface is directly rather
than using the filter driver.

I have attached the inf for a standard rlink - if this does not match the
primer than use inf-wizard.exe (part of libusb) to generate the correct inf
file.

The downside of all this is that you cannot use RIDE and openocd at the same
time.

Cheers
Spen
-------------- next part --------------
A non-text attachment was scrubbed...
Name: rlink.zip
Type: application/octet-stream
Size: 60478 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090106/674a1234/attachment.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090106/674a1234/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004311.html">[Openocd-development] OpenOCD r1302 + STM32 Primer (Rlink)
</A></li>
	<LI>Next message: <A HREF="004330.html">[Openocd-development] OpenOCD r1302 + STM32 Primer (Rlink)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4313">[ date ]</a>
              <a href="thread.html#4313">[ thread ]</a>
              <a href="subject.html#4313">[ subject ]</a>
              <a href="author.html#4313">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
