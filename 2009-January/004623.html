<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] jtag_examine_chain IEEE 1149.1 $12
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20jtag_examine_chain%20IEEE%201149.1%20%2412&In-Reply-To=%3Ce5e16330901311357q498c593bvdcbf02746d0352ae%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004622.html">
   <LINK REL="Next"  HREF="004624.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] jtag_examine_chain IEEE 1149.1 $12</H1>
    <B>Kees Jongenburger</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20jtag_examine_chain%20IEEE%201149.1%20%2412&In-Reply-To=%3Ce5e16330901311357q498c593bvdcbf02746d0352ae%40mail.gmail.com%3E"
       TITLE="[Openocd-development] jtag_examine_chain IEEE 1149.1 $12">kees.jongenburger at gmail.com
       </A><BR>
    <I>Sat Jan 31 22:57:55 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004622.html">[Openocd-development] jtag_examine_chain IEEE 1149.1 $12
</A></li>
        <LI>Next message: <A HREF="004624.html">[Openocd-development] tap_move in src/jtag/jtag.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4623">[ date ]</a>
              <a href="thread.html#4623">[ thread ]</a>
              <a href="subject.html#4623">[ subject ]</a>
              <a href="author.html#4623">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>replying to myself

the BAD apparently is cause by the GOOD as the TAP is set in BYPASS
just after the
examine scan chain in the log but WHY?


(GOOD)
Debug: 84 176 jtag.c:2257 jtag_init_inner(): Init JTAG chain
Debug: 85 176 jtag.c:434 jtag_call_event_callbacks(): jtag event: JTAG
controller reset (RESET or TRST)
Debug: 86 176 jtag.c:1504 jtag_reset_callback(): -
Debug: 87 176 jtag.c:1504 jtag_reset_callback(): -
Debug: 88 176 ft2232.c:1341 ft2232_execute_queue(): statemove: RESET
Debug: 89 178 jtag.c:434 jtag_call_event_callbacks(): jtag event: JTAG
controller reset (RESET or TRST)
Debug: 90 178 jtag.c:1504 jtag_reset_callback(): -
Debug: 91 178 jtag.c:1504 jtag_reset_callback(): -
Debug: 92 178 jtag.c:1302 jtag_build_buffer(): num_fields: 1
Debug: 93 178 jtag.c:1314 jtag_build_buffer():
fields[0].out_value[640]: 0x000000ff000000ff
Debug: 94 178 ft2232.c:1403 ft2232_execute_queue(): DR scan, 640 bits,
end in RESET
Debug: 95 181 jtag.c:1346 jtag_read_buffer(): fields[0].in_value[640]:
0x000000ff0b7ae02f
Info : 96 181 jtag.c:1624 jtag_examine_chain(): JTAG tap: omap3530.jrc
tap/device found: 0x0b7ae02f (Manufacturer: 0x017, Part: 0xb7ae,
Version: 0x0)
Info : 97 181 jtag.c:1662 jtag_examine_chain(): JTAG Tap/device matched
Debug: 98 181 jtag.c:434 jtag_call_event_callbacks(): jtag event: JTAG
controller reset (RESET or TRST)
Debug: 99 181 jtag.c:1504 jtag_reset_callback(): -
Debug: 100 181 jtag.c:1504 jtag_reset_callback(): -
Debug: 101 181 jtag.c:1302 jtag_build_buffer(): num_fields: 1
Debug: 102 181 jtag.c:1314 jtag_build_buffer(): fields[0].out_value[8]: 0xff
&gt;&gt;&gt;<i>WHY???&lt;&lt;&lt;&lt;
</I>Debug: 103 181 ft2232.c:1403 ft2232_execute_queue(): IR scan, 8 bits,
end in RESET
Debug: 104 183 jtag.c:1346 jtag_read_buffer(): fields[0].in_value[8]: 0xc1
Debug: 105 183 openocd.c:150 handle_init_command(): jtag init complete
Debug: 106 183 openocd.c:153 handle_init_command(): jtag examine complete
Debug: 107 183 openocd.c:159 handle_init_command(): flash init complete
Debug: 108 183 openocd.c:163 handle_init_command(): mflash init complete
Debug: 109 183 openocd.c:167 handle_init_command(): NAND init complete
Debug: 110 183 openocd.c:171 handle_init_command(): pld init complete
Warn : 111 183 telnet_server.c:612 telnet_init(): no telnet port
specified, using default port 4444
Warn : 112 183 gdb_server.c:2195 gdb_init(): no gdb ports allocated as
no target has been specified
Warn : 113 183 tcl_server.c:178 tcl_init(): no tcl port specified,
using default port 6666
User : 114 183 command.c:494 command_run_line():



On Sat, Jan 31, 2009 at 9:21 PM, Kees Jongenburger
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kees.jongenburger at gmail.com</A>&gt; wrote:
&gt;<i> Hello ,
</I>&gt;<i>
</I>&gt;<i> While debugging the for the BeagleBoard and using the ftdi driver
</I>&gt;<i> openocd only is able to detect the scan chain
</I>&gt;<i> correctly the first time after a reset.
</I>&gt;<i>
</I>&gt;<i>  (GOOD)
</I>&gt;<i> Debug: 64 268 ft2232.c:1341 ft2232_execute_queue(): statemove: RESET
</I>&gt;<i> Debug: 65 270 jtag.c:436 jtag_call_event_callbacks(): jtag event: JTAG
</I>&gt;<i> controller reset (RESET or TRST)
</I>&gt;<i> Debug: 66 270 jtag.c:1489 jtag_reset_callback(): -
</I>&gt;<i> Debug: 67 270 jtag.c:1489 jtag_reset_callback(): -
</I>&gt;<i> Debug: 68 270 jtag.c:1284 jtag_build_buffer(): num_fields: 1
</I>&gt;<i> Debug: 69 270 jtag.c:1296 jtag_build_buffer():
</I>&gt;<i> fields[0].out_value[640]: 0x000000ff000000ff
</I>&gt;<i> Debug: 70 270 jtag.c:1303 jtag_build_buffer(): bit_count totalling: 640
</I>&gt;<i> Debug: 71 270 ft2232.c:1403 ft2232_execute_queue(): DR scan, 640 bits,
</I>&gt;<i> end in RESET
</I>&gt;<i> Debug: 72 276 jtag.c:1331 jtag_read_buffer(): fields[0].in_value[640]:
</I>&gt;<i> 0x000000ff0b7ae02f
</I>&gt;<i> Info : 73 276 jtag.c:1609 jtag_examine_chain(): JTAG tap: omap3530.jrc
</I>&gt;<i> tap/device found: 0x0b7ae02f (Manufacturer: 0x017,
</I>&gt;<i> Info : 74 276 jtag.c:1647 jtag_examine_chain(): JTAG Tap/device matched
</I>&gt;<i> Debug: 75 276 jtag.c:436 jtag_call_event_callbacks(): jtag event: JTAG
</I>&gt;<i> controller reset (RESET or TRST)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> The second time it looks like it is a bypass mode.(the input data it
</I>&gt;<i> moved out shifted on byte?)
</I>&gt;<i> (BAD)
</I>&gt;<i> Debug: 64 271 ft2232.c:1341 ft2232_execute_queue(): statemove: RESET
</I>&gt;<i> Debug: 65 272 jtag.c:436 jtag_call_event_callbacks(): jtag event: JTAG
</I>&gt;<i> controller reset (RESET or TRST)
</I>&gt;<i> Debug: 66 272 jtag.c:1489 jtag_reset_callback(): -
</I>&gt;<i> Debug: 67 272 jtag.c:1489 jtag_reset_callback(): -
</I>&gt;<i> Debug: 68 272 jtag.c:1284 jtag_build_buffer(): num_fields: 1
</I>&gt;<i> Debug: 69 272 jtag.c:1296 jtag_build_buffer():
</I>&gt;<i> fields[0].out_value[640]: 0x000000ff000000ff
</I>&gt;<i> Debug: 70 272 jtag.c:1303 jtag_build_buffer(): bit_count totalling: 640
</I>&gt;<i> Debug: 71 272 ft2232.c:1403 ft2232_execute_queue(): DR scan, 640 bits,
</I>&gt;<i> end in RESET
</I>&gt;<i> Debug: 72 278 jtag.c:1331 jtag_read_buffer(): fields[0].in_value[640]:
</I>&gt;<i> 0x000001fe000001fe
</I>&gt;<i> Warn : 73 278 jtag.c:1562 jtag_examine_chain(): Tap/Device does not have IDCODE
</I>&gt;<i> Error: 74 278 jtag.c:1633 jtag_examine_chain(): JTAG tap: omap3530.jrc
</I>&gt;<i>            got: 0x00000000 (mfg: 0x000, part: 0x00
</I>&gt;<i> Error: 75 278 jtag.c:1642 jtag_examine_chain(): JTAG tap: omap3530.jrc
</I>&gt;<i> expected 1 of 1: 0x0b7ae02f (mfg: 0x017, part: 0xb7
</I>&gt;<i> Error: 76 278 jtag.c:2257 jtag_init_inner(): trying to validate
</I>&gt;<i> configured JTAG chain anyway...
</I>&gt;<i> Debug: 77 278 jtag.c:436 jtag_call_event_callbacks(): jtag event: JTAG
</I>&gt;<i> controller reset (RESET or TRST)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I don't have access to  IEEE 1149.1 $12 as referenced at the start of
</I>&gt;<i> the  jtag_examine_chain
</I>&gt;<i> method but wonder why when we only perform a DR scan without first
</I>&gt;<i> trying to set the IR register to IDCODE?
</I>&gt;<i> it test logic reset supposed to do that or does that indeed need a nRST?
</I>&gt;<i>
</I>&gt;<i> greetings
</I>&gt;<i>
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004622.html">[Openocd-development] jtag_examine_chain IEEE 1149.1 $12
</A></li>
	<LI>Next message: <A HREF="004624.html">[Openocd-development] tap_move in src/jtag/jtag.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4623">[ date ]</a>
              <a href="thread.html#4623">[ thread ]</a>
              <a href="subject.html#4623">[ subject ]</a>
              <a href="author.html#4623">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
