<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 1/2] update doxygen configuration to	produce a PDF
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/2%5D%20update%20doxygen%20configuration%20to%0A%09produce%20a%20PDF&In-Reply-To=%3C1258470150-14243-2-git-send-email-zw%40superlucidity.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012474.html">
   <LINK REL="Next"  HREF="012476.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 1/2] update doxygen configuration to	produce a PDF</H1>
    <B>Zachary T Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/2%5D%20update%20doxygen%20configuration%20to%0A%09produce%20a%20PDF&In-Reply-To=%3C1258470150-14243-2-git-send-email-zw%40superlucidity.net%3E"
       TITLE="[Openocd-development] [PATCH 1/2] update doxygen configuration to	produce a PDF">zw at superlucidity.net
       </A><BR>
    <I>Tue Nov 17 16:02:29 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012474.html">[Openocd-development] [PATCH 0/2] update doxygen build
</A></li>
        <LI>Next message: <A HREF="012476.html">[Openocd-development] [PATCH 2/2] allow documentation to be	configured
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12475">[ date ]</a>
              <a href="thread.html#12475">[ thread ]</a>
              <a href="subject.html#12475">[ subject ]</a>
              <a href="author.html#12475">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>A single PDF file for the developer manual allows accessing a single
index, browsing, and searching.  It takes significantly more time to
build this way, but this patch allows others to look at the results.

Signed-off-by: Zachary T Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">zw at superlucidity.net</A>&gt;
---
 Doxyfile.in |   16 ++++++++--------
 Makefile.am |    7 +++++++
 2 files changed, 15 insertions(+), 8 deletions(-)

diff --git a/Doxyfile.in b/Doxyfile.in
index 038f1e5..077db10 100644
--- a/Doxyfile.in
+++ b/Doxyfile.in
@@ -38,7 +38,7 @@ PROJECT_NUMBER         =
 # If a relative path is entered, it will be relative to the location
 # where doxygen was started. If left blank the current directory will be used.
 
-OUTPUT_DIRECTORY       =
+OUTPUT_DIRECTORY       = doxygen
 
 # If the CREATE_SUBDIRS tag is set to YES, then doxygen will create
 # 4096 sub-directories (in 2 levels) under the output directory of each output
@@ -770,7 +770,7 @@ GENERATE_HTML          = YES
 # If a relative path is entered the value of OUTPUT_DIRECTORY will be
 # put in front of it. If left blank `html' will be used as the default path.
 
-HTML_OUTPUT            = doxygen
+HTML_OUTPUT            = html
 
 # The HTML_FILE_EXTENSION tag can be used to specify the file extension for
 # each generated HTML page (for example: .htm,.php,.asp). If it is left blank
@@ -981,7 +981,7 @@ FORMULA_FONTSIZE       = 10
 # If the GENERATE_LATEX tag is set to YES (the default) Doxygen will
 # generate Latex output.
 
-GENERATE_LATEX         = NO
+GENERATE_LATEX         = YES
 
 # The LATEX_OUTPUT tag is used to specify where the LaTeX docs will be put.
 # If a relative path is entered the value of OUTPUT_DIRECTORY will be
@@ -992,7 +992,7 @@ LATEX_OUTPUT           = latex
 # The LATEX_CMD_NAME tag can be used to specify the LaTeX command name to be
 # invoked. If left blank `latex' will be used as the default command name.
 
-LATEX_CMD_NAME         = latex
+LATEX_CMD_NAME         = pdflatex
 
 # The MAKEINDEX_CMD_NAME tag can be used to specify the command name to
 # generate index for LaTeX. If left blank `makeindex' will be used as the
@@ -1004,7 +1004,7 @@ MAKEINDEX_CMD_NAME     = makeindex
 # LaTeX documents. This may be useful for small projects and may help to
 # save some trees in general.
 
-COMPACT_LATEX          = NO
+COMPACT_LATEX          = YES
 
 # The PAPER_TYPE tag can be used to set the paper type that is used
 # by the printer. Possible values are: a4, a4wide, letter, legal and
@@ -1029,20 +1029,20 @@ LATEX_HEADER           =
 # contain links (just like the HTML output) instead of page references
 # This makes the output suitable for online browsing using a pdf viewer.
 
-PDF_HYPERLINKS         = NO
+PDF_HYPERLINKS         = YES
 
 # If the USE_PDFLATEX tag is set to YES, pdflatex will be used instead of
 # plain latex in the generated Makefile. Set this option to YES to get a
 # higher quality PDF documentation.
 
-USE_PDFLATEX           = NO
+USE_PDFLATEX           = YES
 
 # If the LATEX_BATCHMODE tag is set to YES, doxygen will add the \\batchmode.
 # command to the generated LaTeX files. This will instruct LaTeX to keep
 # running if errors occur, instead of asking the user for help.
 # This option is also used when generating formulas in HTML.
 
-LATEX_BATCHMODE        = NO
+LATEX_BATCHMODE        = YES
 
 # If LATEX_HIDE_INDICES is set to YES then doxygen will not
 # include the index chapters (such as File Index, Compound Index, etc.)
diff --git a/Makefile.am b/Makefile.am
index dc4166d..be42c28 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -28,9 +28,16 @@ Doxyfile: $(srcdir)/Doxyfile.in
 	  sed -e '<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">s, at srcdir</A>\@,$(srcdir),' $&lt; \
 	) &gt; $@
 
+THE_MANUAL = doxygen/latex/refman.pdf
+
 doxygen::
 	$(MAKE) Doxyfile
 	doxygen Doxyfile 2&gt;&amp;1 | perl $(srcdir)/tools/logger.pl &gt; doxygen.log
+	$(MAKE) $(THE_MANUAL)
+
+%.pdf: %.tex
+	-cd $$(dirname $*) &amp;&amp; pdflatex $$(basename $*)
+	-cd $$(dirname $*) &amp;&amp; pdflatex $$(basename $*)
 
 TCL_PATH = tcl
 # command to find paths of script files, relative to TCL_PATH
-- 
1.6.4.4


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012474.html">[Openocd-development] [PATCH 0/2] update doxygen build
</A></li>
	<LI>Next message: <A HREF="012476.html">[Openocd-development] [PATCH 2/2] allow documentation to be	configured
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12475">[ date ]</a>
              <a href="thread.html#12475">[ thread ]</a>
              <a href="subject.html#12475">[ subject ]</a>
              <a href="author.html#12475">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
