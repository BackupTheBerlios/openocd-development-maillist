<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] NAND File I/O parses wrong argument
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20NAND%20File%20I/O%20parses%20wrong%20argument&In-Reply-To=%3C61a057ae0911191458t112aab8dlccb2be5a484114de%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012562.html">
   <LINK REL="Next"  HREF="012583.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] NAND File I/O parses wrong argument</H1>
    <B>Dean Glazeski</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20NAND%20File%20I/O%20parses%20wrong%20argument&In-Reply-To=%3C61a057ae0911191458t112aab8dlccb2be5a484114de%40mail.gmail.com%3E"
       TITLE="[Openocd-development] NAND File I/O parses wrong argument">dnglaze at gmail.com
       </A><BR>
    <I>Thu Nov 19 23:58:37 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012562.html">[Openocd-development] NAND File I/O parses wrong argument
</A></li>
        <LI>Next message: <A HREF="012583.html">[Openocd-development] NAND File I/O parses wrong argument
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12581">[ date ]</a>
              <a href="thread.html#12581">[ thread ]</a>
              <a href="subject.html#12581">[ subject ]</a>
              <a href="author.html#12581">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>nand verify is not working.  I'm trying to trace it to the problem, but it
appears there is something wrong with the file struct that's reading the
file.  Somehow the data read from the file doesn't match the actual data in
the file.  The odd ball thing is that nand erase, followed by nand write,
followed by nand dump produces matching bin files to the original written
bin file.  It also appears that the file struct is used in the same way in
the nand write handler, so I'm a bit confused.  I'm going to keep poking
until I figure it out or some one posts something here.

As another curveball, it reads 0x1B when not verifying oob and 0x05 when I
tell it to at location 0.  The correct value in the file is 0x1E for that
location and the NAND device does return this value when read.

// Dean Glazeski


On Thu, Nov 19, 2009 at 9:15 AM, Zach Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">zw at superlucidity.net</A>&gt; wrote:

&gt;<i> On Wed, 2009-11-18 at 23:25 -0600, Dean Glazeski wrote:
</I>&gt;<i> &gt; Hi all,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Recent NAND file I/O changes are parsing the wrong argument for the
</I>&gt;<i> &gt; size.  Should be third argument, not second.
</I>&gt;<i>
</I>&gt;<i> Pushed.  Let me know if you find any other problems.  Incidentally, does
</I>&gt;<i> the 'new verify' command work for you (after this fix)? :)
</I>&gt;<i>
</I>&gt;<i> --Z
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20091119/6b7da8d5/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20091119/6b7da8d5/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012562.html">[Openocd-development] NAND File I/O parses wrong argument
</A></li>
	<LI>Next message: <A HREF="012583.html">[Openocd-development] NAND File I/O parses wrong argument
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12581">[ date ]</a>
              <a href="thread.html#12581">[ thread ]</a>
              <a href="subject.html#12581">[ subject ]</a>
              <a href="author.html#12581">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
