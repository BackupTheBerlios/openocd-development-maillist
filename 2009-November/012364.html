<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 05/11] bitbuffer: move variables to point of first use
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%2005/11%5D%20bitbuffer%3A%20move%20variables%0A%20to%20point%20of%20first%20use&In-Reply-To=%3C1258280268.14924.4053.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012346.html">
   <LINK REL="Next"  HREF="012333.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 05/11] bitbuffer: move variables to point of first use</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%2005/11%5D%20bitbuffer%3A%20move%20variables%0A%20to%20point%20of%20first%20use&In-Reply-To=%3C1258280268.14924.4053.camel%40localhost%3E"
       TITLE="[Openocd-development] [PATCH 05/11] bitbuffer: move variables to point of first use">zw at superlucidity.net
       </A><BR>
    <I>Sun Nov 15 11:17:48 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012346.html">[Openocd-development] [PATCH 05/11] bitbuffer: move variables	to point of first use
</A></li>
        <LI>Next message: <A HREF="012333.html">[Openocd-development] [PATCH 06/11] improve str_to_buf and	buf_to_str helpers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12364">[ date ]</a>
              <a href="thread.html#12364">[ thread ]</a>
              <a href="subject.html#12364">[ subject ]</a>
              <a href="author.html#12364">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2009-11-14 at 12:49 -0700, David Brownell wrote:
&gt;<i> For the record, I still prefer to see declarations grouped
</I>&gt;<i> at the beginning of their block, after a left bracket.
</I>&gt;<i> That way they're always easy to find.
</I>
Rather than where they are first used, where you actually need the
information to understand the code?  I guess it's a matter of where you
expect to start your search algorithm.  For me, it always seems to be at
the point of first use.

But as &#216;yvind pointed out, this also has the positive effect of reducing
the scope for these variables, meaning the developer has a smaller
working set of variables to consider.  It also serves to partition the
routine into phases, with each in-line block of variables declaring a
new &quot;statement group&quot; of sorts.  A good compiler might even produce
better code, without even throwing optimization into the discussion.
It would be interesting to know for sure.

Regardless, this approach does help when refactoring, because these
statement groups can be copy and pasted cleanly as a block of lines.
After rearranging functions in this manner (doing the compiler's job),
new opportunities for factoring subroutines often become apparent, and
you make it easier to realize them in subsequent patches.

--Z

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012346.html">[Openocd-development] [PATCH 05/11] bitbuffer: move variables	to point of first use
</A></li>
	<LI>Next message: <A HREF="012333.html">[Openocd-development] [PATCH 06/11] improve str_to_buf and	buf_to_str helpers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12364">[ date ]</a>
              <a href="thread.html#12364">[ thread ]</a>
              <a href="subject.html#12364">[ subject ]</a>
              <a href="author.html#12364">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
