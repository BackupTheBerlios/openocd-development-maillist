<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 3/3] support for scripts in	$HOME/.openocd
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%203/3%5D%20support%20for%20scripts%20in%0A%09%24HOME/.openocd&In-Reply-To=%3C977cb63c0911231322o30badedfp8700fbc57598c9af%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012699.html">
   <LINK REL="Next"  HREF="012729.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 3/3] support for scripts in	$HOME/.openocd</H1>
    <B>Andreas Fritiofson</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%203/3%5D%20support%20for%20scripts%20in%0A%09%24HOME/.openocd&In-Reply-To=%3C977cb63c0911231322o30badedfp8700fbc57598c9af%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH 3/3] support for scripts in	$HOME/.openocd">andreas.fritiofson at gmail.com
       </A><BR>
    <I>Mon Nov 23 22:22:45 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012699.html">[Openocd-development] [PATCH 3/3] support for scripts in	$HOME/.openocd
</A></li>
        <LI>Next message: <A HREF="012729.html">[Openocd-development] [PATCH 3/3] support for scripts in	$HOME/.openocd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12728">[ date ]</a>
              <a href="thread.html#12728">[ thread ]</a>
              <a href="subject.html#12728">[ subject ]</a>
              <a href="author.html#12728">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Nov 22, 2009 at 12:42 PM, &#216;yvind Harboe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">oyvind.harboe at zylin.com</A>&gt; wrote:
&gt;<i> On Sun, Nov 22, 2009 at 11:04 AM, Andreas Fritiofson
</I>&gt;<i> &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">andreas.fritiofson at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> On Sun, Nov 22, 2009 at 9:51 AM, &#216;yvind Harboe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">oyvind.harboe at zylin.com</A>&gt; wrote:
</I>&gt;&gt;&gt;<i> Do not use variable length arrays. Use malloc().
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> If you use variable length arrays on the stack that messes with embedded
</I>&gt;&gt;&gt;<i> / uCLinux hosts.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Only if the embedded host uses a home directory path longer than what
</I>&gt;&gt;<i> will fit on the stack. Is this really a problem?
</I>&gt;<i>
</I>&gt;<i> Yes. Other programmers will copy and paste your code.
</I>&gt;<i>
</I>&gt;<i> We've got the code clean of dynamic arrays on the stack and we
</I>&gt;<i> should keep it that way.
</I>&gt;<i>
</I>
Since C99 has been accepted as the project's language standard, I
think it is reasonable to expect that valid language constructs that
are still *not* acceptable by the project be clearly stated in the
Style Guide. Likewise if being optimized for embedded hosts is a
priority for the project as a whole. Rejecting even trivial patches on
the grounds of previously unspoken goals does not encourage developers
to contribute.

With that said, I'll happily resign in this case. Actually, my first
draft was using asprintf() but I rejected it for not being standard.
Seeing there's an equivalent already in the code, I'll update the
patch using that.

However, alloc_vprintf() seems to have a rather cumbersome
implementation. Is there a reason why it is looping, trying with
increasingly larger allocations?

/Andreas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012699.html">[Openocd-development] [PATCH 3/3] support for scripts in	$HOME/.openocd
</A></li>
	<LI>Next message: <A HREF="012729.html">[Openocd-development] [PATCH 3/3] support for scripts in	$HOME/.openocd
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12728">[ date ]</a>
              <a href="thread.html#12728">[ thread ]</a>
              <a href="subject.html#12728">[ subject ]</a>
              <a href="author.html#12728">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
