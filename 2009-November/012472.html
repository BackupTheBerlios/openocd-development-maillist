<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] allow flash/nand banks commands to accept names
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20allow%20flash/nand%20banks%20commands%0A%20to%20accept%20names&In-Reply-To=%3C1258459366.5344.4354.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012467.html">
   <LINK REL="Next"  HREF="012465.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] allow flash/nand banks commands to accept names</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20allow%20flash/nand%20banks%20commands%0A%20to%20accept%20names&In-Reply-To=%3C1258459366.5344.4354.camel%40localhost%3E"
       TITLE="[Openocd-development] [PATCH] allow flash/nand banks commands to accept names">zw at superlucidity.net
       </A><BR>
    <I>Tue Nov 17 13:02:46 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012467.html">[Openocd-development] [PATCH] allow flash/nand banks commands	to accept names
</A></li>
        <LI>Next message: <A HREF="012465.html">[Openocd-development] container_of in flash module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12472">[ date ]</a>
              <a href="thread.html#12472">[ thread ]</a>
              <a href="subject.html#12472">[ subject ]</a>
              <a href="author.html#12472">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 2009-11-17 at 04:09 -0700, David Brownell wrote:
&gt;<i> On Tuesday 17 November 2009, Zachary T Welch wrote:
</I>&gt;<i> &gt;    
</I>&gt;<i> &gt; Add get_flash_bank_by_name (and get_nand_device_by_name) helpers
</I>&gt;<i> &gt; to retrieves struct flash_bank * (struct nand_device *) given a
</I>&gt;<i> &gt; driver name and an (optional) driver-specific bank index.
</I>&gt;<i> 
</I>&gt;<i> To save me reading 30KB of patch ... what's the Tcl interface
</I>&gt;<i> to this then?  The name is specified via &quot;nand device ...&quot;
</I>&gt;<i> and &quot;flash bank ...&quot; commands getting new parameters?
</I>
If you have one bank, it uses the driver name.  If you have more than
one, you can add a numeric suffix to specify which instance.

&gt;<i> Agreed that wanting to get rid of numeric IDs there too is
</I>&gt;<i> a good thing.  I just want to get a quick handle on how this
</I>&gt;<i> would get used...
</I>
In most cases, replace '0' with the name of the driver or controller.
If you have two, refer to them as 'driver.0' and 'driver.1'.

I am not saying this is the best approach, but it was easy to do and can
be improved trivially.  For example, it would be easy to add another
patch to update the bank creation command syntax for per-bank names,
checking for a match with those.

--Z


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012467.html">[Openocd-development] [PATCH] allow flash/nand banks commands	to accept names
</A></li>
	<LI>Next message: <A HREF="012465.html">[Openocd-development] container_of in flash module
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12472">[ date ]</a>
              <a href="thread.html#12472">[ thread ]</a>
              <a href="subject.html#12472">[ subject ]</a>
              <a href="author.html#12472">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
