<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] everything must be &quot;used before init&quot; ??
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20everything%20must%20be%20%22used%20before%20init%22%20%3F%3F&In-Reply-To=%3C200911281816.11738.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013029.html">
   <LINK REL="Next"  HREF="013044.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] everything must be &quot;used before init&quot; ??</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20everything%20must%20be%20%22used%20before%20init%22%20%3F%3F&In-Reply-To=%3C200911281816.11738.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] everything must be &quot;used before init&quot; ??">david-b at pacbell.net
       </A><BR>
    <I>Sun Nov 29 03:16:11 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013029.html">[Openocd-development] everything must be &quot;used before init&quot; ??
</A></li>
        <LI>Next message: <A HREF="013044.html">[Openocd-development] everything must be &quot;used before init&quot; ??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13030">[ date ]</a>
              <a href="thread.html#13030">[ thread ]</a>
              <a href="subject.html#13030">[ subject ]</a>
              <a href="author.html#13030">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Saturday 28 November 2009, Zach Welch wrote:
&gt;<i> 
</I>&gt;<i> Yeah, I figure there are some scripts (or users) that have not been
</I>&gt;<i> sufficiently strict about CONFIG vs. EXEC modes, as that logic has been
</I>&gt;<i> broken for ages....
</I>
Broken how?  It's worked as advertised, as far as I know.


&gt;<i> Nevertheless, the very design needs to be improved. 
</I>&gt;<i> 
</I>&gt;<i> Indeed, this feature presents a layering violation.  Right now, the
</I>&gt;<i> command layer knows too much about the state of initialization.  Even a
</I>&gt;<i> simple 'enable/disable' state would be a sufficient generalization of
</I>&gt;<i> the intended functionality; however, many commands should be registered
</I>&gt;<i> only once they can be used, which we do in very small doses today.
</I>
And I'd like to see things that *can't* be used not even be displayed
in the &quot;help&quot; list ... 


&gt;<i> Why not allow the user to bring up an interface once its defined?
</I>&gt;<i> Specifically, the 'init' command might be a subcommand associated of a
</I>&gt;<i> specific (named) interface device instance.  It would give other
</I>&gt;<i> commands for configuring the TAPs, devices, and targets associated with
</I>&gt;<i> that interface.  Naturally, this implies multiple interface support, so
</I>&gt;<i> OpenOCD can support gang-programming and multi-head test applications.
</I>
I'm not keen on that.  It already supports multiple scanchains ... just
put each one in its own process.  That's not something that's broken.
Not that I'd object hugely to having it; but it just seems like it would
only increase complexity, to no real benefit.

 
&gt;<i> Naturally, it should be possible to run 'init' interactively, such that
</I>&gt;<i> one can startup OpenOCD without any interface defined.  That change
</I>&gt;<i> should be possible independently of other work in this area.  I seem to
</I>&gt;<i> recall the topic being discussed in the past, but I can't find anything
</I>&gt;<i> relevant in my local archive after a quick search.
</I>&gt;<i> 
</I>&gt;<i> As I see it, the notion of command modes can be eliminated entirely,
</I>
Yes it could be.  But right now we're faced with just a regression,
where adding

	-c init -c &quot;poll off&quot;

to a working comand line causes things to fail.

- Dave


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013029.html">[Openocd-development] everything must be &quot;used before init&quot; ??
</A></li>
	<LI>Next message: <A HREF="013044.html">[Openocd-development] everything must be &quot;used before init&quot; ??
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13030">[ date ]</a>
              <a href="thread.html#13030">[ thread ]</a>
              <a href="subject.html#13030">[ subject ]</a>
              <a href="author.html#13030">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
