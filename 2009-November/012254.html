<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Serial Wire Debug and git
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Serial%20Wire%20Debug%20and%20git&In-Reply-To=%3C1257978181.5610.4109.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012252.html">
   <LINK REL="Next"  HREF="012266.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Serial Wire Debug and git</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Serial%20Wire%20Debug%20and%20git&In-Reply-To=%3C1257978181.5610.4109.camel%40localhost%3E"
       TITLE="[Openocd-development] Serial Wire Debug and git">zw at superlucidity.net
       </A><BR>
    <I>Wed Nov 11 23:23:01 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012252.html">[Openocd-development] Serial Wire Debug and git
</A></li>
        <LI>Next message: <A HREF="012266.html">[Openocd-development] Serial Wire Debug and git
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12254">[ date ]</a>
              <a href="thread.html#12254">[ thread ]</a>
              <a href="subject.html#12254">[ subject ]</a>
              <a href="author.html#12254">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2009-11-11 at 21:32 +0000, Andrew Rogers wrote:
&gt;<i> Hi All,
</I>&gt;<i> 
</I>&gt;<i> I am working a few hours a week trying to get SWD working for the STM32
</I>&gt;<i> Primer2 (R-Link interface). I am happy making changes to the source code
</I>&gt;<i> to accomplish this. The problem is that my changes span many files
</I>&gt;<i> because OpenOCD is pretty well married up to JTAG. I am taking the
</I>&gt;<i> opportunity to create an interface struct that can be type-cast to JTAG
</I>&gt;<i> or SWD struct and later extended to UART. The problem I've got is that I
</I>&gt;<i> know nothing about git and get problems trying to pull the latest
</I>&gt;<i> revisions and merging them with my working copy. I try
</I>&gt;<i> 
</I>&gt;<i> $ git pull
</I>&gt;<i> Updating e901cee..2821115
</I>&gt;<i> error: Entry 'src/jtag/core.c' not uptodate. Cannot merge.
</I>
You need to commit all of your pending changes?  I never see merge
failures, because I avoid them by only working on branches.  I do not
work on my master branch.  That way, I can pull new work from upstream
into the master branch, then rebase my branches onto it.

&gt;<i> and it tells me it can't merge. I suspect that I will run into further
</I>&gt;<i> problems as my working copy continues to drift away from the master so I
</I>&gt;<i> would like to resolve this soon. I know the problem lies with me not
</I>&gt;<i> understanding git, so help is appreciated. The tutorial didn't help me
</I>&gt;<i> resolve the above.
</I>&gt;<i> 
</I>&gt;<i> The patch that I will eventually post will be quite big, is this going
</I>&gt;<i> to be a problem for the person who merges the patch into the master?
</I>
Study the various series that I have posted today.  They should show you
that a problem of the size you describe should probably be broken into
dozens of patches, with each one incrementally building the
functionality up in the tree.  

Do _not_ try to produce a monolithic patch, or we will probably not know
what to do with all of the changes.  Your work would need to be redone,
and you will probably be the only person that understands the code well
enough to do it.  Alternatively, you can produce one patch and be forced
to tear it apart into series.  Thus, a huge patch will create a problem
for you; it will hinder your changes' review and acceptance.

Commit early and often.  One change per commit.  Since you won't get the
order right at first, learn how to use (and love) the power of 'git
rebase' for reordering, editing, splitting, and combining patches.  Each
commit needs a meaningful and well-formatted message describing the
change.  Your series will grow and evolve non-linearly, but you need to
present the changes by these rules.  Again, see the series that I have
recently posted for how to stack your work like this.

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012252.html">[Openocd-development] Serial Wire Debug and git
</A></li>
	<LI>Next message: <A HREF="012266.html">[Openocd-development] Serial Wire Debug and git
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12254">[ date ]</a>
              <a href="thread.html#12254">[ thread ]</a>
              <a href="subject.html#12254">[ subject ]</a>
              <a href="author.html#12254">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
