<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Methods on targets
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Methods%20on%20targets&In-Reply-To=%3Cc09652430911111422m42508da9s80959c3eec773a0c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012250.html">
   <LINK REL="Next"  HREF="012255.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Methods on targets</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Methods%20on%20targets&In-Reply-To=%3Cc09652430911111422m42508da9s80959c3eec773a0c%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Methods on targets">oyvind.harboe at zylin.com
       </A><BR>
    <I>Wed Nov 11 23:22:47 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012250.html">[Openocd-development] Methods on targets
</A></li>
        <LI>Next message: <A HREF="012255.html">[Openocd-development] Methods on targets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12253">[ date ]</a>
              <a href="thread.html#12253">[ thread ]</a>
              <a href="subject.html#12253">[ subject ]</a>
              <a href="author.html#12253">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Nov 11, 2009 at 11:00 PM, Zach Welch &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">zw at superlucidity.net</A>&gt; wrote:
&gt;<i> On Wed, 2009-11-11 at 21:49 +0100, &#216;yvind Harboe wrote:
</I>&gt;&gt;<i> Here is an idea:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> make mdw/mww family of commands a method on the
</I>&gt;&gt;<i> target.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> foo.cpu mdw =&gt; returns array
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> write a small mdw proc in Tcl that invokes the above method
</I>&gt;&gt;<i> on the currently active target.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Consider the mrc/mcr case. If we treat it in the same
</I>&gt;&gt;<i> way, then we're in &quot;c land&quot; when we're trying to figure
</I>&gt;&gt;<i> out if &#160;mcr/mrc is an operation that is legal on that
</I>&gt;&gt;<i> type of target...
</I>&gt;<i>
</I>&gt;<i> Please restate this in the form of a problem that needs solving.
</I>&gt;<i> You have stated a solution. &#160;What was the original problem?
</I>&gt;<i> Are there other possible solutions? &#160;How does this solve it better than
</I>&gt;<i> other alternatives?
</I>
In e.g. mrc/mcr we have an upcast happening, which can fail.
If it was a method on the target, then there would be a more
natural place to place the check for whether that method is supported.

Another byproduct/non-sequitor for mdw specifically is that the mdw command
is for humans(telnet ui) and the mdw method on the target would
be a tcl method that return an array. So I'm thinking that methods
on the target would be for tcl callers and the commands that
operate on the currently active target would be for the telnet
ui.

&gt;<i> The fact that you sometimes don't get a response could mean that nobody
</I>&gt;<i> understood what you were talking about. &#160;If you make such proposals by
</I>&gt;<i> posting a patch series, the conversation should be more productive. &#160;:)
</I>
I'm nowhere near a patch series yet. I'm also waiting for David to finish
up his first round of fixing the type problems.


-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012250.html">[Openocd-development] Methods on targets
</A></li>
	<LI>Next message: <A HREF="012255.html">[Openocd-development] Methods on targets
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12253">[ date ]</a>
              <a href="thread.html#12253">[ thread ]</a>
              <a href="subject.html#12253">[ subject ]</a>
              <a href="author.html#12253">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
