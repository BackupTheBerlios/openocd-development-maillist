<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] BUG: Double reset on STM32
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20BUG%3A%20Double%20reset%20on%20STM32&In-Reply-To=%3Cc09652430911092250l71360973t6a1ba3e2e0ccafd4%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012138.html">
   <LINK REL="Next"  HREF="012162.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] BUG: Double reset on STM32</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20BUG%3A%20Double%20reset%20on%20STM32&In-Reply-To=%3Cc09652430911092250l71360973t6a1ba3e2e0ccafd4%40mail.gmail.com%3E"
       TITLE="[Openocd-development] BUG: Double reset on STM32">oyvind.harboe at zylin.com
       </A><BR>
    <I>Tue Nov 10 07:50:14 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012138.html">[Openocd-development] BUG: Double reset on STM32
</A></li>
        <LI>Next message: <A HREF="012162.html">[Openocd-development] BUG: Double reset on STM32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12139">[ date ]</a>
              <a href="thread.html#12139">[ thread ]</a>
              <a href="subject.html#12139">[ subject ]</a>
              <a href="author.html#12139">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Nov 10, 2009 at 7:27 AM, Freddie Chopin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">freddie_chopin at op.pl</A>&gt; wrote:
&gt;<i> David Brownell pisze:
</I>&gt;&gt;<i> The stm32.cfg shouldn't specify a reset type at all, since
</I>&gt;&gt;<i> the right configuration depends on what the *board* wires up.
</I>&gt;&gt;<i> Send a patch in ... :)
</I>&gt;<i>
</I>&gt;<i> I think this policy should be changed... IMHO all /board and /target
</I>&gt;<i> should be merged and the problem would be gone.
</I>&gt;<i>
</I>&gt;<i> Another way is to use only the LAST command. When a target.cfg file
</I>&gt;<i> specifies some default reset, the board.cfg (which includes the
</I>&gt;<i> target.cfg) can override that and the problem is also gone.
</I>
You mean that &quot;reset_config&quot; should ignore any previous invocations
of &quot;reset_config&quot;, right?

I have to agree with you on this one and I've posted to that
effect in the past.

I just feel that the idea that reset_config(as it is today) could
somehow be used to let the target define half of the reset
config and the board config to do the rest is more trouble
than it's worth. Such communication could be handled in
tcl + it could then handle more cases than the narrow
reset_config case.

Is this feature used *at all* today?

It's such a marginal benefit(IMHO) and it precludes target files
being useful standalone. I think *preventing* target config files
from being used standalone is the wrong way to go. Sometimes
all that is needed is a generic target config and it's not necessary
to configure the specific flash or DRAM, etc. on the board.






-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012138.html">[Openocd-development] BUG: Double reset on STM32
</A></li>
	<LI>Next message: <A HREF="012162.html">[Openocd-development] BUG: Double reset on STM32
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12139">[ date ]</a>
              <a href="thread.html#12139">[ thread ]</a>
              <a href="subject.html#12139">[ subject ]</a>
              <a href="author.html#12139">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
