<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to Intel NOR Flash on AT91SAM9260
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20openocd-0.3.0-rc0%20bug%3A%20Fail%20to%20write%20to%0A%20Intel%20NOR%20Flash%20on%20AT91SAM9260&In-Reply-To=%3C9095C35E94C6DF41B6298E900A1987374E863E4403%40pscptsrvexc02.psitek.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="011906.html">
   <LINK REL="Next"  HREF="011909.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to Intel NOR Flash on AT91SAM9260</H1>
    <B>Pieter Conradie</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20openocd-0.3.0-rc0%20bug%3A%20Fail%20to%20write%20to%0A%20Intel%20NOR%20Flash%20on%20AT91SAM9260&In-Reply-To=%3C9095C35E94C6DF41B6298E900A1987374E863E4403%40pscptsrvexc02.psitek.local%3E"
       TITLE="[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to Intel NOR Flash on AT91SAM9260">Pieter.Conradie at psitek.com
       </A><BR>
    <I>Tue Nov  3 10:35:41 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="011906.html">[Openocd-development] [PATCH] omap3530: move assertion of	PRM_RSTCTRL from reset-assert-pre to reset-start
</A></li>
        <LI>Next message: <A HREF="011909.html">[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11907">[ date ]</a>
              <a href="thread.html#11907">[ thread ]</a>
              <a href="subject.html#11907">[ subject ]</a>
              <a href="author.html#11907">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi &#216;yvind,

Genius! The patch works :)

0.3.0-rc0 with patch was able to successfully program and verify a 512k image.

It is also able to succesfully program a 16 Mbyte image, but verify fails:

&gt;<i> verify_image image_16M.bin 0x10000000 bin
</I>timed out while waiting for target halted
error executing arm7_9 crc algorithm
target not halted
target not halted
Runtime error, file &quot;command.c&quot;, line 473:

&gt;<i> poll
</I>background polling: on
TAP: at91sam9260.cpu (enabled)
target state: debug-running

Maybe the arm7_9 crc algorithm is taking too long to calculate crc32 over 16 MByte and OpenOCD times out? The log file is attached.

Best regards,
Pieter

-----Original Message-----
From: &#216;yvind Harboe [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">oyvind.harboe at zylin.com</A>]
Sent: 03 November 2009 09:28 AM
To: Pieter Conradie
Subject: Re: [Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to Intel NOR Flash on AT91SAM9260

attached.


--
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer
Notice
This email is intended for the addressee only and may contain legally privileged and/or confidential information.  If you have received this email in error and are not the intended recipient, you are hereby informed that you are not entitled to read, broadcast, distribute or in any manner whatsoever use the contents of this email or any attachments thereto.  You are requested to please notify Psitek that you have received the email and then delete it.  Unless clearly stated otherwise, the content and sentiments expressed in this email or any attachments thereto are those of the sender and not of Psitek (Proprietary) Limited.  Psitek does not accept liability for any damages, loss or expense of any nature whatsoever arising (a) out of or in connection with the email or any attachments thereto and/or (b) from any act or omission by the recipient relying upon the content of the email or attachments.  Psitek further disclaims liability for any damages caused by computer and/or software viruses.  Should this email contain the terms of a contract, no binding agreement will result until such time as a written (hardcopy) document is signed on behalf of Psitek.
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: log_verify_flash16M_0.3.0-rc_with_patch.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20091103/73ca0714/attachment.txt">https://lists.berlios.de/pipermail/openocd-development/attachments/20091103/73ca0714/attachment.txt</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="011906.html">[Openocd-development] [PATCH] omap3530: move assertion of	PRM_RSTCTRL from reset-assert-pre to reset-start
</A></li>
	<LI>Next message: <A HREF="011909.html">[Openocd-development] openocd-0.3.0-rc0 bug: Fail to write to	Intel NOR Flash on AT91SAM9260
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#11907">[ date ]</a>
              <a href="thread.html#11907">[ thread ]</a>
              <a href="subject.html#11907">[ subject ]</a>
              <a href="author.html#11907">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
