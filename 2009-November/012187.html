<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] RFC: command handler restructuring
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20command%20handler%20restructuring&In-Reply-To=%3C1257947903.5610.3545.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012180.html">
   <LINK REL="Next"  HREF="012188.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] RFC: command handler restructuring</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20command%20handler%20restructuring&In-Reply-To=%3C1257947903.5610.3545.camel%40localhost%3E"
       TITLE="[Openocd-development] RFC: command handler restructuring">zw at superlucidity.net
       </A><BR>
    <I>Wed Nov 11 14:58:23 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012180.html">[Openocd-development] RFC: command handler restructuring
</A></li>
        <LI>Next message: <A HREF="012188.html">[Openocd-development] RFC: command handler restructuring
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12187">[ date ]</a>
              <a href="thread.html#12187">[ thread ]</a>
              <a href="subject.html#12187">[ subject ]</a>
              <a href="author.html#12187">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2009-11-11 at 08:40 +0100, &#216;yvind Harboe wrote:
&gt;<i> I've read over the branch and improving types is always a good thing,
</I>&gt;<i> even if I don't have a specific opinions on whether to use
</I>&gt;<i> unsigned or int for iteration variables, etc.
</I>
There is almost always a correct choice.  Most of the time, there is not
really any opinion about it.  There is correct and less-than-so.  I mean
really... this started with the annoyance of argc being 'int' rather
than 'unsigned'.  One can never have less than zero arguments, so....

IIRC, the fact that main() expects an 'int' reflects C's long legacy.
There were too many out-of-tree users to worry about breaking things by
the time unsigned came about, and so it was and shall ever be....
We can right such wrongs before we reach 1.0 and avoid suffering similar
regrets in our future.

&gt;<i> I don't like macros, but I see what you're trying to do here w.r.t. the
</I>&gt;<i> arguments for the command handler, so it seems like a reasonable
</I>&gt;<i> approach.
</I>
Variadic macros (a part of C99) make it much better than it would have
been in the old days.  It is possible that my use of GCC's support for
this feature goes beyond the standard, but I hope this does not turn out
to be a problem.

I'm not keen on hiding things with them.  At the same time, it made the
patches for changing the code paths _much_ cleaner.  Thanks to the work
already done, I have finished the list of tasks that I listed in my
original post, and I have pushed the &quot;final&quot; series to my mirror.

&gt;<i> What about Jim commands. Are you happy with them since you didn't
</I>&gt;<i> touch them?
</I>
One thing at a time.  Jim is... daunting from a cleaning perspective.
At any rate, that suggests completely separate series of patches, but I
have considered developing an unrelated package using Jim.  Since its
development pretty much happens here now, I might use cleanup as an
excuse to start that project -- a &quot;test suite&quot; of sorts.

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012180.html">[Openocd-development] RFC: command handler restructuring
</A></li>
	<LI>Next message: <A HREF="012188.html">[Openocd-development] RFC: command handler restructuring
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12187">[ date ]</a>
              <a href="thread.html#12187">[ thread ]</a>
              <a href="subject.html#12187">[ subject ]</a>
              <a href="author.html#12187">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
