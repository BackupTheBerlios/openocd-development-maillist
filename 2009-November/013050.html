<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [RFC] massive command restructuring!!!
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BRFC%5D%20massive%20command%20restructuring%21%21%21&In-Reply-To=%3C200911291242.00598.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="013048.html">
   <LINK REL="Next"  HREF="013043.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [RFC] massive command restructuring!!!</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BRFC%5D%20massive%20command%20restructuring%21%21%21&In-Reply-To=%3C200911291242.00598.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] [RFC] massive command restructuring!!!">david-b at pacbell.net
       </A><BR>
    <I>Sun Nov 29 21:42:00 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="013048.html">[Openocd-development] [RFC] massive command restructuring!!!
</A></li>
        <LI>Next message: <A HREF="013043.html">[Openocd-development] [RFC] massive command restructuring!!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13050">[ date ]</a>
              <a href="thread.html#13050">[ thread ]</a>
              <a href="subject.html#13050">[ subject ]</a>
              <a href="author.html#13050">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sunday 29 November 2009, Michael Schwingen wrote:
&gt;<i> David Brownell wrote:
</I>&gt;<i> &gt; With NAND it's easy to see why they won't use CPU addresses.  :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; In general, using { bank, sector } addressing gives finer control
</I>&gt;<i> &gt; over the actual chip resources, and is less error prone, even for
</I>&gt;<i> &gt; NOR flash.  You kind of want to avoid accidentally erasing (or
</I>&gt;<i> &gt; even protecting) the wrong data.
</I>&gt;<i>
</I>&gt;<i> However, it is not very useful if I need to write an image that spans
</I>&gt;<i> multiple banks - I have boards where the addressable flash is made up
</I>&gt;<i> out of multiple physical flash chips, each on its own chipselect, at
</I>&gt;<i> adjacent addresses - and these may be different flashes, eg. one CFI and
</I>&gt;<i> one non-CFI one, so that makes multiple banks in the OpenOCD configuration.
</I>
And different versions of a board may populate different NOR chips.
For example, is that 18 MByte image going into two different 16 MB
chips?  Or is this board populated with two 32 MB chips?  Sometimes
it won't matter...


&gt;<i> However, neither my bootloader not my kernel really care - they only see
</I>&gt;<i> one big flash area, and when writing an image using OpenOCD, I need to
</I>&gt;<i> do the same.
</I>
Well, &quot;want&quot; to not care.  Likewise some folk &quot;want&quot; to use commands
which emphasize those specifics.  I was just answering the question of
why folk like the { bank, sector } style addressing ... not saying that
the { address, offset } is bad.  (Although it *is* only relevant for
NOR flash, not NAND; while the NAND market is growing faster...)


&gt;<i> Furthermore, I want to write *one* config file for such a type of board.
</I>&gt;<i> I don't really care about what sector numbers in the flash are used -
</I>&gt;<i> the addresses are constant, the sector numbers change depending on the
</I>&gt;<i> particular flash that is stuffed on a board.
</I>
Sure.  I have no problem with that model.  I was just explaining why
that model doesn't suit everyone ... including the basic fact of not
even being relevant for NAND.

(Don't know about OneNAND ... it's a bit more NOR-ish than normal NAND.)

- Dave

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="013048.html">[Openocd-development] [RFC] massive command restructuring!!!
</A></li>
	<LI>Next message: <A HREF="013043.html">[Openocd-development] [RFC] massive command restructuring!!!
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#13050">[ date ]</a>
              <a href="thread.html#13050">[ thread ]</a>
              <a href="subject.html#13050">[ subject ]</a>
              <a href="author.html#13050">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
