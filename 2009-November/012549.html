<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 1/6] add COMMAND_PARSE_BOOL macro and friends
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/6%5D%20add%20COMMAND_PARSE_BOOL%20macro%0A%20and%20friends&In-Reply-To=%3C1258581611.5344.15127.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="012541.html">
   <LINK REL="Next"  HREF="012529.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 1/6] add COMMAND_PARSE_BOOL macro and friends</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/6%5D%20add%20COMMAND_PARSE_BOOL%20macro%0A%20and%20friends&In-Reply-To=%3C1258581611.5344.15127.camel%40localhost%3E"
       TITLE="[Openocd-development] [PATCH 1/6] add COMMAND_PARSE_BOOL macro and friends">zw at superlucidity.net
       </A><BR>
    <I>Wed Nov 18 23:00:11 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="012541.html">[Openocd-development] [PATCH 1/6] add COMMAND_PARSE_BOOL macro and friends
</A></li>
        <LI>Next message: <A HREF="012529.html">[Openocd-development] [PATCH 2/6] use COMMAND_PARSE_ON_OFF where	appropriate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12549">[ date ]</a>
              <a href="thread.html#12549">[ thread ]</a>
              <a href="subject.html#12549">[ subject ]</a>
              <a href="author.html#12549">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2009-11-18 at 11:30 -0800, Zach Welch wrote:
&gt;<i> On Wed, 2009-11-18 at 11:07 -0700, David Brownell wrote:
</I>&gt;<i> &gt; It gets annoying to need to recall which variant of
</I>&gt;<i> &gt; true/false a given routine needs.  :)
</I>&gt;<i> 
</I>&gt;<i> It's part of a generally good rule too: be forgiving with what you
</I>&gt;<i> accept for input, and strict with what you emit for output.
</I>
In following this rule, I added another patch to accept any valid input,
while continuing to display the particular pair of choices that were
provided by the &quot;variant&quot; macros.  It's all of five lines changed. :)

While the variants may be annoying, they serve to benefit the user while
remaining easy for developers to use; I am not sure how to make things
any easier.  The key point here is that they display the command error
output to the user, eliminating redundant code in its various callers.
We should be strict about what we emit to the user here, even though we
will accept anything.  Our emissions include error messages.

Usually, there will be one particular pair (on/off, enable/disable) that
will be most appropriate when considering specific use cases, and any
error output will provide the suggested terms to use in your scripts.
Also, this avoids the need to update each command's documentation, as
the output remains consistent (and resonates) with it.  

Does that sell them? :)

--Z

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="012541.html">[Openocd-development] [PATCH 1/6] add COMMAND_PARSE_BOOL macro and friends
</A></li>
	<LI>Next message: <A HREF="012529.html">[Openocd-development] [PATCH 2/6] use COMMAND_PARSE_ON_OFF where	appropriate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#12549">[ date ]</a>
              <a href="thread.html#12549">[ thread ]</a>
              <a href="subject.html#12549">[ subject ]</a>
              <a href="author.html#12549">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
