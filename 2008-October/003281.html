<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] PLL frequency and &quot;Timeout waiting forACK...&quot; issue
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20PLL%20frequency%20and%20%22Timeout%20waiting%0A%20forACK...%22%20issue&In-Reply-To=%3CPine.LNX.4.64.0810071037320.12463%40rab.ict.pwr.wroc.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003252.html">
   <LINK REL="Next"  HREF="003233.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] PLL frequency and &quot;Timeout waiting forACK...&quot; issue</H1>
    <B>Mariusz Janiak</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20PLL%20frequency%20and%20%22Timeout%20waiting%0A%20forACK...%22%20issue&In-Reply-To=%3CPine.LNX.4.64.0810071037320.12463%40rab.ict.pwr.wroc.pl%3E"
       TITLE="[Openocd-development] PLL frequency and &quot;Timeout waiting forACK...&quot; issue">mjaniak at rab.ict.pwr.wroc.pl
       </A><BR>
    <I>Tue Oct  7 11:00:31 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003252.html">[Openocd-development] PLL frequency and &quot;Timeout waiting	forACK...&quot; issue
</A></li>
        <LI>Next message: <A HREF="003233.html">[Openocd-development] Incorrect chain detection for SoC...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3281">[ date ]</a>
              <a href="thread.html#3281">[ thread ]</a>
              <a href="subject.html#3281">[ subject ]</a>
              <a href="author.html#3281">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 6 Oct 2008, Magnus Lundin wrote:

&gt;<i> Hi
</I>&gt;<i>
</I>&gt;<i> I am just guessing here but it can an issue with the timing of the AHB
</I>&gt;<i> bus and running from flash at 50MHz.
</I>&gt;<i> The  SWLDP overrun is received through the JTAG interface, so it seems
</I>&gt;<i> JTAG is working.
</I>&gt;<i> SWDLP overruns are not JTAG problems, they are when the debug unit on th
</I>&gt;<i> CM3 receives
</I>&gt;<i> debug commands faster than it can process them.
</I>&gt;<i>
</I>&gt;<i> The overrun errors typically occurs when OpenOCD tries to access memory
</I>&gt;<i> mapped debug registers while the processor
</I>&gt;<i> is running. Then the running processor and the debug unit are contending
</I>&gt;<i> for the AHB bus.
</I>&gt;<i>
</I>&gt;<i> As I can understand things, when the processor is halted then OpenOcd
</I>&gt;<i> can write to flash memory.
</I>&gt;<i> Can the processor be single stepped ?
</I>
In case I have described, answer to this question is no.

&gt;<i> Can you put a breakpoint after the pll setting code and run to the
</I>&gt;<i> breakpoint and then talk to the processor with OpenOCD ?
</I>
Similarly, no.

OpenOCD is not able to reset uC. What I do in this case is pushing a board 
reset button, then connect to the openocd server via 
telnet, and give the following commands: init and halt. After that it is 
posible to load and debug program or erase flash.
Next time, when OpenOCD try force reset and init uC, whole problem start 
agian.

Maybe there is a better way to solve this problem?

Why when I debug a program in RAM (in flash I have the program that work 
with slow clock) and that program set the PLL frequency to 50MHz, the openocd 
work fine?

-- 
Mariusz

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003252.html">[Openocd-development] PLL frequency and &quot;Timeout waiting	forACK...&quot; issue
</A></li>
	<LI>Next message: <A HREF="003233.html">[Openocd-development] Incorrect chain detection for SoC...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3281">[ date ]</a>
              <a href="thread.html#3281">[ thread ]</a>
              <a href="subject.html#3281">[ subject ]</a>
              <a href="author.html#3281">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
