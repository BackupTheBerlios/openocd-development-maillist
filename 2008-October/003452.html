<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] JLINK doesn't work on iMX27ADS
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20JLINK%20doesn%27t%20work%20on%20iMX27ADS&In-Reply-To=%3C37367b3a0810210747n295f211udd3c12253e5f889b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003450.html">
   <LINK REL="Next"  HREF="003451.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] JLINK doesn't work on iMX27ADS</H1>
    <B>Alan Carvalho de Assis</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20JLINK%20doesn%27t%20work%20on%20iMX27ADS&In-Reply-To=%3C37367b3a0810210747n295f211udd3c12253e5f889b%40mail.gmail.com%3E"
       TITLE="[Openocd-development] JLINK doesn't work on iMX27ADS">acassis at gmail.com
       </A><BR>
    <I>Tue Oct 21 16:47:01 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003450.html">[Openocd-development] JLINK doesn't work on iMX27ADS
</A></li>
        <LI>Next message: <A HREF="003451.html">[Openocd-development] about:arm7_9_step(SVN 1083)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3452">[ date ]</a>
              <a href="thread.html#3452">[ thread ]</a>
              <a href="subject.html#3452">[ subject ]</a>
              <a href="author.html#3452">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Peter,

On Tue, Oct 21, 2008 at 10:59 AM, Peter 'p2' De Schrijver &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">p2 at debian.org</A>&gt; wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I had a similar issue with the jlink embedded in the IAR LPC-P2378-SK board.
</I>&gt;<i> Not all jlink's use the same USB endpoints. The openocd jlink code hardcodes
</I>&gt;<i> the USB endpoint though, so it fails with some.
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openocd-development/2008-October/003390.html">https://lists.berlios.de/pipermail/openocd-development/2008-October/003390.html</A>
</I>&gt;<i> has a patch which worked for me. Hopefully this works for you as well.
</I>&gt;<i>
</I>
Unhappily it didn't work here.

When I execute &quot;reset run&quot; the command run fine, but when I execute
&quot;reset halt&quot; I receive many error messages until get a Segmentation
Fault, please see it below.

Other strange thing is because on i.MX31 I get OpenOCD and JLink working better.

Some other idea to solve this problem?


&gt;<i> Cheers,
</I>&gt;<i>
</I>&gt;<i> Peter.
</I>&gt;<i>
</I>
Best Regards,

Alan


Open On-Chip Debugger 1.0 (2008-10-21-11:30) svn:1083M


BUGS? Read <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS">http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS</A>


$URL: <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/src/openocd.c">http://svn.berlios.de/svnroot/repos/openocd/trunk/src/openocd.c</A> $
jtag_khz: 0
Info:   J-Link ARM V6 compiled Jul 30 2008 11:24:59
Info:   Vref = 2.692 TCK = 1 TDI = 0 TDO = 1 TMS = 0 SRST = 1 TRST = 1

Info:   J-Link JTAG Interface ready
Info:   JTAG device found: 0x1b900f0f (Manufacturer: 0x787, Part:
0xb900, Version: 0x1)
Info:   JTAG device found: 0x07926121 (Manufacturer: 0x090, Part:
0x7926, Version: 0x0)
Warning:no tcl port specified, using default port 6666
Info:   accepting 'telnet' connection from 0
Info:   JTAG device found: 0x1b900f0f (Manufacturer: 0x787, Part:
0xb900, Version: 0x1)
Info:   JTAG device found: 0x07926121 (Manufacturer: 0x090, Part:
0x7926, Version: 0x0)
Error:  Target not halted
r0 (/32): 0x00000000
Error:  usb_bulk_read failed (requested=323, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 323
Runtime error, file &quot;command.c&quot;, line 436:

Error:  usb_bulk_write failed (requested=694, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 345
Error:  usb_bulk_write failed (requested=722, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 359
Error:  usb_bulk_write failed (requested=750, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 373
Error:  usb_bulk_write failed (requested=778, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 387
Error:  usb_bulk_write failed (requested=806, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 401
Error:  usb_bulk_write failed (requested=834, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 415
Error:  usb_bulk_write failed (requested=862, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 429
Error:  usb_bulk_write failed (requested=890, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 443
Error:  usb_bulk_write failed (requested=918, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 457
Error:  usb_bulk_write failed (requested=946, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 471
Error:  usb_bulk_write failed (requested=974, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 485
Error:  usb_bulk_write failed (requested=1002, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 499
Error:  usb_bulk_write failed (requested=1030, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 513
Error:  usb_bulk_write failed (requested=1058, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 527
Error:  usb_bulk_write failed (requested=1086, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 541
Error:  usb_bulk_write failed (requested=1114, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 555
Error:  usb_bulk_write failed (requested=1142, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 569
Error:  usb_bulk_write failed (requested=1170, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 583
Error:  usb_bulk_write failed (requested=1198, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 597
Error:  usb_bulk_write failed (requested=1226, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 611
Error:  usb_bulk_write failed (requested=1254, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 625
Error:  usb_bulk_write failed (requested=1282, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 639
Error:  usb_bulk_write failed (requested=1310, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 653
Error:  usb_bulk_write failed (requested=1338, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 667
Error:  usb_bulk_write failed (requested=1366, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 681
Error:  usb_bulk_write failed (requested=1394, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 695
Error:  usb_bulk_write failed (requested=1422, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 709
Error:  usb_bulk_write failed (requested=1450, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 723
Error:  usb_bulk_write failed (requested=1478, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 737
Error:  usb_bulk_write failed (requested=1506, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 751
Error:  usb_bulk_write failed (requested=1534, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 765
Error:  usb_bulk_write failed (requested=1562, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 779
Error:  usb_bulk_write failed (requested=1590, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 793
Error:  usb_bulk_write failed (requested=1618, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 807
Error:  usb_bulk_write failed (requested=1646, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 821
Error:  usb_bulk_write failed (requested=1674, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 835
Error:  usb_bulk_write failed (requested=1702, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 849
Error:  usb_bulk_write failed (requested=1730, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 863
Error:  usb_bulk_write failed (requested=1758, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 877
Error:  usb_bulk_write failed (requested=1786, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 891
Error:  usb_bulk_write failed (requested=1814, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 905
Error:  usb_bulk_write failed (requested=1842, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 919
Error:  usb_bulk_write failed (requested=1870, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 933
Error:  usb_bulk_write failed (requested=1898, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 947
Error:  usb_bulk_write failed (requested=1926, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 961
Error:  usb_bulk_write failed (requested=1954, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 975
Error:  usb_bulk_write failed (requested=1982, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 989
Error:  usb_bulk_write failed (requested=2010, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1003
Error:  usb_bulk_write failed (requested=2038, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1017
Error:  usb_bulk_write failed (requested=2066, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1031
Error:  usb_bulk_write failed (requested=2094, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1045
Error:  usb_bulk_write failed (requested=2122, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1059
Error:  usb_bulk_write failed (requested=2150, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1073
Error:  usb_bulk_write failed (requested=2178, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1087
Error:  usb_bulk_write failed (requested=2206, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1101
Error:  usb_bulk_write failed (requested=2234, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1115
Error:  usb_bulk_write failed (requested=2262, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1129
Error:  usb_bulk_write failed (requested=2290, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1143
Error:  usb_bulk_write failed (requested=2318, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1157
Error:  usb_bulk_write failed (requested=2346, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1171
Error:  usb_bulk_write failed (requested=2374, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1185
Error:  usb_bulk_write failed (requested=2402, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1199
Error:  usb_bulk_write failed (requested=2430, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1213
Error:  usb_bulk_write failed (requested=2458, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1227
Error:  usb_bulk_write failed (requested=2486, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1241
Error:  usb_bulk_write failed (requested=2514, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1255
Error:  usb_bulk_write failed (requested=2542, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1269
Error:  usb_bulk_write failed (requested=2570, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1283
Error:  usb_bulk_write failed (requested=2598, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1297
Error:  usb_bulk_write failed (requested=2626, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1311
Error:  usb_bulk_write failed (requested=2654, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1325
Error:  usb_bulk_write failed (requested=2682, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1339
Error:  usb_bulk_write failed (requested=2710, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1353
Error:  usb_bulk_write failed (requested=2738, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1367
Error:  usb_bulk_write failed (requested=2766, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1381
Error:  usb_bulk_write failed (requested=2794, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1395
Error:  usb_bulk_write failed (requested=2822, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1409
Error:  usb_bulk_write failed (requested=2850, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1423
Error:  usb_bulk_write failed (requested=2878, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1437
Error:  usb_bulk_write failed (requested=2906, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1451
Error:  usb_bulk_write failed (requested=2934, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1465
Error:  usb_bulk_write failed (requested=2962, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1479
Error:  usb_bulk_write failed (requested=2990, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1493
Error:  usb_bulk_write failed (requested=3018, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1507
Error:  usb_bulk_write failed (requested=3046, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1521
Error:  usb_bulk_write failed (requested=3074, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1535
Error:  usb_bulk_write failed (requested=3102, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1549
Error:  usb_bulk_write failed (requested=3130, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1563
Error:  usb_bulk_write failed (requested=3158, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1577
Error:  usb_bulk_write failed (requested=3186, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1591
Error:  usb_bulk_write failed (requested=3214, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1605
Error:  usb_bulk_write failed (requested=3242, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1619
Error:  usb_bulk_write failed (requested=3270, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1633
Error:  usb_bulk_write failed (requested=3298, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1647
Error:  usb_bulk_write failed (requested=3326, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1661
Error:  usb_bulk_write failed (requested=3354, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1675
Error:  usb_bulk_write failed (requested=3382, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1689
Error:  usb_bulk_write failed (requested=3410, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1703
Error:  usb_bulk_write failed (requested=3438, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1717
Error:  usb_bulk_write failed (requested=3466, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1731
Error:  usb_bulk_write failed (requested=3494, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1745
Error:  usb_bulk_write failed (requested=3522, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1759
Error:  usb_bulk_write failed (requested=3550, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1773
Error:  usb_bulk_write failed (requested=3578, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1787
Error:  usb_bulk_write failed (requested=3606, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1801
Error:  usb_bulk_write failed (requested=3634, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1815
Error:  usb_bulk_write failed (requested=3662, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1829
Error:  usb_bulk_write failed (requested=3690, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1843
Error:  usb_bulk_write failed (requested=3718, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1857
Error:  usb_bulk_write failed (requested=3746, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1871
Error:  usb_bulk_write failed (requested=3774, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1885
Error:  usb_bulk_write failed (requested=3774, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1885
Error:  usb_bulk_write failed (requested=3788, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1892
Error:  usb_bulk_write failed (requested=3802, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1899
Error:  usb_bulk_write failed (requested=3802, result=-110)
Error:  jlink_tap_execute, wrong result -1, expected 1899
Segmentation fault
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">root at b19078</A>:/home/alan/iMX/iMX27/JTAG/ledtest#

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003450.html">[Openocd-development] JLINK doesn't work on iMX27ADS
</A></li>
	<LI>Next message: <A HREF="003451.html">[Openocd-development] about:arm7_9_step(SVN 1083)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3452">[ date ]</a>
              <a href="thread.html#3452">[ thread ]</a>
              <a href="subject.html#3452">[ subject ]</a>
              <a href="author.html#3452">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
