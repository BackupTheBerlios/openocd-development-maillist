<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] changed commands
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20changed%20commands&In-Reply-To=%3C8223CAEB-120A-43B9-A991-D56938604CE5%40kc8apf.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003550.html">
   <LINK REL="Next"  HREF="003552.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] changed commands</H1>
    <B>Rick Altherr</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20changed%20commands&In-Reply-To=%3C8223CAEB-120A-43B9-A991-D56938604CE5%40kc8apf.net%3E"
       TITLE="[Openocd-development] changed commands">kc8apf at kc8apf.net
       </A><BR>
    <I>Fri Oct 31 19:48:49 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003550.html">[Openocd-development] changed commands
</A></li>
        <LI>Next message: <A HREF="003552.html">[Openocd-development] changed commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3551">[ date ]</a>
              <a href="thread.html#3551">[ thread ]</a>
              <a href="subject.html#3551">[ subject ]</a>
              <a href="author.html#3551">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Oct 31, 2008, at 11:41 AM, Steve Franks wrote:

&gt;<i> On Fri, Oct 31, 2008 at 11:26 AM, Rick Altherr &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>&gt;  
</I>&gt;<i> wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Oct 31, 2008, at 11:13 AM, Steve Franks wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I've jut upgraded openocd, in hopes of finally pulling off a working
</I>&gt;&gt;&gt;<i> setup.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Some of the commands have dissappeared, notably,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> #run_and_halt_time 0 30
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> #soft_reset_halt
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> #poll
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Do I need these?  Does anyone have a current file for programming an
</I>&gt;&gt;&gt;<i> .elf into a lpc2138 with no reset lines connected?  That's pretty  
</I>&gt;&gt;&gt;<i> much
</I>&gt;&gt;&gt;<i> my setup.  All my examples, and the ones in svn are either horribly
</I>&gt;&gt;&gt;<i> out of date, or expect a reset pin, and the docs all appear to be  
</I>&gt;&gt;&gt;<i> from
</I>&gt;&gt;&gt;<i> 2006.  I know we've been doing alot of changes lately, and I'd  
</I>&gt;&gt;&gt;<i> like to
</I>&gt;&gt;&gt;<i> be back in sync.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Thanks,
</I>&gt;&gt;&gt;<i> Steve
</I>&gt;&gt;&gt;<i> _______________________________________________
</I>&gt;&gt;&gt;<i> Openocd-development mailing list
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The top-of-tree SVN config files are definitely up to date since I  
</I>&gt;&gt;<i> just
</I>&gt;&gt;<i> updated them all to the newest syntax this week.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As for the deprecated/obsolete commands, run_and_halt_time is now:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> reset run
</I>&gt;&gt;<i> sleep 100
</I>&gt;&gt;<i> halt
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> poll and soft_reset_halt still exist.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If you have no reset lines connected, you probably want to use  
</I>&gt;&gt;<i> 'reset_config
</I>&gt;&gt;<i> none' as well.
</I>&gt;<i>
</I>&gt;<i> Is there a way to disable or otherwise kill some commands, then,
</I>&gt;<i> because I'm getting this:
</I>&gt;<i>
</I>&gt;<i> Best,
</I>&gt;<i> Steve
</I>&gt;<i>
</I>&gt;<i> User:    53 1 command.c:607 openocd_jim_vfprintf(): Runtime error,
</I>&gt;<i> file &quot;?&quot;, line 1:
</I>&gt;<i> User:    54 1 command.c:607 openocd_jim_vfprintf():     Unknown
</I>&gt;<i> command: reset_run
</I>&gt;<i> User:    55 1 command.c:607 openocd_jim_vfprintf(): In procedure
</I>&gt;<i> 'script' called at file &quot;command.c&quot;, line 436
</I>&gt;<i> User:    56 1 command.c:607 openocd_jim_vfprintf(): In procedure
</I>&gt;<i> 'reset' called at file
</I>&gt;<i> &quot;/home/steve/projects/include/arm/lpc2xxx_armusbocd.cfg&quot;, line 23
</I>&gt;<i> User:    57 1 command.c:607 openocd_jim_vfprintf(): In procedure
</I>&gt;<i> 'unknown' called at file &quot;?&quot;, line 1
</I>&gt;<i> gmake: *** [program] Error 1
</I>&gt;<i>
</I>&gt;<i> User:    58 102 command.c:607 openocd_jim_vfprintf():     Unknown  
</I>&gt;<i> command: halt
</I>&gt;<i> User:    59 102 command.c:607 openocd_jim_vfprintf(): In procedure
</I>&gt;<i> 'script' called at file &quot;command.c&quot;, line 436
</I>&gt;<i> gmake: *** [program] Error 1
</I>&gt;<i>
</I>&gt;<i> User:    78 102 command.c:607 openocd_jim_vfprintf():     Unknown
</I>&gt;<i> command: soft_reset_halt
</I>&gt;<i> User:    79 102 command.c:607 openocd_jim_vfprintf(): In procedure
</I>&gt;<i> 'script' called at file &quot;command.c&quot;, line 436
</I>&gt;<i> gmake: *** [program] Error 1
</I>&gt;<i>
</I>&gt;<i> User:    78 101 command.c:607 openocd_jim_vfprintf():     Unknown  
</I>&gt;<i> command: poll
</I>&gt;<i> User:    79 101 command.c:607 openocd_jim_vfprintf(): In procedure
</I>&gt;<i> 'script' called at file &quot;command.c&quot;, line 436
</I>&gt;<i> gmake: *** [program] Error 1
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Openocd-development mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
</I>

It would help to know what revision of the SVN repository you checked  
out.  Either way, the first error is that you tried to call  
&quot;reset_run&quot; which isn't a valid command.  You want &quot;reset run&quot;.  Since  
that seems to be originating from lpc2xxx_armusbocd.cfg, your target  
config isn't getting set completely.  I don't know enough about how  
the commands are registered, but it could be possible that since your  
target config didn't run completely the target didn't get set which  
causes 'halt' to be not defined.  That last part is just a guess at  
this point.

First things first, fix the &quot;reset_run&quot; -&gt; &quot;reset run&quot; and try it again.
--
Rick Altherr
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>

&quot;He said he hadn't had a byte in three days. I had a short, so I split  
it with him.&quot;
  -- Slashdot signature


-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2446 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20081031/e1c7375d/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20081031/e1c7375d/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003550.html">[Openocd-development] changed commands
</A></li>
	<LI>Next message: <A HREF="003552.html">[Openocd-development] changed commands
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3551">[ date ]</a>
              <a href="thread.html#3551">[ thread ]</a>
              <a href="subject.html#3551">[ subject ]</a>
              <a href="author.html#3551">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
