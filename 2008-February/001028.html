<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Problem with a PXA270
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Problem%20with%20a%20PXA270&In-Reply-To=%3C200802231359.41238.Dominic.Rath%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001027.html">
   <LINK REL="Next"  HREF="001044.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Problem with a PXA270</H1>
    <B>Dominic Rath</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Problem%20with%20a%20PXA270&In-Reply-To=%3C200802231359.41238.Dominic.Rath%40gmx.de%3E"
       TITLE="[Openocd-development] Problem with a PXA270">Dominic.Rath at gmx.de
       </A><BR>
    <I>Sat Feb 23 13:59:40 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001027.html">[Openocd-development] Problem with a PXA270
</A></li>
        <LI>Next message: <A HREF="001044.html">[Openocd-development] Problem with a PXA270
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1028">[ date ]</a>
              <a href="thread.html#1028">[ thread ]</a>
              <a href="subject.html#1028">[ subject ]</a>
              <a href="author.html#1028">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Martin,

PXA270 support was never fully tested. I made some quick changes last summer 
when I had access to a board for some time, but I was never completely sure 
why the changes were necessary.

Increased timeouts were among the necessary changes. SVN checkin 304 changed a 
delay from 3s to 300ms, because that's what the comment in the code said it 
should be, but IIRC this increased delay was necessary for PXA270 to work.

You could try changing the jtag_add_sleep() value at xscale.c:1622 to 
3000*1000 instead of 300*1000.

Best regards,

Dominic

On Saturday 23 February 2008 12:49:31 Aebersold Martin wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> First of all, thanks all for the great piece of open source software.
</I>&gt;<i>
</I>&gt;<i> For our students we developed an education board called Cool ARM
</I>&gt;<i> Education-Kit CARME (carme.bfh.ch) with a PXA270 processor.
</I>&gt;<i>
</I>&gt;<i> Since svn revsion 304 openocd fails to work with our PXA270 board.
</I>&gt;<i> Last working svn revision was 303.
</I>&gt;<i>
</I>&gt;<i> Here the message I receive when trying to connect to the Target:
</I>&gt;<i>
</I>&gt;<i> Open On-Chip Debugger 1.0 (2008-02-23-12:07) svn:321
</I>&gt;<i> $URL: <A HREF="svn://svn.berlios.de/openocd/trunk/src/openocd.c">svn://svn.berlios.de/openocd/trunk/src/openocd.c</A> $
</I>&gt;<i> Info:    configuration.c:56 configuration_output_handler(): opened
</I>&gt;<i> pxa270.cfg
</I>&gt;<i> Info:    jtag.c:1230 jtag_examine_chain(): JTAG device found: 0x79265013
</I>&gt;<i> (Manufacturer: 0x009, Part: 0x9265, Version: 0x7)
</I>&gt;<i> Warning: jtag.c:1060 jtag_check_value(): value captured during scan
</I>&gt;<i> didn't pass the requested check: captured: 0x00 check_value: 0x02
</I>&gt;<i> check_mask: 0x07
</I>&gt;<i> Warning: jtag.c:1020 jtag_read_buffer(): in_handler reported a failed
</I>&gt;<i> check
</I>&gt;<i> Error:   xscale.c:771 xscale_write_dcsr(): JTAG error while writing DCSR
</I>&gt;<i> Segmentation fault (core dumped)
</I>&gt;<i>
</I>&gt;<i> A more detailed log file is attached.
</I>&gt;<i>
</I>&gt;<i> Thanks for any hints,
</I>&gt;<i> Martin
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001027.html">[Openocd-development] Problem with a PXA270
</A></li>
	<LI>Next message: <A HREF="001044.html">[Openocd-development] Problem with a PXA270
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1028">[ date ]</a>
              <a href="thread.html#1028">[ thread ]</a>
              <a href="subject.html#1028">[ subject ]</a>
              <a href="author.html#1028">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
