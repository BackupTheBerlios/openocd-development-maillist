<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] path open: fallback to try the filename	if nothing found on path
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20path%20open%3A%20fallback%20to%20try%20the%20filename%0A%09if%20nothing%20found%20on%20path&In-Reply-To=%3Cf46da1cf0802191631l105735b7rd41e4dc9e6733712%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000973.html">
   <LINK REL="Next"  HREF="000983.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] path open: fallback to try the filename	if nothing found on path</H1>
    <B>Theodore A. Roth</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20path%20open%3A%20fallback%20to%20try%20the%20filename%0A%09if%20nothing%20found%20on%20path&In-Reply-To=%3Cf46da1cf0802191631l105735b7rd41e4dc9e6733712%40mail.gmail.com%3E"
       TITLE="[Openocd-development] path open: fallback to try the filename	if nothing found on path">taroth at gmail.com
       </A><BR>
    <I>Wed Feb 20 01:31:52 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000973.html">[Openocd-development] path open: fallback to try the filename if	nothing found on path
</A></li>
        <LI>Next message: <A HREF="000983.html">[Openocd-development] [COMMIT] path open: fallback to try the	filenameif nothing found on path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#974">[ date ]</a>
              <a href="thread.html#974">[ thread ]</a>
              <a href="subject.html#974">[ subject ]</a>
              <a href="author.html#974">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Feb 19, 2008 3:41 PM, Ben Dooks &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">ben-openocd at fluff.org</A>&gt; wrote:
&gt;<i> With the new open from path, you can no longer specify
</I>&gt;<i> a file as /full/path/to/file. Fix this by trying an
</I>&gt;<i> fopen() with the user-supplied filename if nothing else
</I>&gt;<i> works.
</I>
Ben,

Your fix causes the command_print command to report the wrong path to
the opened file. The attached patch will do the right thing for
absolute and relative paths while still reporting the correct path to
the opened file.

I think if the user gives an absolute or relative path, those should
be tried before going to the search path(s).

Ted
-------------- next part --------------
A non-text attachment was scrubbed...
Name: openocd-abs-rel-path-fix.diff
Type: text/x-patch
Size: 708 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20080219/9c49a0ca/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20080219/9c49a0ca/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000973.html">[Openocd-development] path open: fallback to try the filename if	nothing found on path
</A></li>
	<LI>Next message: <A HREF="000983.html">[Openocd-development] [COMMIT] path open: fallback to try the	filenameif nothing found on path
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#974">[ date ]</a>
              <a href="thread.html#974">[ thread ]</a>
              <a href="subject.html#974">[ subject ]</a>
              <a href="author.html#974">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
