<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Can't write flash in svn v 341
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Can%27t%20write%20flash%20in%20svn%20v%20341&In-Reply-To=%3C200802271054.29924.oao%40oao.no%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001156.html">
   <LINK REL="Next"  HREF="001159.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Can't write flash in svn v 341</H1>
    <B>Odd Arild Olsen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Can%27t%20write%20flash%20in%20svn%20v%20341&In-Reply-To=%3C200802271054.29924.oao%40oao.no%3E"
       TITLE="[Openocd-development] Can't write flash in svn v 341">oao at oao.no
       </A><BR>
    <I>Wed Feb 27 10:54:29 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001156.html">[Openocd-development] Bug in ft2232.c
</A></li>
        <LI>Next message: <A HREF="001159.html">[Openocd-development] Can't write flash in svn v 341
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1158">[ date ]</a>
              <a href="thread.html#1158">[ thread ]</a>
              <a href="subject.html#1158">[ subject ]</a>
              <a href="author.html#1158">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I have used openocd and Amontec programmer for a project since july 2007. The 
version I compiled then works fine.
I installed version 341 the other day. This version is unable to write the 
flash, although it accesses the cpu, leds blinking and all. Has something 
changed with the script format or something?

-----------------
Info:    options.c:54 configuration_output_handler(): Command write_binary not 
found


------------------
wait_halt			# halt the processor and wait
armv4_5 core_state arm		# select the core state
mww 0xffffff60 0x00320100	# set flash wait state (AT91C_MC_FMR)
mww 0xfffffd44 0xa0008000	# watchdog disable (AT91C_WDTC_WDMR)
mww 0xfffffc20 0xa0000601	# enable main oscillator (AT91C_PMC_MOR)
wait 100			# wait 100 ms
mww 0xfffffc2c 0x00480a0e	# set PLL register (AT91C_PMC_PLLR)
wait 200			# wait 200 ms
mww 0xfffffc30 0x7		# set master clock to PLL (AT91C_PMC_MCKR)
wait 100			# wait 100 ms
mww 0xfffffd08 0xa5000401	# enable user reset AT91C_RSTC_RMR
flash write_binary 0 /home/oao/.../src/app_flash.bin 0x0 #program
reset				# reset processor
shutdown			# stop OpenOCD

oao

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001156.html">[Openocd-development] Bug in ft2232.c
</A></li>
	<LI>Next message: <A HREF="001159.html">[Openocd-development] Can't write flash in svn v 341
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1158">[ date ]</a>
              <a href="thread.html#1158">[ thread ]</a>
              <a href="subject.html#1158">[ subject ]</a>
              <a href="author.html#1158">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
