<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] GDB fixes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20GDB%20fixes&In-Reply-To=%3C47B7890E.9020000%40eCosCentric.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000883.html">
   <LINK REL="Next"  HREF="000896.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] GDB fixes</H1>
    <B>Jonathan Larmour</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20GDB%20fixes&In-Reply-To=%3C47B7890E.9020000%40eCosCentric.com%3E"
       TITLE="[Openocd-development] GDB fixes">jifl at eCosCentric.com
       </A><BR>
    <I>Sun Feb 17 02:08:30 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000883.html">[Openocd-development] GDB fixes
</A></li>
        <LI>Next message: <A HREF="000896.html">[Openocd-development] GDB fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#893">[ date ]</a>
              <a href="thread.html#893">[ thread ]</a>
              <a href="subject.html#893">[ subject ]</a>
              <a href="author.html#893">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Spen wrote:
&gt;<i> 
</I>&gt;<i> I have a lot of gdb scripts that contain something similar to:
</I>&gt;<i> set *(short*)0xA0000050 = 0x800B
</I>&gt;<i> 
</I>&gt;<i> the current behaviour in openocd, is for gdb to perform a 16bit write.
</I>&gt;<i> &#216;yvind's gdb patch changes the gdb_write_memory_packet to use
</I>&gt;<i> target_write_buffer.
</I>&gt;<i> Because of this 2*8bit writes will be performed instead.
</I>&gt;<i> 
</I>&gt;<i> As &#216;yvind has pointed out gdb does not state anything about this, and gdb
</I>&gt;<i> even states byte accesses may be used.
</I>&gt;<i> But gdb docs also point out that using byte accesses may be of detriment to
</I>&gt;<i> memory mapped devices.
</I>
Looks like there's already consensus, but I'll just chip in to say that 
this is true, and thus Oyvind's patch would make it impossible in openocd 
to, for example, initialise registers on some targets which are very 
specific about being accessed with the right width, and don't work if they 
are not.

Jifl
-- 
eCosCentric Limited      <A HREF="http://www.eCosCentric.com/">http://www.eCosCentric.com/</A>     The eCos experts
Barnwell House, Barnwell Drive, Cambridge, UK.       Tel: +44 1223 245571
Registered in England and Wales: Reg No 4422071.
------[&quot;The best things in life aren't things.&quot;]------      Opinions==mine

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000883.html">[Openocd-development] GDB fixes
</A></li>
	<LI>Next message: <A HREF="000896.html">[Openocd-development] GDB fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#893">[ date ]</a>
              <a href="thread.html#893">[ thread ]</a>
              <a href="subject.html#893">[ subject ]</a>
              <a href="author.html#893">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
