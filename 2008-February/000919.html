<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Writing to flash using gdb
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Writing%20to%20flash%20using%20gdb&In-Reply-To=%3C47B9A457.5040409%40eCosCentric.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000894.html">
   <LINK REL="Next"  HREF="000921.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Writing to flash using gdb</H1>
    <B>Jonathan Larmour</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Writing%20to%20flash%20using%20gdb&In-Reply-To=%3C47B9A457.5040409%40eCosCentric.com%3E"
       TITLE="[Openocd-development] Writing to flash using gdb">jifl at eCosCentric.com
       </A><BR>
    <I>Mon Feb 18 16:29:27 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000894.html">[Openocd-development] Writing to flash using gdb
</A></li>
        <LI>Next message: <A HREF="000921.html">[Openocd-development] Writing to flash using gdb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#919">[ date ]</a>
              <a href="thread.html#919">[ thread ]</a>
              <a href="subject.html#919">[ subject ]</a>
              <a href="author.html#919">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>kitts wrote:
&gt;<i> First of all. sorry for being on the development list. I was unable to find a 
</I>&gt;<i> users list. Please do redirect me if this place is inappropriate.
</I>&gt;<i> 
</I>&gt;<i> I use KDevelop as my IDE for development along with the arm-eabi-none 
</I>&gt;<i> toolchain from Codesourcery. This setup / combination works very well for me 
</I>&gt;<i> when loading into and executing from RAM. However, it become slightly more 
</I>&gt;<i> complex with operating from flash. I first need to create a bin file and then 
</I>&gt;<i> need to launch openocd with a alternate config file along with a script to 
</I>&gt;<i> first flash the device and then launch gdb with an alternate init script.
</I>&gt;<i> 
</I>&gt;<i> Recently i was informed by folks at Codesourcery that GDB is capable of 
</I>&gt;<i> writing to flash on the load instruction.
</I>
There aren't very many implementations outside of codesourcery. 
Fortunately one of them is in openocd....

&gt;<i> I would like to know if i can 
</I>&gt;<i> follow this method with openocd as it would save a lot of development time. I 
</I>&gt;<i> would request anyone with any knowledge on this to guide me as i was unable 
</I>&gt;<i> to find any openocd examples that followed this method.
</I>
openocd implements the required functionality, or at least it's meant to 
;-). So it's up to you to drive GDB to use it. You will only be able to do 
it from kdevelop if kdevelop gives you a GDB command line you can use. 
Note that the feature is only available in GDB 6.6 and later.

The key is to define your memory map in GDB correctly to indicate which 
memory regions are flash. Then when you do a 'load' it automatically 
reprograms the flash.

Jifl
-- 
eCosCentric Limited      <A HREF="http://www.eCosCentric.com/">http://www.eCosCentric.com/</A>     The eCos experts
Barnwell House, Barnwell Drive, Cambridge, UK.       Tel: +44 1223 245571
Registered in England and Wales: Reg No 4422071.
------[&quot;The best things in life aren't things.&quot;]------      Opinions==mine

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000894.html">[Openocd-development] Writing to flash using gdb
</A></li>
	<LI>Next message: <A HREF="000921.html">[Openocd-development] Writing to flash using gdb
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#919">[ date ]</a>
              <a href="thread.html#919">[ thread ]</a>
              <a href="subject.html#919">[ subject ]</a>
              <a href="author.html#919">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
