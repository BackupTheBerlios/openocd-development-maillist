<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] patch: jtag_init sets jtag NULL
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20patch%3A%20jtag_init%20sets%20jtag%20NULL&In-Reply-To=%3C47C68514.3000200%40asix.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001227.html">
   <LINK REL="Next"  HREF="001193.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] patch: jtag_init sets jtag NULL</H1>
    <B>Pavel Chromy</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20patch%3A%20jtag_init%20sets%20jtag%20NULL&In-Reply-To=%3C47C68514.3000200%40asix.cz%3E"
       TITLE="[Openocd-development] patch: jtag_init sets jtag NULL">chromy at asix.cz
       </A><BR>
    <I>Thu Feb 28 10:55:32 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001227.html">[Openocd-development] minidriver work
</A></li>
        <LI>Next message: <A HREF="001193.html">[Openocd-development] patch: jtag_init sets jtag NULL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1189">[ date ]</a>
              <a href="thread.html#1189">[ thread ]</a>
              <a href="subject.html#1189">[ subject ]</a>
              <a href="author.html#1189">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello All,

this patch fixes an issue in jtag_init - shall not reset jtag to NULL.
This causes jtag interface (USB device) not to be closed properly if jtag chain validation fails.

Once the underlaying jtag interface is initialized, jtag pointer shall be left untouched,
even in case of an error, so that proper cleanup can be done, see exit_handler in openocd.c

Please commit.

Pavel
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: jtag_init_null.patch
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20080228/fb72ef93/attachment.ksh">https://lists.berlios.de/pipermail/openocd-development/attachments/20080228/fb72ef93/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001227.html">[Openocd-development] minidriver work
</A></li>
	<LI>Next message: <A HREF="001193.html">[Openocd-development] patch: jtag_init sets jtag NULL
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1189">[ date ]</a>
              <a href="thread.html#1189">[ thread ]</a>
              <a href="subject.html#1189">[ subject ]</a>
              <a href="author.html#1189">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
