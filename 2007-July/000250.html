<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Motorola s19 patch and fixes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2007-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Motorola%20s19%20patch%20and%20fixes&In-Reply-To=%3CE1IFYCg-000DJq-IM%40smtp3.global.net.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000244.html">
   <LINK REL="Next"  HREF="000251.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Motorola s19 patch and fixes</H1>
    <B>Spen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Motorola%20s19%20patch%20and%20fixes&In-Reply-To=%3CE1IFYCg-000DJq-IM%40smtp3.global.net.uk%3E"
       TITLE="[Openocd-development] Motorola s19 patch and fixes">spen at spen-soft.co.uk
       </A><BR>
    <I>Mon Jul 30 18:37:44 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000244.html">[Openocd-development] Blinking LED
</A></li>
        <LI>Next message: <A HREF="000251.html">[Openocd-development] Motorola s19 patch and fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>All,

Attached is a patch that adds motorola s19 support to the file handling
scheme.

There are also two patches included:

Files are now always opened in binary mode on win32, this is due to windows
incorrectly handling text mode files.

The elf loader was also loading the bss section, which does not seen correct
to me. The elf p_filesz is now checked and if 0 (denoting a bss section) it
is not loaded.

I have tested changes by loading bin, hex, elf files under linux, cygwin and
mingw.

Let me know if everyone is happy and I will commit to svn?

When I get 5 minutes I will also add checksum support to the hex loader. S19
loader already checks the record checksum.

Cheers
Spen
-------------- next part --------------
A non-text attachment was scrubbed...
Name: s19.diff
Type: application/octet-stream
Size: 10990 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20070730/02e1dfd9/attachment.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20070730/02e1dfd9/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000244.html">[Openocd-development] Blinking LED
</A></li>
	<LI>Next message: <A HREF="000251.html">[Openocd-development] Motorola s19 patch and fixes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
