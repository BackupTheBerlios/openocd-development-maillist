<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] GDB Detach
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20GDB%20Detach&In-Reply-To=%3C4553B57C.2%40mlu.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000029.html">
   <LINK REL="Next"  HREF="000033.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] GDB Detach</H1>
    <B>Magnus Lundin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20GDB%20Detach&In-Reply-To=%3C4553B57C.2%40mlu.mine.nu%3E"
       TITLE="[Openocd-development] GDB Detach">lundin at mlu.mine.nu
       </A><BR>
    <I>Fri Nov 10 00:10:52 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000029.html">[Openocd-development] GDB Detach
</A></li>
        <LI>Next message: <A HREF="000033.html">[Openocd-development] Problem with PXA270
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30">[ date ]</a>
              <a href="thread.html#30">[ thread ]</a>
              <a href="subject.html#30">[ subject ]</a>
              <a href="author.html#30">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Spen wrote:

&gt;<i>A suggestion regarding the gdb detach 'D' packet (gdb_server.c - line 1282)
</I>&gt;<i>One change I make to openocd is to comment out the target resume line - when
</I>&gt;<i>debugging code it is usually easier to leave the target in its current state
</I>&gt;<i>(halted or running).
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>Good thinking ! :)

The target should be resumed when exiting the debugger, since otherwise 
all state informations is lost and it is impossible to do wery much 
useful work. But  arguably it is openocd that is the main component of 
the debugger, GDB is just a debug frontend so a reasonable behaviour is  
to do nothing when leaving (and entering)  gdb,  and to resume  when 
leaving openocd.

&gt;<i>A suggestion is to have options to set the action on gdb detach, eg.
</I>&gt;<i>
</I>&gt;<i>Resume from current address if halted (current action)
</I>&gt;<i>Do nothing
</I>&gt;<i>Reset/halt target
</I>&gt;<i>
</I>&gt;<i>  
</I>&gt;<i>
</I>The possiblity to configure this is a very good idea, the &quot;right&quot; 
default action is more difficult.

Regards,

Magnus


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000029.html">[Openocd-development] GDB Detach
</A></li>
	<LI>Next message: <A HREF="000033.html">[Openocd-development] Problem with PXA270
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#30">[ date ]</a>
              <a href="thread.html#30">[ thread ]</a>
              <a href="subject.html#30">[ subject ]</a>
              <a href="author.html#30">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
