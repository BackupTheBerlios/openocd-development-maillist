<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] STR7: still problems with GDB
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20STR7%3A%20still%20problems%20with%20GDB&In-Reply-To=%3C200611161119.13732.Dominic.Rath%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000036.html">
   <LINK REL="Next"  HREF="000038.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] STR7: still problems with GDB</H1>
    <B>Dominic Rath</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20STR7%3A%20still%20problems%20with%20GDB&In-Reply-To=%3C200611161119.13732.Dominic.Rath%40gmx.de%3E"
       TITLE="[Openocd-development] STR7: still problems with GDB">Dominic.Rath at gmx.de
       </A><BR>
    <I>Thu Nov 16 11:19:13 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000036.html">[Openocd-development] STR7: still problems with GDB
</A></li>
        <LI>Next message: <A HREF="000038.html">[Openocd-development] STR7: still problems with GDB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Bernard,

On Thursday 16 November 2006 11:08, Bernard Fouch&#233; wrote:
&gt;<i> Hi list.
</I>&gt;<i>
</I>&gt;<i> I encounter the following problems with GDB:
</I>&gt;<i>
</I>&gt;<i> - I use hardware breakpoints and run my application from flash.
</I>&gt;<i> - I type 'load' then set a breakpoint at main, and use 'c' to hit the
</I>&gt;<i> breakpoint at main(). GDB stops there. Fine.
</I>&gt;<i> - Then I do 'delete 1' and 'watch some_address'
</I>&gt;<i> - Then 'c'.
</I>&gt;<i> - At this time GDB will continuously single step (it can be seen in the
</I>&gt;<i> telnet session), like if openocd or gdb is checking at every step for
</I>&gt;<i> the watch point to change: the hardware watchpoint system is not used,
</I>&gt;<i> it looks like a software watchpoint.
</I>&gt;<i>
</I>&gt;<i> If I launch GDB, 'load' and do 'watch some_address' and then 'c',
</I>&gt;<i> continuous single step is immediate.
</I>&gt;<i>
</I>The OpenOCD doesn't implement software watchpoints, so I suppose it's GDB 
doing the single-stepping. Which GDB version do you use, and where did you 
get it from?
There are uncounted differences among GDB versions, and Insight for example 
released three or four tar balls labeled 6.5, until they got it right. All 
intermediate releases were based on CVS snapshots from development trees.

You could try and use &quot;set debug remote 1&quot; and &quot;set debug infrun 1&quot; in your 
GDB session to see if these are supported in your version. These commands 
produce a lot of information about what GDB is trying to do.

&gt;<i> Openocd is dated 2006-10-12 18:00 CEST which is strange since I compiled
</I>&gt;<i> it November 7th. As I dropped the svn copy I got, I can't tell exactly
</I>&gt;<i> wich revision I run!
</I>&gt;<i>
</I>Yeah, I'm notoriously bad at updating that date string, and I haven't found a 
solution that automatically updates a revision string on SVN. This seems to 
be something that doesn't fit into SVN's concept. I guess you're running 
R113, released on November 7th.

&gt;<i>    Bernard
</I>
Regards,

Dominic

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000036.html">[Openocd-development] STR7: still problems with GDB
</A></li>
	<LI>Next message: <A HREF="000038.html">[Openocd-development] STR7: still problems with GDB
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#37">[ date ]</a>
              <a href="thread.html#37">[ thread ]</a>
              <a href="subject.html#37">[ subject ]</a>
              <a href="author.html#37">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
