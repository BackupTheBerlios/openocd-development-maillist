<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Cortex-M3
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2006-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Cortex-M3&In-Reply-To=%3C454E610C.70108%40mlu.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000021.html">
   <LINK REL="Next"  HREF="000019.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Cortex-M3</H1>
    <B>Magnus Lundin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Cortex-M3&In-Reply-To=%3C454E610C.70108%40mlu.mine.nu%3E"
       TITLE="[Openocd-development] Cortex-M3">lundin at mlu.mine.nu
       </A><BR>
    <I>Sun Nov  5 23:09:16 CET 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000021.html">[Openocd-development] SVN revision 110, feeback about the STR7
</A></li>
        <LI>Next message: <A HREF="000019.html">[Openocd-development] Cortex-M3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15">[ date ]</a>
              <a href="thread.html#15">[ thread ]</a>
              <a href="subject.html#15">[ subject ]</a>
              <a href="author.html#15">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi everybody

The status on the Cortex-M3  is that I can debug programs with gdb and 
ddd as a frontend using the codesourcery toolchain for Linux. It is also 
possible to erase and flash LMI parts. With a 20MHz clock the FTDI2232 
can be run at jtag_speed 0 and very respectable performance. It is 
possible to debug and trace interrupt handlers, 6 flash hw breakpoints 
and 4 data watchpoints does help debugging a lot. Algorithm exits are in 
RAM and can use a soft, BRK instruction breakpoint.

It does not crash and seems quite stable, but after reading about 
Dominics trouble  with other supposedly stable code there is probably 
lots of things to fix.  It is also very possible that some restructuring 
should be done .
 
Missing things are:
- code to set and clear flash write protection (no problem, simply not a 
priority yet)
- erase checking
- reported debug reason is not reliable, target state is usually correct.
- soft reset handling


- There are a lot of debug output and warnings etc.
-  With no  default code in flash  the processor sometimes  gets into a 
weird state and needs  a low jtag speed (10 or 20) and/or a power 
reset.  This is partially because I am still not quite sure how to setup 
some of the core registers, and strange things happens when the 
processors tries to run invalid code and take nonexistent fault vectors.


I think it is possible to release the code for testing with the folks 
who takes a small crash with a smile. I will probably have a lot to do 
with the regular work the coming weeks work but would like publish this 
and can collect some responses.

So how do we do this, add a separate branch or add it to the trunk ? 
There are no known side effects on the  main code but  it is nice to 
keep known experimental code separate from the main trunk. Shall we send 
all patches through Dominic or shall I handle them myself?

Regards,

Magnus


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000021.html">[Openocd-development] SVN revision 110, feeback about the STR7
</A></li>
	<LI>Next message: <A HREF="000019.html">[Openocd-development] Cortex-M3
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15">[ date ]</a>
              <a href="thread.html#15">[ thread ]</a>
              <a href="subject.html#15">[ subject ]</a>
              <a href="author.html#15">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
