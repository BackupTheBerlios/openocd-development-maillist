<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] ULINK driver: firmware license questions
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ULINK%20driver%3A%20firmware%20license%20questions&In-Reply-To=%3C4D9DBED3.7000402%40amontec.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018692.html">
   <LINK REL="Next"  HREF="018708.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] ULINK driver: firmware license questions</H1>
    <B>Laurent Gauch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ULINK%20driver%3A%20firmware%20license%20questions&In-Reply-To=%3C4D9DBED3.7000402%40amontec.com%3E"
       TITLE="[Openocd-development] ULINK driver: firmware license questions">laurent.gauch at amontec.com
       </A><BR>
    <I>Thu Apr  7 15:40:35 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="018692.html">[Openocd-development] ULINK driver: firmware license questions
</A></li>
        <LI>Next message: <A HREF="018708.html">[Openocd-development] ULINK driver: firmware license questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18702">[ date ]</a>
              <a href="thread.html#18702">[ thread ]</a>
              <a href="subject.html#18702">[ subject ]</a>
              <a href="author.html#18702">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> &gt;/ The EZ-USB gives access to USB but not to the ULINK interface. Right ?
</I>&gt;<i> /
</I>&gt;<i> The ULINK consists of the EZ-USB microcontroller, an SRAM, an EEPROM and
</I>&gt;<i> level shifters. There's even a schematic floating around the net:
</I>&gt;<i> <A HREF="http://www.mikrocontroller.net/attachment/51828/ULink.pdf">http://www.mikrocontroller.net/attachment/51828/ULink.pdf</A>
</I>&gt;<i>
</I>&gt;<i> Keil is just using the digital I/O of the EZ-USB to read/write the JTAG
</I>&gt;<i> signals, quite simple actually.
</I>&gt;<i>
</I>&gt;<i> On Wed, 2011-04-06 at 18:58 +0200, Michael Schwingen wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;/ &gt; BUT the PROBLEM is to support ULINK interface protocol in OpenOCD,
</I>&gt;<i> /&gt;/ &gt; since the ULINK protocol specification is not public, but copyrighted
</I>&gt;<i> /&gt;/ &gt; by KEIL Inc..
</I>&gt;<i> /&gt;/ 
</I>&gt;<i> /&gt;/ He wrote that he has written his own firmware, so that would probably
</I>&gt;<i> /&gt;/ use a different protocol but just run on the ULINK hardware - that would
</I>&gt;<i> /&gt;/ be perfectly acceptable.
</I>&gt;<i> /
</I>&gt;<i> Exactly. I have designed my own protocol and implemented it in my custom
</I>&gt;<i> firmware. I've also written a demo program in C++ that can erase/program
</I>&gt;<i> flash, read/write fuses, ... in various Atmel AVR (8-bit) devices with
</I>&gt;<i> my ULINK firmware.
</I>&gt;<i>   
</I>So, ULINK hardware is only used as board platform :-)
So, you have your own protocol.

I hope you have your own USB VID/PID too.

Finally, if you include your own protocol driver in openocd, please do 
not call it ULINK. Since it is not ULINK protocol.
This will avoid tones of confuses for other users !!!

&gt;<i> &gt;/ However, if his own firmware needs to be linked against a proprietary
</I>&gt;<i> /&gt;/ (which we must assume, since no license is given) library, the resulting
</I>&gt;<i> /&gt;/ firmware binary can not be included in/with OpenOCD.
</I>&gt;<i> /
</I>&gt;<i> Currently, this is the case. I'll look into alternatives.
</I>&gt;<i>
</I>&gt;<i> &gt;/ However, if the ULINK is basically an EZ-USB chip which downloads its
</I>&gt;<i> /&gt;/ code via USB, using the ULINK protocol would also mean we would have to
</I>&gt;<i> /&gt;/ use Keil's firmware, as it needs to be downloaded every time the ULINK
</I>&gt;<i> /&gt;/ adapter is powered on.
</I>&gt;<i> /
</I>&gt;<i> Upon power-up, the &quot;blank&quot; EZ-USB chip registers itself with a VID/PID
</I>&gt;<i> it reads from the EEPROM on the ULINK board. Then, it can at any time be
</I>&gt;<i> loaded with the firmware program via standard USB control requests, so
</I>&gt;<i> at no point in time Keil's ULINK protocol needs to be used.
</I>&gt;<i>   
</I>Nice idea.
I understand yet.

Laurent Gauch
 <A HREF="http://www.amontec.com">http://www.amontec.com</A>

&gt;<i> On Wed, 2011-04-06 at 18:23 +0200, &#216;yvind Harboe wrote:
</I>&gt;<i>
</I>&gt;<i> &gt;/ If you want the community to accept your patch, then not only
</I>&gt;<i> /&gt;/ do you need to pass all the &quot;GPL hurdles&quot;, but the community
</I>&gt;<i> /&gt;/ must be comfortable maintaining your patches and you'll probably
</I>&gt;<i> /&gt;/ have to do all the work and then some.
</I>&gt;<i> /
</I>&gt;<i> That is what I'm trying to achieve :)
</I>&gt;<i>   
</I>&gt;<i> Best regards,
</I>&gt;<i> Martin
</I>&gt;<i>   
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018692.html">[Openocd-development] ULINK driver: firmware license questions
</A></li>
	<LI>Next message: <A HREF="018708.html">[Openocd-development] ULINK driver: firmware license questions
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18702">[ date ]</a>
              <a href="thread.html#18702">[ thread ]</a>
              <a href="subject.html#18702">[ subject ]</a>
              <a href="author.html#18702">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
