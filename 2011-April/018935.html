<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] help with config for Seagate DockStar please
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20help%20with%20config%20for%20Seagate%20DockStar%0A%20please&In-Reply-To=%3C20110429004927.GC6116%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018928.html">
   <LINK REL="Next"  HREF="018936.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] help with config for Seagate DockStar please</H1>
    <B>Eric Cooper</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20help%20with%20config%20for%20Seagate%20DockStar%0A%20please&In-Reply-To=%3C20110429004927.GC6116%40localhost%3E"
       TITLE="[Openocd-development] help with config for Seagate DockStar please">ecc at cmu.edu
       </A><BR>
    <I>Fri Apr 29 02:49:27 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="018928.html">[Openocd-development] help with config for Seagate DockStar	please
</A></li>
        <LI>Next message: <A HREF="018936.html">[Openocd-development] help with config for Seagate DockStar	please
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18935">[ date ]</a>
              <a href="thread.html#18935">[ thread ]</a>
              <a href="subject.html#18935">[ subject ]</a>
              <a href="author.html#18935">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Apr 27, 2011 at 05:33:50PM -0700, Mike Dunn wrote:
&gt;<i> On 04/27/2011 03:12 PM, Eric Cooper wrote:
</I>&gt;<i> &gt; I think it must still be executing the unmodified instruction out of
</I>&gt;<i> &gt; the i-cache.  Shouldn't openocd flush that when it sets a software
</I>&gt;<i> &gt; breakpoint?
</I>&gt;<i> 
</I>&gt;<i> Yes, 'should' being the operative word.  If you're sure that the execution path
</I>&gt;<i> passes through this instruction, then yes, icache not being flushed is the
</I>&gt;<i> likely explanation.  I had to fix the same problem on xscale a while back.  Not
</I>&gt;<i> sure of the status on arm7_9.  Again, maybe someone knowledgeable can chime in. 
</I>
I've made a little progress on this.  The Feroceon chip also has an L2
cache.  I added some code to invalidate this when setting breakpoints,
and now the target at least halts at the right place.  But openocd
doesn't notice it (I had to use poll to find out that it's halted),
and doesn't restore the original instruction when resuming.

-- 
Eric Cooper             e c c @ c m u . e d u

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018928.html">[Openocd-development] help with config for Seagate DockStar	please
</A></li>
	<LI>Next message: <A HREF="018936.html">[Openocd-development] help with config for Seagate DockStar	please
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18935">[ date ]</a>
              <a href="thread.html#18935">[ thread ]</a>
              <a href="subject.html#18935">[ subject ]</a>
              <a href="author.html#18935">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
