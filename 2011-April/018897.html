<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] sw breakpoints in flash
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20sw%20breakpoints%20in%20flash&In-Reply-To=%3CBANLkTimhwM_YWvN8f1VTn9ZPA3_Ex5kEnw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018923.html">
   <LINK REL="Next"  HREF="018901.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] sw breakpoints in flash</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20sw%20breakpoints%20in%20flash&In-Reply-To=%3CBANLkTimhwM_YWvN8f1VTn9ZPA3_Ex5kEnw%40mail.gmail.com%3E"
       TITLE="[Openocd-development] sw breakpoints in flash">oyvind.harboe at zylin.com
       </A><BR>
    <I>Tue Apr 26 10:20:15 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="018923.html">[Openocd-development] How to let the cortex a8 enter debug mode	? Ican't halt it
</A></li>
        <LI>Next message: <A HREF="018901.html">[Openocd-development] sw breakpoints in flash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18897">[ date ]</a>
              <a href="thread.html#18897">[ thread ]</a>
              <a href="subject.html#18897">[ subject ]</a>
              <a href="author.html#18897">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Here is an idea for a new feature: sw breakpoints in flash.

The way this feature would work would be to detect if
a breakpoint is in the flash region. If it is, a hw breakpoint
would be used until the hw breakpoints run out.

At that point the flash sector would be rewritten with the
sw breakpoint as required.

Sounds great in theory, but would it work in real life?

To execute past the breakpoint, gdb would have to restore
the original instruction, single step over it and then write
back the breakpoint again.

Any thoughts on other schemes?

I know there is some cortex-m3(and perhaps even vendor
specific???) flash patching hardware. What I don't like about
this feature is that it would be target and perhaps even
vendor specific. I like features that are general enough that they
will get a lot of testing exposure and use....

-- 
&#216;yvind Harboe

Can Zylin Consulting help on your project?

US toll free 1-866-980-3434 / International +47 51 63 25 00

<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018923.html">[Openocd-development] How to let the cortex a8 enter debug mode	? Ican't halt it
</A></li>
	<LI>Next message: <A HREF="018901.html">[Openocd-development] sw breakpoints in flash
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18897">[ date ]</a>
              <a href="thread.html#18897">[ thread ]</a>
              <a href="subject.html#18897">[ subject ]</a>
              <a href="author.html#18897">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
