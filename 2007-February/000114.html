<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] small patch for idcode
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2007-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20small%20patch%20for%20idcode&In-Reply-To=%3C200702221050.03206.Dominic.Rath%40gmx.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000113.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] small patch for idcode</H1>
    <B>Dominic Rath</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20small%20patch%20for%20idcode&In-Reply-To=%3C200702221050.03206.Dominic.Rath%40gmx.de%3E"
       TITLE="[Openocd-development] small patch for idcode">Dominic.Rath at gmx.de
       </A><BR>
    <I>Thu Feb 22 10:50:02 CET 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="000113.html">[Openocd-development] small patch for idcode
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#114">[ date ]</a>
              <a href="thread.html#114">[ thread ]</a>
              <a href="subject.html#114">[ subject ]</a>
              <a href="author.html#114">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Vincent,

thanks for your patch.
I've added (to my local tree, SVN once my other changes are ready) the IDCODE 
display, but I don't think that verify is a good idea.
I fear that a lot of users wouldn't know which value to use in the .cfg file, 
and would be irritated if the ARM7 config file from one core failed for 
another ARM7 core.
Another problem is that the jtag_device command originally specified that the 
IDCODE argument should be the JTAG instruction used for IDCODE, to allow the 
OpenOCD to query the IDCODE during operation, but that was never actually 
used.

Regards,

Dominic

On Wednesday 21 February 2007 12:03, Vincent Palatin wrote:
&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> First of all, thanks Dominic for the great piece of opensource software.
</I>&gt;<i>
</I>&gt;<i> On my setup (FTDI 2232 + various ARM926 based SoC), I notice a small bug in
</I>&gt;<i> &quot;scan_chain&quot; display, the IDCODE field is always 0.
</I>&gt;<i> As it can be useful on SoC with a lot of elements of JTAG chain, I attach a
</I>&gt;<i> small patch against current SVN fixing it ( display_IDCODE.patch ).
</I>&gt;<i>
</I>&gt;<i> It might be interesting to also check the IDCODE from config file against
</I>&gt;<i> the one read on the target (mostly to verify  if my eyes are still closed
</I>&gt;<i> and I've selected the wrong config file)
</I>&gt;<i> here a small patch (  display_verify_IDCODE.patch ) which issues a warning
</I>&gt;<i> if idcodes are different. It includes the previous one.
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000113.html">[Openocd-development] small patch for idcode
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#114">[ date ]</a>
              <a href="thread.html#114">[ thread ]</a>
              <a href="subject.html#114">[ subject ]</a>
              <a href="author.html#114">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
