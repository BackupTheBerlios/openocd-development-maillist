<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Jim Tcl integration #2
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Jim%20Tcl%20integration%20%232&In-Reply-To=%3Cc09652430806262307v5d64b30ej33fb1324e0720120%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002310.html">
   <LINK REL="Next"  HREF="002301.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Jim Tcl integration #2</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Jim%20Tcl%20integration%20%232&In-Reply-To=%3Cc09652430806262307v5d64b30ej33fb1324e0720120%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Jim Tcl integration #2">oyvind.harboe at zylin.com
       </A><BR>
    <I>Fri Jun 27 08:07:12 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002310.html">[Openocd-development] Jim Tcl integration #2
</A></li>
        <LI>Next message: <A HREF="002301.html">[Openocd-development] Small tutorial,	how to build an OpenOCD windows version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2312">[ date ]</a>
              <a href="thread.html#2312">[ thread ]</a>
              <a href="subject.html#2312">[ subject ]</a>
              <a href="author.html#2312">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jun 27, 2008 at 1:13 AM, Tim Hudson &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">tjh at litheware.com</A>&gt; wrote:
&gt;<i> &#216;yvind Harboe wrote:
</I>&gt;&gt;&gt;<i> for {set i 0} {$i &lt; 10} {incr i} {openocd &quot;mww [expr $i*4] 0&quot;}
</I>&gt;<i>
</I>&gt;<i> Hooking the command interpreter on a per-line basis isn't a good approach IMHO
</I>
The reason for hooking it up to the command line interpreter is that
I'd then replace the command line interpreter w/tcl.

The OpenOCD commands actually follow Tcl syntax:

OpenOCD:

flash write_image x y

Tcl:

flash write_image x y

see? same syntax :-)

&gt;<i> I think something more along the lines of embedded script usage in web pages
</I>&gt;<i> would make more sense:
</I>&gt;<i>
</I>&gt;<i> e.g.
</I>&gt;<i>
</I>&gt;<i> &lt;?lua
</I>&gt;<i> ... lua code here
</I>&gt;<i> ?&gt;
</I>&gt;<i>
</I>&gt;<i> or with tcl:
</I>&gt;<i>
</I>&gt;<i> &lt;?tcl
</I>&gt;<i> ... tcl code here
</I>&gt;<i> ?&gt;
</I>&gt;<i>
</I>&gt;<i> Scripts really should be allowed to be multi-line and include whatever syntax
</I>&gt;<i> the scripting language wants to use - be it lua, tcl, php, perl, whatever is
</I>&gt;<i> embedded.
</I>
I'm not crazy about this inversion approach for OpenOCD. Since the
command line interpreter and tcl would(eventually) be the same thing, there is
no need for inversion.

Multiline is currently supported by:

ocd&gt; source myscript.tcl

or by using the OpenOCD search path:

ocd&gt; source [find myscript.tcl]


-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002310.html">[Openocd-development] Jim Tcl integration #2
</A></li>
	<LI>Next message: <A HREF="002301.html">[Openocd-development] Small tutorial,	how to build an OpenOCD windows version
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2312">[ date ]</a>
              <a href="thread.html#2312">[ thread ]</a>
              <a href="subject.html#2312">[ subject ]</a>
              <a href="author.html#2312">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
