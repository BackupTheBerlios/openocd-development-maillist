<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Flash erase bank and chip full erase
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Flash%20erase%20bank%20and%20chip%20full%20erase&In-Reply-To=%3COF92B94102.239390FC-ONC125745E.004785B9-C125745E.004E0498%40securitasdirect.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002219.html">
   <LINK REL="Next"  HREF="002222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Flash erase bank and chip full erase</H1>
    <B>Fredrik Hederstierna</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Flash%20erase%20bank%20and%20chip%20full%20erase&In-Reply-To=%3COF92B94102.239390FC-ONC125745E.004785B9-C125745E.004E0498%40securitasdirect.se%3E"
       TITLE="[Openocd-development] Flash erase bank and chip full erase">fredrik.hederstierna at securitas-direct.com
       </A><BR>
    <I>Wed Jun  4 15:09:19 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002219.html">[Openocd-development] Patch: PRESTO TCK during reset
</A></li>
        <LI>Next message: <A HREF="002222.html">[Openocd-development] Flash erase bank and chip full erase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2215">[ date ]</a>
              <a href="thread.html#2215">[ thread ]</a>
              <a href="subject.html#2215">[ subject ]</a>
              <a href="author.html#2215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

Some MCUs have flash erase commands for full bank erase, and full chip 
erase.
Do openocd have any support for this, or are the only commands &quot;flash 
erase_sector&quot; and &quot;flash erase_address&quot;?

This could save some time in production, where each second saved can mean 
alot of money.
If an faster erase (and write ofcourse) could do full chip erase in some 
seconds less, this could be of great interest.

E.g I'm looking for commands like

flash erase_bank
flash erase_chip

Or maybe the way to go is to use the ordinary &quot;flash erase_sector&quot; as now, 
and then check if we are doing a full erase and then use the optimized 
command instead?
If we know the flash block layout, we could easily calculate an optimal 
erase command sequence perhaps?

I just saw that the CAPS software from ST do a full erase in like 2 
seconds, where openOCD takes about 9 seconds....
(Of course this can also be fast er by other reasons like JTAG clock, 
STR9x turbo mode etc. What about writing in turbo mode...?)

/Fredrik
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20080604/f0d1074d/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20080604/f0d1074d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002219.html">[Openocd-development] Patch: PRESTO TCK during reset
</A></li>
	<LI>Next message: <A HREF="002222.html">[Openocd-development] Flash erase bank and chip full erase
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2215">[ date ]</a>
              <a href="thread.html#2215">[ thread ]</a>
              <a href="subject.html#2215">[ subject ]</a>
              <a href="author.html#2215">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
