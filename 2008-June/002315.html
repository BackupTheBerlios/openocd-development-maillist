<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Scripting language experiments
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Scripting%20language%20experiments&In-Reply-To=%3Cc09652430806270013w70061417i8049d87b998dfa9a%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002318.html">
   <LINK REL="Next"  HREF="002317.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Scripting language experiments</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Scripting%20language%20experiments&In-Reply-To=%3Cc09652430806270013w70061417i8049d87b998dfa9a%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Scripting language experiments">oyvind.harboe at zylin.com
       </A><BR>
    <I>Fri Jun 27 09:13:05 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002318.html">[Openocd-development] Luminary micro scripts
</A></li>
        <LI>Next message: <A HREF="002317.html">[Openocd-development] Scripting language experiments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2315">[ date ]</a>
              <a href="thread.html#2315">[ thread ]</a>
              <a href="subject.html#2315">[ subject ]</a>
              <a href="author.html#2315">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think it is important to focus on aspects other than choice of
language. The current patch is w/Tcl, but it could be another language.

Trying to break down the &quot;why&quot; a bit:

Q: Who, realistically, will use it?

Q: What can it be used for?

Q: How should it be integrated?


My thinking so far...

Who: OpenOCD developers. Here I include those that contribute
target library scripts. I don't see &quot;normal&quot; OpenOCD developers
messing around with this. Ideally they should just specify the
target via the target library and then live happily ever after without
worrying about OpenOCD again :-) If end users never mess
around with the scripting language

What: a language w/resource tracking &amp; exception handling +
convenience can lead to less bugs and easier to hack code.

How: currently the scripting support is something internal to
OpenOCD. OpenOCD is not controlled, but rather OpenOCD
executes the scripts. This allows fast roundtrips when talking
to the hw, if roundtrips are required to talk to the PC, then
things are not so convenient.

I've been trying to find some killer app for a scripting language
hosted by OpenOCD:

- write a flash driver in tcl. A flash driver consists of &quot;a few peeks
and pokes&quot;. Could a tcl script handle this for non-standard parts?
The eCos + ocl flash drivers have had zero visible success. This
would have to be for OpenOCD developers and not OpenOCD
users I think.
- write variant target support in tcl. The slight arm7/9 variants
could perhaps be written in tcl?

BTW, I've committed some hooks &amp; code to reduce the patch size
for scripting support experiments.

Script support patches will now be *MUCH* smaller and easier
to understand. No change in behaviour, but if I screwed something
up be sure to let me know.

-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 XScale Cortex
JTAG debugger and flash programmer
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: tclwip4.txt
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20080627/85e08ea3/attachment.txt">https://lists.berlios.de/pipermail/openocd-development/attachments/20080627/85e08ea3/attachment.txt</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002318.html">[Openocd-development] Luminary micro scripts
</A></li>
	<LI>Next message: <A HREF="002317.html">[Openocd-development] Scripting language experiments
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2315">[ date ]</a>
              <a href="thread.html#2315">[ thread ]</a>
              <a href="subject.html#2315">[ subject ]</a>
              <a href="author.html#2315">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
