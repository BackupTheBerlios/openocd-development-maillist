<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] USB latency limiting JTAG speed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20USB%20latency%20limiting%20JTAG%20speed&In-Reply-To=%3C20101019090746.28953.qmail%40stuge.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016788.html">
   <LINK REL="Next"  HREF="016790.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] USB latency limiting JTAG speed</H1>
    <B>Peter Stuge</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20USB%20latency%20limiting%20JTAG%20speed&In-Reply-To=%3C20101019090746.28953.qmail%40stuge.se%3E"
       TITLE="[Openocd-development] USB latency limiting JTAG speed">peter at stuge.se
       </A><BR>
    <I>Tue Oct 19 11:07:46 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016788.html">[Openocd-development] USB latency limiting JTAG speed
</A></li>
        <LI>Next message: <A HREF="016790.html">[Openocd-development] USB latency limiting JTAG speed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16789">[ date ]</a>
              <a href="thread.html#16789">[ thread ]</a>
              <a href="subject.html#16789">[ subject ]</a>
              <a href="author.html#16789">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&#216;yvind Harboe wrote:
&gt;<i> The problem with microcontrollers is not cost, but that they are
</I>&gt;<i> ephemeral.
</I>&gt;<i> 
</I>&gt;<i> OpenOCD is going on 6 years now? What MCU and PCB layout would be
</I>&gt;<i> relevant more than a year or two?
</I>
With a relevant protocol abstraction nothing significant would have
changed.

The only change during these years is the addition of SWD. Other than
that, the high level use of JTAG hasn't really changed. Or is that a
misconception of mine?

Assuming that it is indeed accurate, maybe the transport could have
changed over the 6 years, or the hardware implementation, but
actually no, I don't believe that to be true either..

USB microcontrollers programmable in C with open source tools were
available 6 years ago too. They are *way* faster larger simpler nicer
now, but it could certainly have been done then as well. Maybe only
low-speed USB with something like PIC 16C765 at 12 MIPS and very
little RAM, but there were also more performant choices.

If a protocol was made back then we would still be using it for all
JTAG, and we would be looking at how to extend it to fit SWD. Maybe
ARM would have done it for us. Who knows?

The code in the hardware would also still be usable, it would just be
running 6x faster now, and be able to buffer a whole lot more
transactions.

I've been looking at STAPL lately, that's a pretty good example of
what I mean by a high level protocol, although it may be a little
*too* generic. I'd really like a port of Altera's 8051 Jam bytecode
player to an ARM. I think it's obvious that it's the right way to
deal with STAPL.


&gt;<i> I'd like OpenOCD to be maintained against something that spans
</I>&gt;<i> 5-10's of years and here the PC programming model does nicely.
</I>
I don't think this is reasonable in 2010. The world changes much too
fast, and instead we must find a way to deal with the changes.

The key is of course to have interfaces that are designed well enough
so that a layer which probably will not last for the full lifetime of
the project (such as LPT, or COM) can be replaced easily with
something else (USB) but still be used for the exact same high-level
interface.


&gt;<i> Also the PC programming model is common to *all* developers and
</I>&gt;<i> users, and this gives the OpenOCD code the most amount of testing.
</I>
Why insist on the least common denominator? Relevant abstraction is
the only way to get decent performance *and* have a chance at being
forward compatible.


//Peter

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016788.html">[Openocd-development] USB latency limiting JTAG speed
</A></li>
	<LI>Next message: <A HREF="016790.html">[Openocd-development] USB latency limiting JTAG speed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16789">[ date ]</a>
              <a href="thread.html#16789">[ thread ]</a>
              <a href="subject.html#16789">[ subject ]</a>
              <a href="author.html#16789">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
