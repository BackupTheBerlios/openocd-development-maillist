<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] =?ISO-8859-2?Q?Re: Re: Problems with workareasize and STM32F100 (8kB= of RAM)?=
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%3D%3FISO-8859-2%3FQ%3FRe%3A%20Re%3A%20Problems%20with%0A%20workareasize%20and%20STM32F100%20%288kB%3D%20of%20RAM%29%3F%3D&In-Reply-To=%3CQ25380809-f419ef17036c545bc866baec069b9c7a%40pmq1.m5r2.onet.test.onet.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016879.html">
   <LINK REL="Next"  HREF="016880.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] =?ISO-8859-2?Q?Re: Re: Problems with workareasize and STM32F100 (8kB= of RAM)?=</H1>
    <B>freddie_chopin at op.pl</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%3D%3FISO-8859-2%3FQ%3FRe%3A%20Re%3A%20Problems%20with%0A%20workareasize%20and%20STM32F100%20%288kB%3D%20of%20RAM%29%3F%3D&In-Reply-To=%3CQ25380809-f419ef17036c545bc866baec069b9c7a%40pmq1.m5r2.onet.test.onet.pl%3E"
       TITLE="[Openocd-development] =?ISO-8859-2?Q?Re: Re: Problems with workareasize and STM32F100 (8kB= of RAM)?=">freddie_chopin at op.pl
       </A><BR>
    <I>Fri Oct 29 11:21:18 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016879.html">[Openocd-development] stellaris.cfg
</A></li>
        <LI>Next message: <A HREF="016880.html">[Openocd-development] stellaris.cfg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16877">[ date ]</a>
              <a href="thread.html#16877">[ thread ]</a>
              <a href="subject.html#16877">[ subject ]</a>
              <a href="author.html#16877">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&quot;Peter Stuge&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">peter at stuge.se</A>&gt; napisa&#322;(a): 
 &gt; Unless there is a way to tell devices apart.

Usually there is (; Sometimes some more logic is required, but generally that is possible (JTAG ID, special registers with ID, flash sizes, etc.)
 
 &gt; &gt; BTW I do not prefer single file for whole family,
 &gt; 
 &gt; Why not? No big deal, but I'm curious.

Usually you have to change something in such &quot;generic&quot; files. The need to change anything in chip-specific files is lower.

 &gt; It requires more detailed manual configuration, ie. less automation,
 &gt; which is really annoying if it can be avoided. But sometimes it can't
 &gt; be avoided. I guess this is the case here.

As I wrote before, &quot;generic&quot; files would still be usable alone, so automatic stuff can use them. OpenOCD does not do anything automatically though...

 &gt; Many may prefer GUI but please do not make the mistake of thinking
 &gt; that GUI is the only way to have ease of use!!

Sure it's not (;
 
 &gt; GUIs such as Eclipse are sometimes so bad that they become counter-
 &gt; productive. I've touched on the Eclipse surface a few times in
 &gt; different contexts and it has always been an absolute disaster.
 &gt; It's the very definition of bloat if you ask me.

My curiosity now - what do you prefer to IDEs like Eclipse. Personally I love Eclipse and I cannot imagine using anything else with comparable efficiency and ease.
 
 &gt; I did a few hours of research before starting with ARM last year,
 &gt; bought a nice development board with cfg in board/ and a JTAG adapter
 &gt; with cfg in interface/, and then I spent about 60 minutes on stuff
 &gt; before I had everything from toolchain to debugger and blinking LED
 &gt; working. I think that is pretty amazing, and it proves that the tools
 &gt; are really good already.

I've received an LPC1114 mini-board recently. I knew nothing about those chips. I've installed Flash Loader and after few seconds the chip was programmed... Beat that (;
 
 &gt; No doubt they can get even better, but 60 minutes is already very
 &gt; close to out-of-the-box. I don't think it's useful to optimize that
 &gt; process too much more, because someone who can not manage to overcome
 &gt; such a small hurdle will inevitably fail miserably later in their
 &gt; project anyway, and should just be doing something else, or the same
 &gt; thing but in a different way. (Maybe using Flash Loader?)

I don't think so. To grasp the configuration of OpenOCD you need to read the whole manual, check existing files, learn exotic TCL scripting (I've never heard about it before OpenOCD) from somewhere else (specifics are not included in OpenOCD manual) - it's far from being user-friendly... Of course such problems can and have to be solved by user, but I cannot agree to opinions that &quot;it's right&quot; that these are here, as they separate users from losers. In such case we could throw in some additional &quot;tests&quot;...

 &gt; Yes and no. I agree that it would have sucked if I had to write a
 &gt; target cfg for the device on my development board. But I didn't,
 &gt; because I made sure to buy a board that was already supported. Since
 &gt; OpenOCD is an open source project I don't think that it is realistic
 &gt; for anyone to expect that *every* possible target will already be
 &gt; supported. I also don't think you suggested this either, but clearly
 &gt; we all want more target cfg files. :)

IMHO having target files for almost all (most of) supported chips is realistic - for instance OpenOCD has interface files for many supported interfaces, even though most of them are FT2232 based and could use only one cfg file instead of few dozens.
 
 &gt; As for Flash Loader, the name suggests that it is a download-only
 &gt; program, maybe not so much involved in debugging. OpenOCD does both,
 &gt; and since the latter requires a lot more information it is
 &gt; unneccessarily complicated to just do a firmware download. This might
 &gt; actually be a significant possible improvement for OpenOCD. On the
 &gt; other hand, you typically want the debugger working pretty soon as
 &gt; well..

Indeed Flash Loader is for flashing only, but there are many users who use OpenOCD only for that...

 &gt; Yep! Please send patches. I will also.

I'll wait for maintainters' opinions, because if they don't like the idea of separate cfg files any patch in that area would be just a waste of time.
 
 &gt; Yes! I've tried to play with this a few times. I think it looks like
 &gt; a nice way to use openocd when openocd.cfg would do nothing but
 &gt; source existing files. I didn't get it to do exactly what I wanted,
 &gt; but I like this approach too because it doesn't require a config
 &gt; file. On the other hand the long command line is very annoying to type.

I (almost) never type that, as Eclipse does that for me [; You can always have a shell script to do that for you, but that would probably be no different than having openocd.cfg.
 
 &gt; Hm? I was not really clear about how -c relates to e.g. procedures
 &gt; defined in openocd.cfg. Do you know more about the ordering?

-c &quot;sth&quot; can call anything from any cfg file or OpenOCD-specific commands, but it's pretty impossible to override TCL &quot;variables&quot; this way (like the workareasize for example).
 
 &gt; &gt; BTW such files would not prevent using general &quot;family&quot; files.
 &gt; 
 &gt; Hm? I agree that a &quot;base&quot; family cfg would still be there, but I
 &gt; think that it's important to emphasize that users should never source
 &gt; family cfg files directly then, and should always use or create a
 &gt; device specific cfg file. Otherwise it will be really difficult to
 &gt; understand how OpenOCD is meant to work, and what to do when.

Why? stm32.cfg file would probably require no changes at all to implement this chip-specific files, so why stop using it if someone prefers? Such generic cfgs will have default values for all overridable parameters, so using them alone would be the same as now.
 
 &gt; Using Tcl cfg files in the first place already creates a bit of
 &gt; confusion, but I also can't say that I disagree with it or that
 &gt; I can suggest something better.

C is better than TCL, as probably 99.666% of ppl using OpenOCD know it (; C is not a scripting language, but I don't think that is a problem, there are programs that use C-like scripts - EAGLE (which I don't like) is an example.

4\/3!!

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016879.html">[Openocd-development] stellaris.cfg
</A></li>
	<LI>Next message: <A HREF="016880.html">[Openocd-development] stellaris.cfg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16877">[ date ]</a>
              <a href="thread.html#16877">[ thread ]</a>
              <a href="subject.html#16877">[ subject ]</a>
              <a href="author.html#16877">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
