<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH/RFC] partial SWD transport (SWD infrastructure #2)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH/RFC%5D%20partial%20SWD%20transport%20%28SWD%0A%20infrastructure%20%232%29&In-Reply-To=%3CAANLkTim3Qs%3DE4NwK7x%2BSve9NgBDEjvAa0g7-UOWjVzXE%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016699.html">
   <LINK REL="Next"  HREF="016702.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH/RFC] partial SWD transport (SWD infrastructure #2)</H1>
    <B>Tomek CEDRO</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH/RFC%5D%20partial%20SWD%20transport%20%28SWD%0A%20infrastructure%20%232%29&In-Reply-To=%3CAANLkTim3Qs%3DE4NwK7x%2BSve9NgBDEjvAa0g7-UOWjVzXE%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH/RFC] partial SWD transport (SWD infrastructure #2)">tomek.cedro at gmail.com
       </A><BR>
    <I>Mon Oct 11 03:23:42 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016699.html">[Openocd-development] [PATCH/RFC] partial SWD transport (SWD	infrastructure #2)
</A></li>
        <LI>Next message: <A HREF="016702.html">[Openocd-development] [PATCH/RFC] partial SWD transport (SWD infrastructure #2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16701">[ date ]</a>
              <a href="thread.html#16701">[ thread ]</a>
              <a href="subject.html#16701">[ subject ]</a>
              <a href="author.html#16701">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello David, nice to hear from you! :-)

On Mon, Oct 11, 2010 at 2:29 AM, David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt; wrote:
&gt;<i> From: David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">dbrownell at users.sourceforge.net</A>&gt;
</I>&gt;<i> Subject: initial SWD transport (SWD infrastructure #2)
</I>&gt;<i>
</I>&gt;<i> This piggy backs on JTAG so it's not yet pretty, but that
</I>&gt;<i> seems unavoidable so far given today's OpenOCD internals. &#160;I'd
</I>&gt;<i> rather see JTAG and SWD be fully separate.
</I>
&gt;<i>From what Ive seen on the patch listing swd is still in jtag
</I>directory, but its nice to hear that they should be separated :-)


&gt;<i> # no JTAG regressions known. &#160;SWD UNTESTED &#160;... once the SWD init
</I>&gt;<i> sequence is verified, I'd expect that Cortex-M3 to behave given
</I>&gt;<i> some SWD-aware driver (not yet provided).
</I>
I am working on it - preferably FT2232 (KT-LINK) first, then RLink
(Stm32Primer2).. but RLink can be more accessible on the STM32Primer2
boards.. and also needs some reverse engineering on the protocol.
Which one of them do you think should be made working first to help
SWD development and make it more accessible at the moment?


&gt;<i> The debug adapter drivers can provide a simple SWD driver
</I>&gt;<i> struct with methods that kick in as needed (instead of JTAG).
</I>&gt;<i> So far just one adapter driver has been updated (not yet
</I>&gt;<i> ready to use or circulate).
</I>
Do you mean to initialize the adapter or to perform all SWD operations?


&gt;<i> The biggest issues are probably
</I>&gt;<i> &#160;- fault handling, where the ARM Debug Interface V5 pipelining
</I>&gt;<i> &#160; &#160;needs work in both JTAG and SWD modes and
</I>
JTAG and SWD have their own ways of detecting/quering errors, but the
sticky-bits part seems to be in fact similar, so maybe one error
handling system could cover both JTAG and SWD..?


&gt;<i> &#160;- missing &#160;rewrite of block I/O code to work on both transports
</I>&gt;<i> &#160; &#160;(vs current version, which is hard-wired to JTAG).
</I>&gt;<i> &#160;- omitted support to activate/deactivate SWO/SWV trace (this is
</I>&gt;<i> &#160; &#160;technically trivial, but configuring trace is NOT.
</I>
Im not not yet at this point..


Best regards,
Tomek

-- 
CeDeROM, SQ7MHZ, <A HREF="http://www.tomek.cedro.info">http://www.tomek.cedro.info</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016699.html">[Openocd-development] [PATCH/RFC] partial SWD transport (SWD	infrastructure #2)
</A></li>
	<LI>Next message: <A HREF="016702.html">[Openocd-development] [PATCH/RFC] partial SWD transport (SWD infrastructure #2)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16701">[ date ]</a>
              <a href="thread.html#16701">[ thread ]</a>
              <a href="subject.html#16701">[ subject ]</a>
              <a href="author.html#16701">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
