<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] STM32 flash write speed
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-October/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20STM32%20flash%20write%20speed&In-Reply-To=%3CF7C0AA5DD1508F4789E10B6CC9BB75DB03E0DB41%40nzc-ap-xch-02.ap.trimblecorp.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016766.html">
   <LINK REL="Next"  HREF="016769.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] STM32 flash write speed</H1>
    <B>Bernard Mentink</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20STM32%20flash%20write%20speed&In-Reply-To=%3CF7C0AA5DD1508F4789E10B6CC9BB75DB03E0DB41%40nzc-ap-xch-02.ap.trimblecorp.net%3E"
       TITLE="[Openocd-development] STM32 flash write speed">Bernard.Mentink at trimble.co.nz
       </A><BR>
    <I>Mon Oct 18 20:29:30 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016766.html">[Openocd-development] STM32 flash write speed
</A></li>
        <LI>Next message: <A HREF="016769.html">[Openocd-development] STM32 flash write speed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16767">[ date ]</a>
              <a href="thread.html#16767">[ thread ]</a>
              <a href="subject.html#16767">[ subject ]</a>
              <a href="author.html#16767">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi &#216;yvind,

So you achieved 100kbytes/sec on an LPC1778 ... Wow, can you share your config file? Did you use the ZY1000 for this test. I am using just a 
Cheap FT2232D based JTAG device ... Is it the hardware that is the limitation here, or the software?

Regarding flashing, I am using the &quot; mon flash write_image erase unlock file.elf 0 elf&quot; command from GDB, I don't know if that is executing on the target..

Cheers,
Bernie


------------------------------------------------------------------------------------------
Hiding the Truth with &quot;Political Correctness&quot; is the same as Lying ... BRM

-----Original Message-----
From: &#216;yvind Harboe [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">oyvind.harboe at zylin.com</A>] 
Sent: Tuesday, 19 October 2010 7:23 a.m.
To: Bernard Mentink
Cc: Freddie Chopin; <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development at lists.berlios.de</A>
Subject: Re: [Openocd-development] STM32 flash write speed

I measured ca. 100kBytes/s w/ZY1000 and
MCB1700/LPC1768.

The ZY1000 has the advantage of low latency between OpenOCD and the JTAG interface, whereas a USB interface has a 1ms roundtrip time.

Generally to improve performance of high latency devices, your best bet is to do some profiling and figure out whether it's possible to rewrite the OpenOCD higher level code to issue longer clock/in out sequences.

If you don't have working area memory set up, or your flash algorithm does not execute on the target, then that can easily explain pitiful performance. Again a low latency interface would do comparably better here...

--
&#216;yvind Harboe
US toll free 1-866-980-3434 / International +47 51 63 25 00 <A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016766.html">[Openocd-development] STM32 flash write speed
</A></li>
	<LI>Next message: <A HREF="016769.html">[Openocd-development] STM32 flash write speed
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16767">[ date ]</a>
              <a href="thread.html#16767">[ thread ]</a>
              <a href="subject.html#16767">[ subject ]</a>
              <a href="author.html#16767">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
