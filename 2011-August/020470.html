<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Jlink SRST pin value
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Jlink%20SRST%20pin%20value&In-Reply-To=%3CCABJTTWPbN2pHi7gtAjOUZRbYuYzq4szf8a_8Gr2Nf5XShQq8VA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020469.html">
   <LINK REL="Next"  HREF="020472.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Jlink SRST pin value</H1>
    <B>Liu Hua</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Jlink%20SRST%20pin%20value&In-Reply-To=%3CCABJTTWPbN2pHi7gtAjOUZRbYuYzq4szf8a_8Gr2Nf5XShQq8VA%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Jlink SRST pin value">lhhajs at gmail.com
       </A><BR>
    <I>Thu Aug  4 10:51:06 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="020469.html">[Openocd-development] Jlink SRST pin value
</A></li>
        <LI>Next message: <A HREF="020472.html">[Openocd-development] Tutorial Material on Flash Drivers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20470">[ date ]</a>
              <a href="thread.html#20470">[ thread ]</a>
              <a href="subject.html#20470">[ subject ]</a>
              <a href="author.html#20470">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Additional information:
I think the jlink can not communicate with my CPU msm7x27A (when CPU is in
the reset state)
Because now, the &quot;reset&quot; and &quot;halt&quot; command is working.  But the &quot;reset
halt&quot; and &quot;reset init&quot; isn't.
When execute &quot;reset halt&quot;, it will display some errors:
&gt;<i> reset halt
</I>JTAG tap: msm7xxx.cpu tap/device found: 0x006300e1 (mfg: 0x070, part:
0x0630, ver: 0x0)
WARNING: unknown debug reason: 0xf
jlink_usb_message failed with result=5)
jlink_tap_execute, wrong result -107 (expected 270)

According to the User Guide: In the best case, OpenOCD can hold SRST, then
reset the TAPs via TRST and send commands through JTAG to halt the CPU at
the reset vector before the 1st instruction is executed. Then when it
finally releases the SRST signal, the system is halted under debugger
control before any code has executed. This is the behavior required to
support the reset halt and reset init commands; after reset init a
board-specific script might do things like setting up DRAM.

Thanks a lot in advance.

Best Regards
Richard LIU

On Thu, Aug 4, 2011 at 4:37 PM, Liu Hua &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">lhhajs at gmail.com</A>&gt; wrote:

&gt;<i> Hi,
</I>&gt;<i>
</I>&gt;<i> I am a newbie of openocd. I am using JLink to debug a ARM926ejs CPU.
</I>&gt;<i> During startup of openocd, it will use EMU_CMD_GET_STATE command to get all
</I>&gt;<i> the pins state of jlink.
</I>&gt;<i>
</I>&gt;<i> On a working board, it gets TMS = 0 SRST = 0 TRST = 0
</I>&gt;<i> On a no-working board, it gets TMS = 0 SRST = 1  TRST = 0, (then it will
</I>&gt;<i> get the wrong message: Error: jlink_usb_message failed with result=5)
</I>&gt;<i>
</I>&gt;<i> In my understanding, when SRST  is low,  the system will reset. I think it
</I>&gt;<i> should be high at the startup time.
</I>&gt;<i> But, why when SRST=0, the JTAG works?
</I>&gt;<i>
</I>&gt;<i> Best Regards
</I>&gt;<i> Richard LIU
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110804/a1edd927/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20110804/a1edd927/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020469.html">[Openocd-development] Jlink SRST pin value
</A></li>
	<LI>Next message: <A HREF="020472.html">[Openocd-development] Tutorial Material on Flash Drivers
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20470">[ date ]</a>
              <a href="thread.html#20470">[ thread ]</a>
              <a href="subject.html#20470">[ subject ]</a>
              <a href="author.html#20470">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
