<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Fwd: [OpenOCD][PULL Request][MIPS32] CP0 coprocessor manipulation and cache synchronization routines
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Fwd%3A%20%5BOpenOCD%5D%5BPULL%20Request%5D%5BMIPS32%5D%20CP0%0A%20coprocessor%20manipulation%20and%20cache%20synchronization%20routines&In-Reply-To=%3CCAEk6gTC2Wp7OLzKPgP3s%2BLiVb2HGZ0z3FWYXuzuDWUw8tqa9eA%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020563.html">
   <LINK REL="Next"  HREF="020544.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Fwd: [OpenOCD][PULL Request][MIPS32] CP0 coprocessor manipulation and cache synchronization routines</H1>
    <B>Drasko DRASKOVIC</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Fwd%3A%20%5BOpenOCD%5D%5BPULL%20Request%5D%5BMIPS32%5D%20CP0%0A%20coprocessor%20manipulation%20and%20cache%20synchronization%20routines&In-Reply-To=%3CCAEk6gTC2Wp7OLzKPgP3s%2BLiVb2HGZ0z3FWYXuzuDWUw8tqa9eA%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Fwd: [OpenOCD][PULL Request][MIPS32] CP0 coprocessor manipulation and cache synchronization routines">drasko.draskovic at gmail.com
       </A><BR>
    <I>Tue Aug  9 23:13:41 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="020563.html">[Openocd-development] [PULL Request] Flash program speedup through asynchronous algorithms
</A></li>
        <LI>Next message: <A HREF="020544.html">[Openocd-development] Fwd: [OpenOCD][PULL Request][MIPS32] Fixed	single byte memory write
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20542">[ date ]</a>
              <a href="thread.html#20542">[ thread ]</a>
              <a href="subject.html#20542">[ subject ]</a>
              <a href="author.html#20542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
as per &#216;yvind's request I am re-sending this outstanding pull request.

BR,
Drasko


---------- Forwarded message ----------
From: Drasko DRASKOVIC &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">drasko.draskovic at gmail.com</A>&gt;
Date: Thu, Jul 7, 2011 at 7:27 PM
Subject: [OpenOCD][PULL Request][MIPS32] CP0 coprocessor manipulation
and cache synchronization routines
To: Openocd-Dev &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development at lists.berlios.de</A>&gt;


Hi all,
I am happy to present you several exciting enhancements to the MIPS32 target.

Most notably :
1) Implemented &#160;mips32_cp0_read() and mips32_cp0_write() routines that
can affect CP0 copro regs.
2) Implemented command interfaces for these commands, so that they can
be called from Telnet interface
3) Implemented cache synchronization, so that we can now support soft
breaks on cached regions. Linux can be debugged fine now.

All this has been discussed before on ML.

I have split all in logically independent commits, so that it can be
more easy integrated into the master (I tested each commit
independently, and overall version).

In the end, I rebased to souceforge's master, so all you have to do is
to pull the changes from my github branch.

BR,
Drasko


The following changes since commit ac43d7a69fca52df1ad287b51c44013653ad2f61:
&#160;Drasko DRASKOVIC (1):
&#160; &#160; &#160; &#160;mips_m4k and arm7_9 : Fix soft bkpt endianess for 16-bit instructions

are available in the git repository at:

&#160;<A HREF="git://github.com/drasko/openocd.git">git://github.com/drasko/openocd.git</A> master

Drasko DRASKOVIC (4):
&#160; &#160; &#160;mips32: Removed Unnecessary JTAG Queue Flush
&#160; &#160; &#160;mips_m4k: common_magic should be unsigned
&#160; &#160; &#160;mips32: Added CP0 coprocessor R/W routines
&#160; &#160; &#160;mips32: Sync Caches to Make Instr Writes Effective

&#160;src/target/mips32.c &#160; &#160; &#160; | &#160;106 ++++++++++++++
&#160;src/target/mips32.h &#160; &#160; &#160; | &#160;117 ++++++++++++---
&#160;src/target/mips32_pracc.c | &#160;342 +++++++++++++++++++++++++++++++++++++++++++--
&#160;src/target/mips32_pracc.h | &#160; 41 +++++-
&#160;src/target/mips_m4k.c &#160; &#160; | &#160;108 ++++++++++++++-
&#160;src/target/mips_m4k.h &#160; &#160; | &#160; &#160;7 +-
&#160;6 files changed, 679 insertions(+), 42 deletions(-)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020563.html">[Openocd-development] [PULL Request] Flash program speedup through asynchronous algorithms
</A></li>
	<LI>Next message: <A HREF="020544.html">[Openocd-development] Fwd: [OpenOCD][PULL Request][MIPS32] Fixed	single byte memory write
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20542">[ date ]</a>
              <a href="thread.html#20542">[ thread ]</a>
              <a href="subject.html#20542">[ subject ]</a>
              <a href="author.html#20542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
