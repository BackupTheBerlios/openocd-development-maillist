<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] JLink woes
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20JLink%20woes&In-Reply-To=%3CCAMPiNCL168sKXyGcNFYyB3RORLTpTsQHnLP4s_His4WFSP8UkQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020666.html">
   <LINK REL="Next"  HREF="020668.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] JLink woes</H1>
    <B>Eric Wetzel</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20JLink%20woes&In-Reply-To=%3CCAMPiNCL168sKXyGcNFYyB3RORLTpTsQHnLP4s_His4WFSP8UkQ%40mail.gmail.com%3E"
       TITLE="[Openocd-development] JLink woes">thewetzel at gmail.com
       </A><BR>
    <I>Fri Aug 12 18:02:14 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="020666.html">[Openocd-development] JLink woes
</A></li>
        <LI>Next message: <A HREF="020668.html">[Openocd-development] JLink woes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20667">[ date ]</a>
              <a href="thread.html#20667">[ thread ]</a>
              <a href="subject.html#20667">[ subject ]</a>
              <a href="author.html#20667">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Aug 12, 2011 at 10:10 AM, Xiaofan Chen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">xiaofanc at gmail.com</A>&gt; wrote:
&gt;<i> On Fri, Aug 12, 2011 at 10:04 PM, Xiaofan Chen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">xiaofanc at gmail.com</A>&gt; wrote:
</I>&gt;&gt;<i> Then I came across this one thread in Sparkfun. The change seems
</I>&gt;&gt;<i> to make sense as well so I gave it a try.
</I>&gt;&gt;<i> <A HREF="http://forum.sparkfun.com/viewtopic.php?f=18&amp;t=24946">http://forum.sparkfun.com/viewtopic.php?f=18&amp;t=24946</A>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> It does not seem to help either.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> But then I find out actually my V8 J-Link works &#160;once in about 3 times for
</I>&gt;&gt;<i> EK-LM3S1968 demo board. It works even though that there are still
</I>&gt;&gt;<i> quite a bit of error message but it seems to work.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> With the on-board TI/Luminary interface, OpenOCD always works.
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Then I also check out V3/V6/V7 and they all work fine.
</I>&gt;<i>
</I>
I have a V8 J-Link, and I can confirm Xiaofan's result that the code
from Sparkfun that uses the EMU_CMD_SELECT_IF command does not solve
the problem. The commands do execute successfully on initialization,
but they report that interface 0 (JTAG) was already selected in the
first place.

I mentioned previously that I'm using the V8 J-Link on the TI/Logic PD
EVM AM1808 board, but using the target/omapl138.cfg file. (They're the
same ARM and JTAG route controller inside).

When I try to run in this configuration, my J-Link becomes
unresponsive. The LED on top of it turns off. Successive attempts to
run openocd are met with earlier errors (inability to read HW version
info or capabilities), and even the jlink.exe command line program
from Segger cannot connect to it, complaining &quot;WARNING: Out of sync ,
resynchronising&quot;. After about 100 seconds, the device seems to
reenumerate on USB (Windows makes the 'device connected' noise) and
the LED comes back on.

I'm going to try to use the Linux software from Segger with the
kernel's usbmon to capture some commands and see what Segger's doing
that we're not. (I've never done any of that before, so I don't expect
good results).

Best regards,
~Eric

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020666.html">[Openocd-development] JLink woes
</A></li>
	<LI>Next message: <A HREF="020668.html">[Openocd-development] JLink woes
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20667">[ date ]</a>
              <a href="thread.html#20667">[ thread ]</a>
              <a href="subject.html#20667">[ subject ]</a>
              <a href="author.html#20667">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
