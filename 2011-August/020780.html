<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Automatic RTOS Detection
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Automatic%20RTOS%20Detection&In-Reply-To=%3C4E539E33.3080009%40discworld.dascon.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="020779.html">
   <LINK REL="Next"  HREF="020781.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Automatic RTOS Detection</H1>
    <B>Michael Schwingen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Automatic%20RTOS%20Detection&In-Reply-To=%3C4E539E33.3080009%40discworld.dascon.de%3E"
       TITLE="[Openocd-development] Automatic RTOS Detection">rincewind at discworld.dascon.de
       </A><BR>
    <I>Tue Aug 23 14:33:55 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="020779.html">[Openocd-development] Automatic RTOS Detection
</A></li>
        <LI>Next message: <A HREF="020781.html">[Openocd-development] Automatic RTOS Detection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20780">[ date ]</a>
              <a href="thread.html#20780">[ thread ]</a>
              <a href="subject.html#20780">[ subject ]</a>
              <a href="author.html#20780">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/23/2011 02:10 PM, Evan Hunter wrote:
&gt;<i> The way I do this on the STM32 is to use TCL script JTAG to zero the memory
</I>&gt;<i> before allowing GDB to attach.
</I>&gt;<i>
</I>&gt;<i> This is necessary since a previous run of the system can leave valid
</I>&gt;<i> contents in the RTOS variables, which are indistinguishable from real RTOS
</I>&gt;<i> data.
</I>&gt;<i>
</I>&gt;<i> With the memory zeroed, the system behaves as expected with a single thread
</I>&gt;<i> of execution showing in the boot-up code, then multiple threads once the
</I>&gt;<i> system has started.
</I>&gt;<i>    
</I>However, if there *is* no memory at those locations after reset, this 
scheme will not work when debugging the memory initialization code, so 
there needs to be some way to disable the RTOS support.

cu
Michael


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="020779.html">[Openocd-development] Automatic RTOS Detection
</A></li>
	<LI>Next message: <A HREF="020781.html">[Openocd-development] Automatic RTOS Detection
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#20780">[ date ]</a>
              <a href="thread.html#20780">[ thread ]</a>
              <a href="subject.html#20780">[ subject ]</a>
              <a href="author.html#20780">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
