<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Proposition of new target cfg files scheme
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Proposition%20of%20new%20target%20cfg%20files%20scheme&In-Reply-To=%3C578783.56523.qm%40web180316.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016930.html">
   <LINK REL="Next"  HREF="016951.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Proposition of new target cfg files scheme</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Proposition%20of%20new%20target%20cfg%20files%20scheme&In-Reply-To=%3C578783.56523.qm%40web180316.mail.gq1.yahoo.com%3E"
       TITLE="[Openocd-development] Proposition of new target cfg files scheme">david-b at pacbell.net
       </A><BR>
    <I>Wed Nov  3 01:41:37 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016930.html">[Openocd-development] Proposition of new target cfg files scheme
</A></li>
        <LI>Next message: <A HREF="016951.html">[Openocd-development] Proposition of new target cfg files scheme
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16934">[ date ]</a>
              <a href="thread.html#16934">[ thread ]</a>
              <a href="subject.html#16934">[ subject ]</a>
              <a href="author.html#16934">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

--- On Tue, 11/2/10, &#216;yvind Harboe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">oyvind.harboe at zylin.com</A>&gt; wrote:

&gt;<i> 
</I>&gt;<i> I don't know what the answer is long term. I would, like
</I>&gt;<i> you,
</I>&gt;<i> like to hear thoughts from others on this.
</I>
There's a bug filed about us not reporting the
memory maps correctly, with specific reference
to RAM/SRAM regions.  Fixing that would help
make GDB behave better ... it'd use different
commands to write flash vs RAM, etc.

There are three parts to that problem:  collecting
and saving that region info, and most simply,
feeding it to GDB with the rest of the mem map. 


My current thought is:

 - internal API to declare RAM/SRAM regions to
later be reported to GDB (or used internally).

Call that API via some Tcl script command that
takes address and size, in at least some config
scripts (if we must).

For some chips that info is easily gotten
via chip probe, instead of model-specific
(and messy/error-prone) config files.

For example the Stellaris chips report
how much SRAM they've got in &quot;flash info&quot;, but
that info could be stashed via the API and then
accessed later.

Other chips may need to have drivers consult
tables driven by part numbers, working a bit
differently from the Stellaris chips.  I'm not
suggesting a place the chip probing should be
done; sometime during setup, obviously.

THere could be a command that says &quot;allocate some
of the RAM/SRAM for a work-area&quot;.  I suspect the
different flash drivers would want different
defaults for work area sizes.

- Dave




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016930.html">[Openocd-development] Proposition of new target cfg files scheme
</A></li>
	<LI>Next message: <A HREF="016951.html">[Openocd-development] Proposition of new target cfg files scheme
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16934">[ date ]</a>
              <a href="thread.html#16934">[ thread ]</a>
              <a href="subject.html#16934">[ subject ]</a>
              <a href="author.html#16934">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
