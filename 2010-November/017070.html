<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20If%20no%20SRST%20is%20available%2C%0A%20fallback%20to%20SYSRESETREQ%20in%20Cortex-M3%20soft-reset.&In-Reply-To=%3C4CDC6D99.2050601%40op.pl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017068.html">
   <LINK REL="Next"  HREF="017084.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.</H1>
    <B>Freddie Chopin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20If%20no%20SRST%20is%20available%2C%0A%20fallback%20to%20SYSRESETREQ%20in%20Cortex-M3%20soft-reset.&In-Reply-To=%3C4CDC6D99.2050601%40op.pl%3E"
       TITLE="[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.">freddie_chopin at op.pl
       </A><BR>
    <I>Thu Nov 11 23:26:33 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017068.html">[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
</A></li>
        <LI>Next message: <A HREF="017084.html">[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17070">[ date ]</a>
              <a href="thread.html#17070">[ thread ]</a>
              <a href="subject.html#17070">[ subject ]</a>
              <a href="author.html#17070">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 2010-11-11 20:47, Spencer Oliver wrote:
&gt;<i> I disagree with this patch as SYSTEMRESET is not supported as expected
</I>&gt;<i> on all cores.
</I>
Shouldn't the code assume that this standard mechanism works as the 
standard says? If some chip does not support it, than this chip should 
have VECTRESET selected in its config file, why make trouble for chips 
that obey this standard?

&gt;<i> As explained before LPC17xx do not support it.
</I>
So lpc17xx.cfg file should force VECTRESET.

&gt;<i> Some variants of the lm3 core will fail
</I>
That's why stellaris.cfg forces VECTRESET for them.

&gt;<i> the same goes for some stm32 devices i have tested.
</I>
All STM32 that I had in hand support SYSRESETREQ without any problems, 
so why should STM32 users be forced to edit cfg files?

&gt;<i> I still believe the best way is for each core to state that it supports
</I>&gt;<i> SYSTEMRESET over VECTRESET in the cfg file.
</I>
LPC2xxx supposedly cannot be reset into halted mode (because SRST pulls 
TRST) - should ARM7 control functions assume that as a default? Do they? 
So why does Cortex-M3 assume that something is broken as a default?

4\/3!!

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017068.html">[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
</A></li>
	<LI>Next message: <A HREF="017084.html">[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17070">[ date ]</a>
              <a href="thread.html#17070">[ thread ]</a>
              <a href="subject.html#17070">[ subject ]</a>
              <a href="author.html#17070">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
