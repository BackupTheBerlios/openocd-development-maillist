<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [Patch] SPEAr serial NOR flash driver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPatch%5D%20SPEAr%20serial%20NOR%20flash%20driver&In-Reply-To=%3CAANLkTin_oykwZSJO_wtkenx5208yLpi%2BGc6L%3DVWt2sNV%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017159.html">
   <LINK REL="Next"  HREF="017163.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [Patch] SPEAr serial NOR flash driver</H1>
    <B>Antonio Borneo</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPatch%5D%20SPEAr%20serial%20NOR%20flash%20driver&In-Reply-To=%3CAANLkTin_oykwZSJO_wtkenx5208yLpi%2BGc6L%3DVWt2sNV%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [Patch] SPEAr serial NOR flash driver">borneo.antonio at gmail.com
       </A><BR>
    <I>Tue Nov 16 15:53:53 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017159.html">[Openocd-development] [Patch] SPEAr serial NOR flash driver
</A></li>
        <LI>Next message: <A HREF="017163.html">[Openocd-development] [Patch] SPEAr serial NOR flash driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17162">[ date ]</a>
              <a href="thread.html#17162">[ thread ]</a>
              <a href="subject.html#17162">[ subject ]</a>
              <a href="author.html#17162">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Nov 16, 2010 at 4:18 PM, &#216;yvind Harboe &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">oyvind.harboe at zylin.com</A>&gt; wrote:
&gt;<i> Merged.
</I>&gt;<i>
</I>&gt;<i> It would be nice with some followup patches:
</I>&gt;<i>
</I>&gt;<i> - some comments on how this code can/should be refactored rather
</I>&gt;<i> than copy pasted as new devices are added
</I>&gt;<i> - a patch to get rid of the non-sensical .h files in drivers/nor/*.h and
</I>&gt;<i> just put the private data into the .c file.
</I>
Sorry, I was not connected for few days.
Thank you for your comments and for merging.

I will add more comments to the code, mainly explaining the
relationship with SPI. This could be helpful to compare with other
code and think about a reasonable partitioning.

On Sat, 2010-11-13 at 18:57 +0800, Peter Stuge wrote:
&gt;<i> Does the SMI have a &quot;manual&quot; command mode? What you describe is
</I>&gt;<i> common with SPI flash controllers, but there can also be a generic
</I>&gt;<i> mode where software can specify one command at a time to execute on
</I>&gt;<i> SPI?
</I>Yes, what in SMI is named &quot;SW mode&quot; is the way to bypass the memory
mapping and make the SPI interface fully programmable.
This is currently only to send the erase command and to read Flash ID.

As already reported, some devices in SPEAr family also provide a
standard SPI interface (not SMI).
I was not planning any activity on such SPI, but now the picture is different.
&gt;<i>From documentation, seems a standard ARM SSP controller (PL022, I suppose).
</I>Should be common to many other targets.

Are you aware of any target, other than SPEAr, that provides memory
mapping feature of SPI flash? I quickly searched, but failed.

Best Regards,
Antonio Borneo

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017159.html">[Openocd-development] [Patch] SPEAr serial NOR flash driver
</A></li>
	<LI>Next message: <A HREF="017163.html">[Openocd-development] [Patch] SPEAr serial NOR flash driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17162">[ date ]</a>
              <a href="thread.html#17162">[ thread ]</a>
              <a href="subject.html#17162">[ subject ]</a>
              <a href="author.html#17162">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
