<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20If%20no%20SRST%20is%20available%2C%0A%20fallback%20to%20SYSRESETREQ%20in%20Cortex-M3%20soft-reset.&In-Reply-To=%3C4CDC486C.1010805%40spen-soft.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017101.html">
   <LINK REL="Next"  HREF="017070.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.</H1>
    <B>Spencer Oliver</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20If%20no%20SRST%20is%20available%2C%0A%20fallback%20to%20SYSRESETREQ%20in%20Cortex-M3%20soft-reset.&In-Reply-To=%3C4CDC486C.1010805%40spen-soft.co.uk%3E"
       TITLE="[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.">spen at spen-soft.co.uk
       </A><BR>
    <I>Thu Nov 11 20:47:56 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017101.html">[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
</A></li>
        <LI>Next message: <A HREF="017070.html">[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17068">[ date ]</a>
              <a href="thread.html#17068">[ thread ]</a>
              <a href="subject.html#17068">[ subject ]</a>
              <a href="author.html#17068">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 11/11/2010 11:00, Freddie Chopin wrote:
&gt;<i> Hi!
</I>&gt;<i>
</I>&gt;<i> This patch changes the default behaviour of Cortex-M3 soft-reset. More
</I>&gt;<i> details can be found in thread &quot;STM32 reset_config&quot;.
</I>&gt;<i>
</I>&gt;<i> I've tested that with STM32 - everything works fine, peripherals are
</I>&gt;<i> reset as they should be (with standard cfg files).
</I>&gt;<i>
</I>&gt;<i> 4\/3!!
</I>&gt;<i>
</I>&gt;<i>
</I>
I disagree with this patch as SYSTEMRESET is not supported as expected 
on all cores.

As explained before LPC17xx do not support it.
Some variants of the lm3 core will fail, the same goes for some stm32 
devices i have tested.

I still believe the best way is for each core to state that it supports 
SYSTEMRESET over VECTRESET in the cfg file.

Cheers
Spen

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017101.html">[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
</A></li>
	<LI>Next message: <A HREF="017070.html">[Openocd-development] [PATCH] If no SRST is available, fallback to SYSRESETREQ in Cortex-M3 soft-reset.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17068">[ date ]</a>
              <a href="thread.html#17068">[ thread ]</a>
              <a href="subject.html#17068">[ subject ]</a>
              <a href="author.html#17068">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
