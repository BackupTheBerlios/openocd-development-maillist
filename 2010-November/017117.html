<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [Patch] SPEAr serial NOR flash driver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPatch%5D%20SPEAr%20serial%20NOR%20flash%20driver&In-Reply-To=%3C20101113105716.15754.qmail%40stuge.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017112.html">
   <LINK REL="Next"  HREF="017119.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [Patch] SPEAr serial NOR flash driver</H1>
    <B>Peter Stuge</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPatch%5D%20SPEAr%20serial%20NOR%20flash%20driver&In-Reply-To=%3C20101113105716.15754.qmail%40stuge.se%3E"
       TITLE="[Openocd-development] [Patch] SPEAr serial NOR flash driver">peter at stuge.se
       </A><BR>
    <I>Sat Nov 13 11:57:16 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017112.html">[Openocd-development] [Patch] SPEAr serial NOR flash driver
</A></li>
        <LI>Next message: <A HREF="017119.html">[Openocd-development] [Patch] SPEAr serial NOR flash driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17117">[ date ]</a>
              <a href="thread.html#17117">[ thread ]</a>
              <a href="subject.html#17117">[ subject ]</a>
              <a href="author.html#17117">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Antonio Borneo wrote:
&gt;<i> &gt;&gt; I'm not thrilled about having this information local in the
</I>&gt;<i> &gt;&gt; spearsmi
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Like generic SPI and SPI-flash layers. &#160;The flash
</I>&gt;<i> &gt; support shouldn't be SPEAr-specific in the least.
</I>&gt;<i> 
</I>&gt;<i> Understand your comments.
</I>&gt;<i> I agree that the table could be shared between SPEAr SMI and a generic
</I>&gt;<i> SPI or SPI-flash framework.
</I>&gt;<i> But I think this could be the only common part.
</I>&gt;<i> 
</I>&gt;<i> AFAIK, SPI flash is not accessible in CPU memory space directly, but
</I>&gt;<i> requires the driver to copy to RAM the flash content. This is stated
</I>&gt;<i> also in OpenOCD documentation, chapter 12.
</I>&gt;<i> 
</I>&gt;<i> But, SMI controller is not a generic SPI interface (some devices in
</I>&gt;<i> SPEAr family also provide a separate SPI controller, keeping SMI for
</I>&gt;<i> flash only).
</I>&gt;<i> SMI is a dedicated HW accelerator that hides the SPI protocol and maps
</I>&gt;<i> on-the-fly the content of the SPI flash in the CPU memory space.
</I>
That is true.. But SPI is still SPI, and maybe some code can be
shared. Likewise the flash chips in the table may be relevant
elsewhere in the code, so would be better to have their information
outside spearsmi, along with enough knowledge to determine if they
can be used by spearsmi or not.


&gt;<i> The SMI has some limitation while choosing a flash device. The
</I>&gt;<i> documentation reports the list of mandatory SPI commands codes that
</I>&gt;<i> the flash have to support, since such values are hardcoded in the
</I>&gt;<i> controller and cannot be changed.
</I>
Does the SMI have a &quot;manual&quot; command mode? What you describe is
common with SPI flash controllers, but there can also be a generic
mode where software can specify one command at a time to execute on
SPI?


//Peter

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017112.html">[Openocd-development] [Patch] SPEAr serial NOR flash driver
</A></li>
	<LI>Next message: <A HREF="017119.html">[Openocd-development] [Patch] SPEAr serial NOR flash driver
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17117">[ date ]</a>
              <a href="thread.html#17117">[ thread ]</a>
              <a href="subject.html#17117">[ subject ]</a>
              <a href="author.html#17117">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
