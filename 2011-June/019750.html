<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] bitbanging ft2232 dongle port from TCL is	TOO DANGEROUS : PLEASE COMMENT
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20bitbanging%20ft2232%20dongle%20port%20from%20TCL%0A%20is%09TOO%20DANGEROUS%20%3A%20PLEASE%20COMMENT&In-Reply-To=%3C4E019519.5030704%40amontec.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019742.html">
   <LINK REL="Next"  HREF="019753.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] bitbanging ft2232 dongle port from TCL is	TOO DANGEROUS : PLEASE COMMENT</H1>
    <B>Laurent Gauch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20bitbanging%20ft2232%20dongle%20port%20from%20TCL%0A%20is%09TOO%20DANGEROUS%20%3A%20PLEASE%20COMMENT&In-Reply-To=%3C4E019519.5030704%40amontec.com%3E"
       TITLE="[Openocd-development] bitbanging ft2232 dongle port from TCL is	TOO DANGEROUS : PLEASE COMMENT">laurent.gauch at amontec.com
       </A><BR>
    <I>Wed Jun 22 09:09:13 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019742.html">[Openocd-development] bitbanging ft2232 dongle port from TCL is	TOO DANGEROUS : PLEASE COMMENT
</A></li>
        <LI>Next message: <A HREF="019753.html">[Openocd-development] bitbanging ft2232 dongle port from TCL is TOO DANGEROUS : PLEASE COMMENT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19750">[ date ]</a>
              <a href="thread.html#19750">[ thread ]</a>
              <a href="subject.html#19750">[ subject ]</a>
              <a href="author.html#19750">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> &gt;/My objective is not to block feature.Never,never,never ... But we have
</I>&gt;<i> /&gt;/to avoid any trouble in generic ft2232 driver regarding specific layout.
</I>&gt;<i> /&gt;/That's all.
</I>&gt;<i> /&gt;/Your TCL bitbang will control the port of the FTDI from an higher level
</I>&gt;<i> /&gt;/than FT2232.c. OK but you TCL bitbang is specific to the layout used.
</I>&gt;<i> /&gt;/How do you accept or not the use of the TCL procedure, if you do not
</I>&gt;<i> /&gt;/have the notion of layout in this function ???
</I>&gt;<i> /&gt;/You have two solutions: You need to write a specifc driver (), or you
</I>&gt;<i> /&gt;/need to filter the TCL bitbang action in the ft2232 generic driver. The
</I>&gt;<i> /&gt;/filter must be specifc to the open layout ...
</I>&gt;<i> /&gt;/The same is for SRST TRST control. The ft2232.c driver has specific
</I>&gt;<i> /&gt;/functions for SRST TRST regarding layout used ... we have to do this for
</I>&gt;<i> /&gt;/ANY other specific layout signal in the ft2232.c or write a specific
</I>&gt;<i> /&gt;/driver.
</I>&gt;<i> /&gt;/
</I>&gt;<i> /&gt;/I think there is an misunderstanding here.  My reading of Tomek's emails indicates there is a layout specific mechanism to filter which pins can be bitbanged.  The interface config file will define which pins can be bitbanged and how.
</I>&gt;<i> /Is this correct?
</I>&gt;<i>   
</I>It should be, but it is not actually implemented.
Tomek, please confirm.
The bitbang filter mechanism is my suggestion, to avoid any bad io port 
configuration.
To make the thing robust, the bitbang filter mechanism must be 
implemented in the ft2232.c and related to the layout enabled at 
onpenocd initialization. The filter must not be a simple TCL itself, 
since the selected layout at initialization can be bypassed.
Laurent
 <A HREF="http://www.amontec.com/jtagkey.shtml">http://www.amontec.com/jtagkey.shtml</A>
 Amontec JTAGkey-2 USB JTAG Dongles
&gt;<i>
</I>&gt;<i>
</I>&gt;<i> Phil
</I>&gt;<i>   
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019742.html">[Openocd-development] bitbanging ft2232 dongle port from TCL is	TOO DANGEROUS : PLEASE COMMENT
</A></li>
	<LI>Next message: <A HREF="019753.html">[Openocd-development] bitbanging ft2232 dongle port from TCL is TOO DANGEROUS : PLEASE COMMENT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19750">[ date ]</a>
              <a href="thread.html#19750">[ thread ]</a>
              <a href="subject.html#19750">[ subject ]</a>
              <a href="author.html#19750">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
