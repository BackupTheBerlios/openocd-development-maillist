<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 2/5] ft2232:	Refactor	ft2232_init_*() into ft2232_initone()
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%202/5%5D%20ft2232%3A%0A%09Refactor%09ft2232_init_%2A%28%29%20into%20ft2232_initone%28%29&In-Reply-To=%3C20110609222613.30740.qmail%40stuge.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019440.html">
   <LINK REL="Next"  HREF="019443.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 2/5] ft2232:	Refactor	ft2232_init_*() into ft2232_initone()</H1>
    <B>Peter Stuge</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%202/5%5D%20ft2232%3A%0A%09Refactor%09ft2232_init_%2A%28%29%20into%20ft2232_initone%28%29&In-Reply-To=%3C20110609222613.30740.qmail%40stuge.se%3E"
       TITLE="[Openocd-development] [PATCH 2/5] ft2232:	Refactor	ft2232_init_*() into ft2232_initone()">peter at stuge.se
       </A><BR>
    <I>Fri Jun 10 00:26:13 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019440.html">[Openocd-development] [PATCH 2/5] ft2232: Refactor ft2232_init_*() into ft2232_initone()
</A></li>
        <LI>Next message: <A HREF="019443.html">[Openocd-development] [PATCH 2/5] ft2232: Refactor ft2232_init_*() into ft2232_initone()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19441">[ date ]</a>
              <a href="thread.html#19441">[ thread ]</a>
              <a href="subject.html#19441">[ subject ]</a>
              <a href="author.html#19441">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Andreas Fritiofson wrote:
&gt;<i> &gt; +               retval = ft2232_initone(ft2232_vid[i], ft2232_pid[i], more,
</I>&gt;<i> &gt; &amp;try_more);
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> This is a good start, but what's with the function name??
</I>
Short. And one from one device. As opposed to try to init *all*
supported devices, which is what ft2232_init does.


&gt;<i> Another ugliness in my point of view is using the try_more parameter
</I>
Oh for sure. It was like that when I came here. Maybe small steps is
a good idea. Please do send more patches to do further cleanup.


&gt;<i> Seems the message belongs outside the function, making the
</I>&gt;<i> parameter useless.
</I>
Note that I know nothing of the code style in OpenOCD. At least the
ft2232 driver seems to consistently output error messages at the
lowest level in the call stack, as opposed to letting the highest
level (user interface) determine how the error should be handled. I
found this quite awkward, but I wanted to make changes that were
already some improvements over what was there. I am not saying the
patches make things perfect, there's certainly still more to do!


//Peter

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019440.html">[Openocd-development] [PATCH 2/5] ft2232: Refactor ft2232_init_*() into ft2232_initone()
</A></li>
	<LI>Next message: <A HREF="019443.html">[Openocd-development] [PATCH 2/5] ft2232: Refactor ft2232_init_*() into ft2232_initone()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19441">[ date ]</a>
              <a href="thread.html#19441">[ thread ]</a>
              <a href="subject.html#19441">[ subject ]</a>
              <a href="author.html#19441">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
