<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] bitbanging ft2232 dongle port from TCL is TOO DANGEROUS : PLEASE COMMENT
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20bitbanging%20ft2232%20dongle%20port%20from%20TCL%20is%0A%20TOO%20DANGEROUS%20%3A%20PLEASE%20COMMENT&In-Reply-To=%3C4E002EAA.4050706%40amontec.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019705.html">
   <LINK REL="Next"  HREF="019742.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] bitbanging ft2232 dongle port from TCL is TOO DANGEROUS : PLEASE COMMENT</H1>
    <B>Laurent Gauch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20bitbanging%20ft2232%20dongle%20port%20from%20TCL%20is%0A%20TOO%20DANGEROUS%20%3A%20PLEASE%20COMMENT&In-Reply-To=%3C4E002EAA.4050706%40amontec.com%3E"
       TITLE="[Openocd-development] bitbanging ft2232 dongle port from TCL is TOO DANGEROUS : PLEASE COMMENT">laurent.gauch at amontec.com
       </A><BR>
    <I>Tue Jun 21 07:39:54 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019705.html">[Openocd-development] bitbanging ft2232 dongle port from TCL is TOO DANGEROUS : PLEASE COMMENT
</A></li>
        <LI>Next message: <A HREF="019742.html">[Openocd-development] bitbanging ft2232 dongle port from TCL is	TOO DANGEROUS : PLEASE COMMENT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19726">[ date ]</a>
              <a href="thread.html#19726">[ thread ]</a>
              <a href="subject.html#19726">[ subject ]</a>
              <a href="author.html#19726">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 20 Jun 2011 16:37:32 +0000, Tomek CEDRO wrote:
 &gt; Laurent,
 &gt;
 &gt; 1. If you create cable that have ADC onboard (like KT-LINK) then it
 &gt; is
 &gt; easier to write simple TCL script to read ADC than rewrite whole
 &gt; driver in the source code.
Yes, easy but dangerous, because you are layout specific !!!
 &gt;
 &gt; 2. If you need to program I2C, SPI, or other kind of memory, you
 &gt; simply write simple TCL script to do so, no need to rewrite source
 &gt; code from scratch.
Again, layout specific
 &gt;
 &gt; 3. If you care not to short-cirtuit your internal buffers, put 27R
 &gt; resistor in series between FT2232 and buffer output.
27R as protection is not enough ... U=RI P=UI ... at 5V ???
27R are as serial resistor termination not protection ... do not
confuse.
 &gt;
 &gt; 4. No interface has hardcoded signals by default,
Wrong ... it is depending on the configuration of the ft2232 UART or
FIFO ...
 so noone is
 &gt; obligated to use ANY pin configuration for their device. This
 &gt; functionality is meant to be placed inside interface configuration,
 &gt; or
 &gt; work on generic signals defined by the interface configuration (ie
 &gt; LED, RnW, MOSI, MISO, CLK, ...), so yes in fact external scripts also
 &gt; can work with interface-specific configuration :-)
Yes ...
 &gt;
 &gt; 5. I see no reason that non-aware users should block functionalities
 &gt; for people that need them and know how to use them, otherwise we need
 &gt; no development.
My objective is not to block feature.Never,never,never ... But we have
to avoid any trouble in generic ft2232 driver regarding specific layout.
That's all.
Your TCL bitbang will control the port of the FTDI from an higher level
than FT2232.c. OK but you TCL bitbang is specific to the layout used.
How do you accept or not the use of the TCL procedure, if you do not
have the notion of layout in this function ???
You have two solutions: You need to write a specifc driver (), or you
need to filter the TCL bitbang action in the ft2232 generic driver. The
filter must be specifc to the open layout ...
The same is for SRST TRST control. The ft2232.c driver has specific
functions for SRST TRST regarding layout used ... we have to do this for
ANY other specific layout signal in the ft2232.c or write a specific
driver.
 &gt;
 &gt; If you have any additional questions of doubts feel free to ask :-)
How does the ADC controlled from K T ?
 &gt;
 &gt; Regards,
 &gt; Tomek

Laurent
<A HREF="http://www.amontec.com">http://www.amontec.com</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019705.html">[Openocd-development] bitbanging ft2232 dongle port from TCL is TOO DANGEROUS : PLEASE COMMENT
</A></li>
	<LI>Next message: <A HREF="019742.html">[Openocd-development] bitbanging ft2232 dongle port from TCL is	TOO DANGEROUS : PLEASE COMMENT
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19726">[ date ]</a>
              <a href="thread.html#19726">[ thread ]</a>
              <a href="subject.html#19726">[ subject ]</a>
              <a href="author.html#19726">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
