<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Outstanding%20patches%20%3D%3E%20Fix%3A%20Correctly%0A%20exit%20function%3A%20ft2232_init%20when%20an%20error%20occurred&In-Reply-To=%3C4DF22BBA.4050008%40amontec.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019483.html">
   <LINK REL="Next"  HREF="019498.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred</H1>
    <B>Laurent Gauch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Outstanding%20patches%20%3D%3E%20Fix%3A%20Correctly%0A%20exit%20function%3A%20ft2232_init%20when%20an%20error%20occurred&In-Reply-To=%3C4DF22BBA.4050008%40amontec.com%3E"
       TITLE="[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred">laurent.gauch at amontec.com
       </A><BR>
    <I>Fri Jun 10 16:35:38 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019483.html">[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
</A></li>
        <LI>Next message: <A HREF="019498.html">[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19491">[ date ]</a>
              <a href="thread.html#19491">[ thread ]</a>
              <a href="subject.html#19491">[ subject ]</a>
              <a href="author.html#19491">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i> Am 06/10/2011 09:33 AM, schrieb Laurent Gauch:
</I>&gt;<i> &gt;/
</I>&gt;<i> /&gt;&gt;/ &gt;/ Do you have any other ideas on what should be done on ft2232_quit()
</I>&gt;<i> /&gt;&gt;/ /&gt;/ except rtck, hi-z, div5..? I can prepare a patch, or Peter will as I
</I>&gt;<i> /&gt;&gt;/ /&gt;/ can see he is already working out the subject :-)
</I>&gt;<i> /&gt;&gt;/ /
</I>&gt;<i> /&gt;&gt;/
</I>&gt;<i> /&gt;&gt;/ What problem is setting pins to a default state on exit supposed to
</I>&gt;<i> /&gt;&gt;/ solve? Are we sure this is what we want? If I make openocd pull the
</I>&gt;<i> /&gt;&gt;/ reset
</I>&gt;<i> /&gt;&gt;/ line and then quit openocd, I'd expect the target to remain in reset.
</I>&gt;<i> /&gt;&gt;/ If I
</I>&gt;<i> /&gt;&gt;/ quit openocd while the target is running, I'd expect it to keep on
</I>&gt;<i> /&gt;&gt;/ running.
</I>&gt;<i> /&gt;&gt;/ How would that work if we make this change?
</I>&gt;<i> /&gt;/ What do you mean by PULL?
</I>&gt;<i> /&gt;/ If you close the openocd, we have to put both SRST and TRST in High-Z
</I>&gt;<i> /&gt;/ . That's the normal case, any other case are specific to a custom
</I>&gt;<i> /&gt;/ debug procedure.
</I>&gt;<i> /Why *do* we have to do that?
</I>&gt;<i>
</I>&gt;<i> If I quit OpenOCD, I expect the target to stay in the same state as before.
</I>&gt;<i> If it was in reset, I expect it to stay in reset and not start some code
</I>&gt;<i> uncontrolled.
</I>&gt;<i>   
</I>
Yes you're right Michael regarding the state of the TARGET.

Did you already have needed to have SRST to be assert low at the end of 
the openocd to force the SYSTEM RESET on the target board ?
If yes, putting systematically all signal to High-Z at the output of the 
dongle could be a trouble.
But I am not sure it is the 95% of debugging/programming case.

Regards,
Laurent

&gt;<i> cu
</I>&gt;<i> Michael
</I>&gt;<i>   
</I>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019483.html">[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
</A></li>
	<LI>Next message: <A HREF="019498.html">[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19491">[ date ]</a>
              <a href="thread.html#19491">[ thread ]</a>
              <a href="subject.html#19491">[ subject ]</a>
              <a href="author.html#19491">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
