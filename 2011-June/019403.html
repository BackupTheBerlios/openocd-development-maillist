<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Outstanding%20patches%20%3D%3E%20Fix%3A%20Correctly%0A%20exit%20function%3A%20ft2232_init%20when%20an%20error%20occurred&In-Reply-To=%3CBANLkTimme6hGCR4iTb4pqQ75AKvDr12JcQ%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019387.html">
   <LINK REL="Next"  HREF="019405.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred</H1>
    <B>Andreas Fritiofson</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Outstanding%20patches%20%3D%3E%20Fix%3A%20Correctly%0A%20exit%20function%3A%20ft2232_init%20when%20an%20error%20occurred&In-Reply-To=%3CBANLkTimme6hGCR4iTb4pqQ75AKvDr12JcQ%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred">andreas.fritiofson at gmail.com
       </A><BR>
    <I>Thu Jun  9 00:52:02 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019387.html">[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
</A></li>
        <LI>Next message: <A HREF="019405.html">[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19403">[ date ]</a>
              <a href="thread.html#19403">[ thread ]</a>
              <a href="subject.html#19403">[ subject ]</a>
              <a href="author.html#19403">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jun 7, 2011 at 5:19 PM, Andreas Fritiofson &lt;
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">andreas.fritiofson at gmail.com</A>&gt; wrote:

&gt;<i>
</I>&gt;<i> I suggest to drop this patch and merge a simpler fix for the problem
</I>&gt;<i> adressed by this patch. Only a few lines of code would need to change.
</I>&gt;<i>
</I>&gt;<i>
</I>Attached is such a patch. The benefit over Tomek's patch is that it frees
not only the allocated buffer but also closes the ftdi handle (as was done
in the original patch). Plus I'm not very fond of the
&quot;infinite-loop-that's-not-actually-a-loop-at-all&quot; along with the extra
indentation. This patch doesn't use gotos either but another (perhaps even
more) neglected construct, like it or not. :)

/Andreas
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110609/fa3cc9e4/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20110609/fa3cc9e4/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-ft2232-clean-up-on-error-in-ft2232_init.patch
Type: text/x-patch
Size: 2968 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110609/fa3cc9e4/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20110609/fa3cc9e4/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019387.html">[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
</A></li>
	<LI>Next message: <A HREF="019405.html">[Openocd-development] Outstanding patches =&gt; Fix: Correctly exit function: ft2232_init when an error occurred
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19403">[ date ]</a>
              <a href="thread.html#19403">[ thread ]</a>
              <a href="subject.html#19403">[ subject ]</a>
              <a href="author.html#19403">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
