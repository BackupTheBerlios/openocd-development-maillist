<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] openocd-swd merging
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20openocd-swd%20merging&In-Reply-To=%3CBANLkTi%3DRdGDoi%3DoJ0tV09SCeBfQ%2BJOAAuw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019584.html">
   <LINK REL="Next"  HREF="019586.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] openocd-swd merging</H1>
    <B>Rodrigo Rosa</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20openocd-swd%20merging&In-Reply-To=%3CBANLkTi%3DRdGDoi%3DoJ0tV09SCeBfQ%2BJOAAuw%40mail.gmail.com%3E"
       TITLE="[Openocd-development] openocd-swd merging">rodrigorosa.lg at gmail.com
       </A><BR>
    <I>Tue Jun 14 21:12:30 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019584.html">[Openocd-development] imx21adse.cfg for OpenOCD
</A></li>
        <LI>Next message: <A HREF="019586.html">[Openocd-development] openocd-swd merging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19585">[ date ]</a>
              <a href="thread.html#19585">[ thread ]</a>
              <a href="subject.html#19585">[ subject ]</a>
              <a href="author.html#19585">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>hi!

i've spamming tomek's personal email, switching to here to share a bit more :)

i'm having some problems with the opencd-swd branch.

i had to copy aclocal and other stuff from /usr/share/ to
/usr/local/share/ to get bootstrap to work correctly. this is probably
because of freeBSD vs LSD stuff (don't know much about the
differences)

these patches are based on  the openocd-swd branch at
<A HREF="git://repo.or.cz/openocd/libswd.git:">git://repo.or.cz/openocd/libswd.git:</A>

0001-edits-to-compile:
this patch is what i need to do after:
git clone -b openocd-swd <A HREF="git://repo.or.cz/openocd/libswd.git">git://repo.or.cz/openocd/libswd.git</A> test_swd
to get stuff to compile.

0002-added-my-test-stuff.patch
this is some code i added/modified to test my stuff.
it basically adds a copy of the ktlink_swd but with a different name.
the plan was to play around with it to get it to suite my needs.

at this point i can get the pre-swd stuff working, but when trying to
use the interface minimodule_swd.cfg i get a runtime error:
  ../tcl/target/dsp568013.cfg:29: invalid command name &quot;jtag&quot;
  in procedure 'script'
  at file &quot;embedded:startup.tcl&quot;, line 58
  at file &quot;../tcl/target/dsp568013.cfg&quot;, line 29

the same target config works fine with a ft2232 layout instead of a
ft2232_swd layout (for example minimodule.cfg).

my system:
cat /proc/version
  Linux version 2.6.32-32-generic (<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">buildd at roseapple</A>) (gcc version
4.4.3 (Ubuntu 4.4.3-4ubuntu5) ) #62-Ubuntu SMP Wed Apr 20 21:54:21 UTC
2011
cat /etc/issue
  Ubuntu 10.04.2 LTS \n \l

any ideas on how to debug this?
i'm finding it hard to get to the error, not sure how to dig down from
the tcl layer.

thanks!

-- 
Rodrigo.
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0001-edits-to-compile.patch
Type: application/octet-stream
Size: 2289 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110614/8b8f3db8/attachment.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20110614/8b8f3db8/attachment.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0002-added-my-test-stuff.patch
Type: application/octet-stream
Size: 6924 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110614/8b8f3db8/attachment-0001.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20110614/8b8f3db8/attachment-0001.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019584.html">[Openocd-development] imx21adse.cfg for OpenOCD
</A></li>
	<LI>Next message: <A HREF="019586.html">[Openocd-development] openocd-swd merging
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19585">[ date ]</a>
              <a href="thread.html#19585">[ thread ]</a>
              <a href="subject.html#19585">[ subject ]</a>
              <a href="author.html#19585">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
