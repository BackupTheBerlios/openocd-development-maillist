<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2012-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.55.1331735908.7537.openocd-development%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009717.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.55.1331735908.7537.openocd-development%40lists.berlios.de%3E"
       TITLE="No subject">
       </A><BR>
    <I>Wed Mar 14 15:36:47 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="009717.html">No subject
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9817">[ date ]</a>
              <a href="thread.html#9817">[ thread ]</a>
              <a href="subject.html#9817">[ subject ]</a>
              <a href="author.html#9817">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>=97 Flash Driver: *lpc2000*

Most members of the LPC2000 microcontroller family from NXP include interna=
l
flash and use ARM7TDMI cores. The lpc2000 driver defines two mandatory and
one optional parameters, which must appear in the following order:

   - variant ... required, may be lpc2000_v1 (older LPC21xx and LPC22xx) or
   lpc2000_v2 (LPC213x, LPC214x, LPC210[123], LPC23xx and LPC24xx)
   - clock_kHz ... the frequency, in kiloHertz, at which the core is runnin=
g

   - calc_checksum ... optional (but you probably want to provide this!),
   telling the driver to calculate a valid checksum for the exception vecto=
r
   table.

LPC flashes don't require the chip and bus width to be specified.

          flash bank lpc2000 0x0 0x7d000 0 0 $_TARGETNAME \
                lpc2000_v2 14765 calc_checksum


Based on the manual should the flash bank command contain lpc2000_v1 instea=
d
of lpc2000_v2?


-Ananda

--001636163cf5e99a0c0470077116
Content-Type: text/html; charset=windows-1252
Content-Transfer-Encoding: quoted-printable

The flash bank command in the LPC2103 configuration file(target/lpc2103.cfg=
) looks like the follwing:&lt;br&gt;&lt;br&gt;&lt;div style=3D&quot;margin-left: 40px;&quot;&gt;# 32kB =
of internal Flash, core clocked with 12MHz crystal&lt;br&gt;# flash bank lpc2000 =
&lt;base&gt; &lt;size&gt; 0 0 &lt;target#&gt; &lt;variant&gt; &lt;clock&gt;=
 [calc_checksum]&lt;br&gt;
flash bank lpc2000 0x0 0x8000 0 0 0 lpc2000_v2 12000 calc_checksum&lt;br&gt;&lt;/div=
&gt;<i>&lt;br&gt;From OpenOcd online manual:&lt;br&gt;&lt;div style=3D&quot;margin-left: 40px;&quot;&gt;=97 F=
</I>lash Driver: &lt;b&gt;lpc2000&lt;/b&gt;&lt;var&gt;&lt;a name=3D&quot;index-lpc2000-171&quot;&gt;&lt;/a&gt;&lt;/var&gt;&lt;br=
&gt;<i>&lt;/div&gt;
</I>
&lt;p style=3D&quot;margin-left: 40px;&quot;&gt;Most members of the LPC2000 microcontroller=
 family from NXP
include internal flash and use ARM7TDMI cores.=20
The &lt;var&gt;lpc2000&lt;/var&gt; driver defines two mandatory and one optional parame=
ters,
which must appear in the following order:

          &lt;/p&gt;&lt;ul style=3D&quot;margin-left: 40px;&quot;&gt;&lt;li&gt;&lt;var&gt;variant&lt;/var&gt; ... r=
equired, may be
&lt;var&gt;lpc2000_v1&lt;/var&gt; (older LPC21xx and LPC22xx)
or &lt;var&gt;lpc2000_v2&lt;/var&gt; (LPC213x, LPC214x, LPC210[123], LPC23xx and LPC24x=
x)
&lt;/li&gt;&lt;li&gt;&lt;var&gt;clock_kHz&lt;/var&gt; ... the frequency, in kiloHertz,
at which the core is running
&lt;/li&gt;&lt;li&gt;&lt;var&gt;calc_checksum&lt;/var&gt; ... optional (but you probably want to pr=
ovide this!),
telling the driver to calculate a valid checksum for the exception vector t=
able.=20
&lt;/li&gt;&lt;/ul&gt;

     &lt;p style=3D&quot;margin-left: 40px;&quot;&gt;LPC flashes don&#39;t require the chip=
 and bus width to be specified.

     &lt;/p&gt;&lt;pre style=3D&quot;margin-left: 40px;&quot; class=3D&quot;example&quot;&gt;          flas=
h bank lpc2000 0x0 0x7d000 0 0 $_TARGETNAME \&lt;br&gt;                lpc2000_v2=
 14765 calc_checksum&lt;br&gt;&lt;/pre&gt;&lt;br&gt;Based on the manual should the flash bank=
 command contain lpc2000_v1 instead of lpc2000_v2?&lt;br&gt;
&lt;br&gt;&lt;br&gt;-Ananda&lt;br&gt;

--001636163cf5e99a0c0470077116--

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009717.html">No subject
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9817">[ date ]</a>
              <a href="thread.html#9817">[ thread ]</a>
              <a href="subject.html#9817">[ subject ]</a>
              <a href="author.html#9817">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
