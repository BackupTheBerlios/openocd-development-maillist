<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> No subject
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2012-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.19.1331735851.7537.openocd-development%40lists.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000392.html">
   <LINK REL="Next"  HREF="005017.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>No subject</H1>
    <B></B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20No%20subject&In-Reply-To=%3Cmailman.19.1331735851.7537.openocd-development%40lists.berlios.de%3E"
       TITLE="No subject">
       </A><BR>
    <I>Wed Mar 14 15:36:47 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000392.html">No subject
</A></li>
        <LI>Next message: <A HREF="005017.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4280">[ date ]</a>
              <a href="thread.html#4280">[ thread ]</a>
              <a href="subject.html#4280">[ subject ]</a>
              <a href="author.html#4280">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>DBGACK and DBG_STATUS?

I hope it does not have anything to do with my board not supporting the
DBGRQ and DBGACK JTAG pins. These are disconnected. The board uses MiniJTAG
it has all the pins but those two.

Let me know if anybody knows how to properly enable this non-cfi
functionality. Thanks


On Tue, Dec 30, 2008 at 6:07 PM, Orlando &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">orlcp440 at gmail.com</A>&gt; wrote:

&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> Does anybody know when OpenOCD is going to support SST &quot;CFI&quot; flash? I have
</I>&gt;<i> a development board based on the s3c2440 ARM9 processor and it uses a 2MB
</I>&gt;<i> SST flash. It says that it is CFI compatible but obviously that is not
</I>&gt;<i> entirely true.
</I>&gt;<i>
</I>
------=_Part_37475_14188404.1230697777556
Content-Type: text/html; charset=ISO-8859-1
Content-Transfer-Encoding: 7bit
Content-Disposition: inline

&lt;div&gt;I looked through the source code and found this out&lt;/div&gt;
&lt;div&gt;SVN Revision 155 of cfi.c&lt;/div&gt;
&lt;div&gt;&nbsp;&lt;/div&gt;
&lt;div&gt;- added support for non-CFI compatible flashes to cfi driver (currently only SST39VFxxx devices supported)&lt;br&gt;This checkin is experimental, not suitable for general use&lt;/div&gt;
&lt;div&gt;&nbsp;&lt;/div&gt;
&lt;div&gt;That is great because my&nbsp;flash memory chip is a 39VF1601. How can I enable this feature? I tried modifying the source code and&nbsp;changed&nbsp;&lt;/div&gt;
&lt;div&gt;cfi_info-&gt;not_cfi =&nbsp;0; to cfi_info-&gt;not_cfi = 1;&nbsp;&lt;/div&gt;
&lt;div&gt;That partially did the trick since now&nbsp;OpenOCD seems to recognize my flash but I get an error as well&nbsp;and none of the flash functions work. This is the message I get&lt;/div&gt;
&lt;div&gt;&gt; flash probe 0&lt;br&gt;cfi primary command set 0 unsupported&lt;br&gt;flash &#39;cfi&#39; found at 0x00000000&lt;/div&gt;
&lt;div&gt;&nbsp;&lt;/div&gt;
&lt;div&gt;I do not know what it means by command set 0 unsupported. then I tried&lt;/div&gt;
&lt;div&gt;&gt; flash info 0&lt;br&gt;#0: cfi at 0x00000000, size 0x00200000, buswidth 2, chipwidth 2&lt;br&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #&nbsp; 0: 0x00000000 (0x200000 2048kB) protection state unknown&lt;/div&gt;
&lt;div&gt;cfi flash bank not probed yet&lt;/div&gt;
&lt;div&gt;&nbsp;&lt;/div&gt;
&lt;div&gt;Not proved yet? How come? I tried a flash erase check like this&lt;/div&gt;
&lt;div&gt;&gt; flash erase_check 0&lt;br&gt;timeout waiting for SYSCOMP &amp; DBGACK, last DBG_STATUS: 5&lt;br&gt;Running slow fallback erase check - add working memory&lt;br&gt;timeout waiting for SYSCOMP &amp; DBGACK, last DBG_STATUS: 5&lt;br&gt;unknown error when checking erase state of flash bank #0 at 0x00000000&lt;br&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #&nbsp; 0: 0x00000000 (0x200000 2048kB) erased&lt;/div&gt;
&lt;div&gt;&nbsp;&lt;/div&gt;
&lt;div&gt;From here on I keep getting these errors. Until I reboot. What is this DBGACK and DBG_STATUS?&lt;/div&gt;
&lt;div&gt;&nbsp;&lt;/div&gt;
&lt;div&gt;I hope it does not have anything to do with my board not supporting the DBGRQ and DBGACK JTAG pins. These are disconnected. The board uses MiniJTAG it has all the pins but those two.&lt;/div&gt;
&lt;div&gt;&nbsp;&lt;/div&gt;
&lt;div&gt;Let me know if anybody knows how to properly enable this non-cfi functionality. Thanks&lt;br&gt;&lt;br&gt;&nbsp;&lt;/div&gt;
&lt;div class=&quot;gmail_quote&quot;&gt;On Tue, Dec 30, 2008 at 6:07 PM, Orlando &lt;span dir=&quot;ltr&quot;&gt;&lt;&lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">orlcp440 at gmail.com</A>&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">orlcp440 at gmail.com</A>&lt;/a&gt;&gt;&lt;/span&gt; wrote:&lt;br&gt;
&lt;blockquote class=&quot;gmail_quote&quot; style=&quot;PADDING-LEFT: 1ex; MARGIN: 0px 0px 0px 0.8ex; BORDER-LEFT: #ccc 1px solid&quot;&gt;
&lt;div&gt;Hello,&lt;/div&gt;
&lt;div&gt;&nbsp;&lt;/div&gt;
&lt;div&gt;Does anybody know when OpenOCD is going to support SST &quot;CFI&quot; flash? I have a development board based on the s3c2440 ARM9 processor and it uses a 2MB SST flash. It says that it is CFI compatible but obviously that is not entirely true.&lt;/div&gt;
&lt;/blockquote&gt;&lt;/div&gt;&lt;br&gt;

------=_Part_37475_14188404.1230697777556--

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000392.html">No subject
</A></li>
	<LI>Next message: <A HREF="005017.html">No subject
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4280">[ date ]</a>
              <a href="thread.html#4280">[ thread ]</a>
              <a href="subject.html#4280">[ subject ]</a>
              <a href="author.html#4280">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
