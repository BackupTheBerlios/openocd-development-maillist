<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] patch: further telnet improvements
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20patch%3A%20further%20telnet%20improvements&In-Reply-To=%3C47D63EA9.2060708%40asix.cz%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001541.html">
   <LINK REL="Next"  HREF="001543.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] patch: further telnet improvements</H1>
    <B>Pavel Chromy</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20patch%3A%20further%20telnet%20improvements&In-Reply-To=%3C47D63EA9.2060708%40asix.cz%3E"
       TITLE="[Openocd-development] patch: further telnet improvements">chromy at asix.cz
       </A><BR>
    <I>Tue Mar 11 09:11:21 CET 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="001541.html">[Openocd-development] end_state is now tracked entirely in the	jtag_xxxx() layer
</A></li>
        <LI>Next message: <A HREF="001543.html">[Openocd-development] patch: further telnet improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1542">[ date ]</a>
              <a href="thread.html#1542">[ thread ]</a>
              <a href="subject.html#1542">[ subject ]</a>
              <a href="author.html#1542">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello list,

- line_size is checked against buffer size, leaving spare place for null termination,
  so that buffer overflow does not occur if a key gets stuck ;-)

- history is not flooded if the same command is repeated, line is added to history only
  if it differs from previous one

- &quot;history&quot; pseudo-command now prints out the lines in chronological order even if the history was rolled over,
  the &quot;to be stored&quot; history entry contains an empty string, omitted when printing

- some more tweaking of the async output, -1 value in line_cursor indicates that there is no prompt
  during command execution (in fact, there is no command line that time at all),
  so that log callback routine does not try to erase/restore it

- some formatting - tab indentation, trailing whitespaces removed

summary: telnet line buffer size checking, history does not store repeating lines, improved history printing, log callback tweak

Please commit.

Regards,
  Pavel
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: telnet_history.patch
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20080311/bc87e5e2/attachment.ksh">https://lists.berlios.de/pipermail/openocd-development/attachments/20080311/bc87e5e2/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001541.html">[Openocd-development] end_state is now tracked entirely in the	jtag_xxxx() layer
</A></li>
	<LI>Next message: <A HREF="001543.html">[Openocd-development] patch: further telnet improvements
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1542">[ date ]</a>
              <a href="thread.html#1542">[ thread ]</a>
              <a href="subject.html#1542">[ subject ]</a>
              <a href="author.html#1542">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
