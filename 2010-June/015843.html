<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Using multiple FLOSS-JTAGs at the same time
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-June/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Using%20multiple%20FLOSS-JTAGs%20at%20the%20same%0A%20time&In-Reply-To=%3C4C144852.1040602%40solidgoldbomb.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015842.html">
   <LINK REL="Next"  HREF="015844.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Using multiple FLOSS-JTAGs at the same time</H1>
    <B>Stacey Sheldon</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Using%20multiple%20FLOSS-JTAGs%20at%20the%20same%0A%20time&In-Reply-To=%3C4C144852.1040602%40solidgoldbomb.org%3E"
       TITLE="[Openocd-development] Using multiple FLOSS-JTAGs at the same time">stac at solidgoldbomb.org
       </A><BR>
    <I>Sun Jun 13 04:54:10 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015842.html">[Openocd-development] Using multiple FLOSS-JTAGs at the same	time
</A></li>
        <LI>Next message: <A HREF="015844.html">[Openocd-development] Using multiple FLOSS-JTAGs at the same	time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15843">[ date ]</a>
              <a href="thread.html#15843">[ thread ]</a>
              <a href="subject.html#15843">[ subject ]</a>
              <a href="author.html#15843">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Xiaofan Chen wrote:
&gt;<i> On Sun, Jun 13, 2010 at 8:22 AM, Stacey Sheldon &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">stac at solidgoldbomb.org</A>&gt; wrote:
</I>&gt;&gt;<i> This patch provides a way to use their unique usb bus address to
</I>&gt;&gt;<i> distinguish them from one another.  I've been using it successfully
</I>&gt;&gt;<i> for a few days.  This concept is probably generalizable for other
</I>&gt;&gt;<i> inexpensive USB JTAGs without serial numbers but I've only got FT2232
</I>&gt;&gt;<i> based ones to work with so this patch only applies to FT2232 devices.
</I>&gt;<i> 
</I>&gt;<i> The patch probably will not work under Windows. Have you
</I>&gt;<i> tested it under Windows?
</I>&gt;<i> 
</I>
I don't have a windows machine so I'm unable to test my changes in that
environment.  This has been tested on ubuntu 9.10 (karmic).  If it
doesn't work on windows, I can try to adapt the changes so that it does
but I'll probably need some help from someone who can test/provide feedback.

Were there specific parts of the patch that definitely won't work on
windows?

&gt;<i>From reading the docs, I had concluded that the existing strategy for
</I>dealing with windows/linux compatibility for usb device access was to
use libusb.  If that's not the case then there's probably no chance that
this patch will work on windows.

Wherever possible, I've used publicly exported APIs from libftdi and
whenever I needed to dig into struct usb_device and struct usb_bus, I
only used struct members that are defined in both libusb[1] and
libusb-win32[2].  I'd say there's at least a decent chance that it's
portable anywhere libusb is available.  At least anything in the libusb
0.1.x release stream which appears to be the suggested one for openocd
according to README.Win32.

In the libusb 1.0 release stream, it looks like the bus number and the
device address are formally exposed through these API functions:
  libusb_get_bus_number()
  libusb_get_device_address()
The 1.0 libraries are available on ubuntu but I didn't see any mention
of the 1.0 series being available on windows.

What version of libusb are you using?

Stacey.

[1] <A HREF="http://www.libusb.org/browser/libusb-compat-0.1/libusb/usb.h">http://www.libusb.org/browser/libusb-compat-0.1/libusb/usb.h</A>
[2] <A HREF="http://sf.net/apps/trac/libusb-win32/browser/trunk/libusb/src/usb.h">http://sf.net/apps/trac/libusb-win32/browser/trunk/libusb/src/usb.h</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015842.html">[Openocd-development] Using multiple FLOSS-JTAGs at the same	time
</A></li>
	<LI>Next message: <A HREF="015844.html">[Openocd-development] Using multiple FLOSS-JTAGs at the same	time
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15843">[ date ]</a>
              <a href="thread.html#15843">[ thread ]</a>
              <a href="subject.html#15843">[ subject ]</a>
              <a href="author.html#15843">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
