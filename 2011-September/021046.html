<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Problem loading application from GDB over APB	(DAP AP 1)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Problem%20loading%20application%20from%20GDB%20over%20APB%0A%09%28DAP%20AP%201%29&In-Reply-To=%3C4E82E3F8.1090303%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021060.html">
   <LINK REL="Next"  HREF="021047.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Problem loading application from GDB over APB	(DAP AP 1)</H1>
    <B>Karl Kurbjun</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Problem%20loading%20application%20from%20GDB%20over%20APB%0A%09%28DAP%20AP%201%29&In-Reply-To=%3C4E82E3F8.1090303%40gmail.com%3E"
       TITLE="[Openocd-development] Problem loading application from GDB over APB	(DAP AP 1)">kkurbjun at gmail.com
       </A><BR>
    <I>Wed Sep 28 11:08:08 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="021060.html">[Openocd-development] software breakpoint with multicore systems
</A></li>
        <LI>Next message: <A HREF="021047.html">[Openocd-development] Problem loading application from GDB over	APB (DAP AP 1)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21046">[ date ]</a>
              <a href="thread.html#21046">[ thread ]</a>
              <a href="subject.html#21046">[ subject ]</a>
              <a href="author.html#21046">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I have an A9 target where the memory map visible over the AHB versus 
what is visible to the processor is slightly different.

On this target the lower 512 kByte block of DDR is not accessible from 
the AHB, but the processor is able to see it through the L2 controller.  
In order to access this memory I can tell OpenOCD to use the APB DAP 
port (&quot;dap apsel 1&quot;) thanks to Luca's work.  With that I am able to read 
and write to the memory without trouble within OpenOCD.

While it works within OpenOCD, I run into problems when I try to connect 
and start debugging with GDB.  I cannot load the application through GDB 
without getting messages like the following:

&quot;Ignoring packet error, continuing...&quot;

after loading if I try to set a breakpoint (&quot;b main&quot;) I get the 
following message:

&quot;Reply contains invalid hex digit 79&quot;

To make sure that this was not a target specific issue I also verified 
that this fails on the Pandaboard as well.  I attached a -d3 log from 
openocd when trying this out on the Pandaboard.

If I do not modify the AP used by the DAP (leave it to use the AHB) 
prior to trying to load the application in GDB on the Pandaboard 
everything works fine.

Does anyone have any suggestions on what might be causing this failure 
while using the APB interface?

Thanks,
Karl
-------------- next part --------------
An embedded and charset-unspecified text was scrubbed...
Name: logfail
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110928/f67b526a/attachment.ksh">https://lists.berlios.de/pipermail/openocd-development/attachments/20110928/f67b526a/attachment.ksh</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021060.html">[Openocd-development] software breakpoint with multicore systems
</A></li>
	<LI>Next message: <A HREF="021047.html">[Openocd-development] Problem loading application from GDB over	APB (DAP AP 1)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21046">[ date ]</a>
              <a href="thread.html#21046">[ thread ]</a>
              <a href="subject.html#21046">[ subject ]</a>
              <a href="author.html#21046">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
