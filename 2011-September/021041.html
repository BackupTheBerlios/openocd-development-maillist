<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] software breakpoint with multicore systems
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20software%20breakpoint%20with%20multicore%20systems&In-Reply-To=%3CA3217089E06965468FCEC60ADC3A8F92589078307D%40EXDCVYMBSTM006.EQ1STM.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021032.html">
   <LINK REL="Next"  HREF="021060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] software breakpoint with multicore systems</H1>
    <B>Michel JAOUEN</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20software%20breakpoint%20with%20multicore%20systems&In-Reply-To=%3CA3217089E06965468FCEC60ADC3A8F92589078307D%40EXDCVYMBSTM006.EQ1STM.local%3E"
       TITLE="[Openocd-development] software breakpoint with multicore systems">michel.jaouen at stericsson.com
       </A><BR>
    <I>Tue Sep 27 09:34:40 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="021032.html">[Openocd-development] software breakpoint with multicore systems
</A></li>
        <LI>Next message: <A HREF="021060.html">[Openocd-development] software breakpoint with multicore systems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21041">[ date ]</a>
              <a href="thread.html#21041">[ thread ]</a>
              <a href="subject.html#21041">[ subject ]</a>
              <a href="author.html#21041">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,
When I implemented the smp, I focused on hardware breakpoints.
And later on , I noticed that the behavior was incorrect for software breakpoints (as you mentioned)
For software breakpoints, I was planning to  :

*         Create in target an addionnal field swbrk_target ,

*         This field will be initialized at  smp init, by selecting a dedicated target

In the smp list (i.e according to core id number) ,

*         And the the software breakpoint will be added/removed by using the swbrk_target , when smp is set to one.

Best Regards
Michel JAOUEN



From: <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development-bounces at lists.berlios.de</A> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development-bounces at lists.berlios.de</A>] On Behalf Of James Zhao
Sent: Monday, September 26, 2011 11:54 PM
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development at lists.berlios.de</A>
Subject: [Openocd-development] software breakpoint with multicore systems

I am not sure if this is a bug or I have misunderstood something the code, but there seems to be a problem with software breakpoints.
When adding a software breakpoint, the function breakpoint_add() would add a breakpoint to all targets, if smp is on.
But since software breakpoints are done but replacing the instruction at the memory address with something to break when run, then why do we need to do this for all the cores, isn't once enough?

James

________________________________
This email message is for the sole use of the intended recipient(s) and may contain confidential information.  Any unauthorized review, use, disclosure or distribution is prohibited.  If you are not the intended recipient, please contact the sender by reply email and destroy all copies of the original message.
________________________________
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110927/34fb0be6/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20110927/34fb0be6/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021032.html">[Openocd-development] software breakpoint with multicore systems
</A></li>
	<LI>Next message: <A HREF="021060.html">[Openocd-development] software breakpoint with multicore systems
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21041">[ date ]</a>
              <a href="thread.html#21041">[ thread ]</a>
              <a href="subject.html#21041">[ subject ]</a>
              <a href="author.html#21041">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
