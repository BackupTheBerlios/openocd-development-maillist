<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] NEC V850 Core
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20NEC%20V850%20Core&In-Reply-To=%3C19CA9E279FDA5246B7D7A1C91A4AF7F45326EC%40dealogicserver.DEALogic.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007419.html">
   <LINK REL="Next"  HREF="007423.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] NEC V850 Core</H1>
    <B>Nico Coesel</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20NEC%20V850%20Core&In-Reply-To=%3C19CA9E279FDA5246B7D7A1C91A4AF7F45326EC%40dealogicserver.DEALogic.nl%3E"
       TITLE="[Openocd-development] NEC V850 Core">ncoesel at DEALogic.nl
       </A><BR>
    <I>Thu May 28 09:17:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007419.html">[Openocd-development] NEC V850 Core
</A></li>
        <LI>Next message: <A HREF="007423.html">[Openocd-development] NEC V850 Core
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7421">[ date ]</a>
              <a href="thread.html#7421">[ thread ]</a>
              <a href="subject.html#7421">[ subject ]</a>
              <a href="author.html#7421">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> -----Oorspronkelijk bericht-----
</I>&gt;<i> Van: <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development-bounces at lists.berlios.de</A> 
</I>&gt;<i> [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development-bounces at lists.berlios.de</A>] Namens 
</I>&gt;<i> Michel Catudal
</I>&gt;<i> Verzonden: donderdag 28 mei 2009 5:33
</I>&gt;<i> Aan: Duane Ellis; openocd-development
</I>&gt;<i> Onderwerp: Re: [Openocd-development] NEC V850 Core
</I>&gt;<i> 
</I>&gt;<i> Duane Ellis a &#233;crit :
</I>&gt;<i> &gt; **THIS*IS*OFF*LIST**
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;&gt; The context switching in the NEC devices has no match. 
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Really, I'd like to see how you do this, in a pre-empt 
</I>&gt;<i> context switch 
</I>&gt;<i> &gt; there are lots of registers to save, do you have a *specific* NEC 
</I>&gt;<i> &gt; support group you work with? I'd like a name or two, local 
</I>&gt;<i> guys here 
</I>&gt;<i> &gt; are clue-less. Factory guy came in 5 months ago, gave us a training 
</I>&gt;<i> &gt; session about PM Plus not able to answer questions I had.
</I>&gt;<i> &gt;
</I>&gt;<i> This is not something a salesman is telling me but actual 
</I>&gt;<i> data from NEC where they compare the AR7TDMI, Cortex-M3 and 
</I>&gt;<i> V850ES According to their chart, an interrupt takes 24 cycles 
</I>&gt;<i> for ARM7TDMI, 12 for Cortex-M3 and 4 for their new V850ES.
</I>
I don't understand why there is so much emphasis on the number of cycles it takes to get into an interrupt. Sounds more like a sales pitch to me. If your software and hardware is designed well, the number of interrupts is few and a lot is done inside an interrupt routine. In  other words: the number of cycles to get into an interrupt is usually neglegible compared against the number of cycles it takes to actually execute the interrupt service routine. Also, it is very hard to have a fixed time between the interrupt and entering the interrupt service routine. Other interrupts may be pending or some instructions may take longer. The hardware should allow for delayed interrupts without going up in smoke. Hence, the number of cycles it takes to enter the interrupt service routine becomes less relevant anyway.

I did a design with an LPC2000 series controller (ARM7TDMI) from NXP in which I used a 300kHz timer interrupt to implement a DC-DC converter in software (voltage control and cycle-by-cycle current limitting). I didn't need to use the FIQ (fast interrupt) or assembly code. The timing isn't really critical because the LPC2000 has some really nifty features in its hardware. Heck, its all ARM 16 bit thumb code too. Anyway, just get as much mips as you can. 

The V850 sounds like a hard to get part to me if you're not buying large quantities. I'd stick with an ARM controller. There is a lot of choice and moving to another manufacturer doesn't require to learn a whole new toolchain and CPU.

Nico Coesel


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007419.html">[Openocd-development] NEC V850 Core
</A></li>
	<LI>Next message: <A HREF="007423.html">[Openocd-development] NEC V850 Core
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7421">[ date ]</a>
              <a href="thread.html#7421">[ thread ]</a>
              <a href="subject.html#7421">[ subject ]</a>
              <a href="author.html#7421">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
