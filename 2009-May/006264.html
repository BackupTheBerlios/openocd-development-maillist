<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Amontec JTAGkey issues
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Amontec%20JTAGkey%20issues&In-Reply-To=%3C37367b3a0905080612u2f24d2f3ube89e1c43df78830%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006267.html">
   <LINK REL="Next"  HREF="006372.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Amontec JTAGkey issues</H1>
    <B>Alan Carvalho de Assis</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Amontec%20JTAGkey%20issues&In-Reply-To=%3C37367b3a0905080612u2f24d2f3ube89e1c43df78830%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Amontec JTAGkey issues">acassis at gmail.com
       </A><BR>
    <I>Fri May  8 15:12:46 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006267.html">[Openocd-development] Performance work for arm7tdmi.c
</A></li>
        <LI>Next message: <A HREF="006372.html">[Openocd-development] Amontec JTAGkey issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6264">[ date ]</a>
              <a href="thread.html#6264">[ thread ]</a>
              <a href="subject.html#6264">[ subject ]</a>
              <a href="author.html#6264">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi list,

I am trying to get an Amontec JTAGkey working with OpenOCD on Ubuntu
8.10, but I have no success.

I tried too old revision as 516 with no success, I followed this tutorial:
<A HREF="http://docs.tinyos.net/index.php/OpenOCD_for_IMote2">http://docs.tinyos.net/index.php/OpenOCD_for_IMote2</A>

I used libftd2xx0.4.16.tar.gz, but tested also 0.4.15 and 0.4.13, the
the error is the same:

Error:   jtag.c:1291 jtag_examine_chain(): JTAG communication failure,
check connection, JTAG interface, target power etc.

I was thinking JTAGkey had better support than J-Link, but J-Link at
least can to detect my board.

The Linux host appear to detect the interface correctly (see below),
but OpenOCD can't to communicate with it.

Any comments or suggestion will be appreciated.

Best Regards,

Alan

# lsusb -d 0403:cff8 -v

Bus 005 Device 002: ID 0403:cff8 Future Technology Devices International, Ltd
Device Descriptor:
  bLength                18
  bDescriptorType         1
  bcdUSB               2.00
  bDeviceClass            0 (Defined at Interface level)
  bDeviceSubClass         0
  bDeviceProtocol         0
  bMaxPacketSize0         8
  idVendor           0x0403 Future Technology Devices International, Ltd
  idProduct          0xcff8
  bcdDevice            5.00
  iManufacturer           1 Amontec
  iProduct                2 Amontec JTAGkey
  iSerial                 3 40S35QIJ
  bNumConfigurations      1
  Configuration Descriptor:
    bLength                 9
    bDescriptorType         2
    wTotalLength           55
    bNumInterfaces          2
    bConfigurationValue     1
    iConfiguration          0
    bmAttributes         0x80
      (Bus Powered)
    MaxPower              100mA
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        0
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              2 Amontec JTAGkey
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x81  EP 1 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x02  EP 2 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
    Interface Descriptor:
      bLength                 9
      bDescriptorType         4
      bInterfaceNumber        1
      bAlternateSetting       0
      bNumEndpoints           2
      bInterfaceClass       255 Vendor Specific Class
      bInterfaceSubClass    255 Vendor Specific Subclass
      bInterfaceProtocol    255 Vendor Specific Protocol
      iInterface              2 Amontec JTAGkey
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x83  EP 3 IN
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
      Endpoint Descriptor:
        bLength                 7
        bDescriptorType         5
        bEndpointAddress     0x04  EP 4 OUT
        bmAttributes            2
          Transfer Type            Bulk
          Synch Type               None
          Usage Type               Data
        wMaxPacketSize     0x0040  1x 64 bytes
        bInterval               0
Device Status:     0x0000
  (Bus Powered)

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006267.html">[Openocd-development] Performance work for arm7tdmi.c
</A></li>
	<LI>Next message: <A HREF="006372.html">[Openocd-development] Amontec JTAGkey issues
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6264">[ date ]</a>
              <a href="thread.html#6264">[ thread ]</a>
              <a href="subject.html#6264">[ subject ]</a>
              <a href="author.html#6264">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
