<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] 4-bit ECC support for Marvell	Kirkwood SOC
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%204-bit%20ECC%20support%20for%20Marvell%0A%09Kirkwood%20SOC&In-Reply-To=%3C200905121501.58840.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006422.html">
   <LINK REL="Next"  HREF="006419.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] 4-bit ECC support for Marvell	Kirkwood SOC</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%204-bit%20ECC%20support%20for%20Marvell%0A%09Kirkwood%20SOC&In-Reply-To=%3C200905121501.58840.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] [PATCH] 4-bit ECC support for Marvell	Kirkwood SOC">david-b at pacbell.net
       </A><BR>
    <I>Wed May 13 00:01:58 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006422.html">[Openocd-development] [PATCH] 4-bit ECC support for Marvell Kirkwood SOC
</A></li>
        <LI>Next message: <A HREF="006419.html">[Openocd-development] [PATCH] 4-bit ECC support for Marvell	Kirkwood SOC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6435">[ date ]</a>
              <a href="thread.html#6435">[ thread ]</a>
              <a href="subject.html#6435">[ subject ]</a>
              <a href="author.html#6435">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 12 May 2009, Nicolas Pitre wrote:
&gt;<i> On Tue, 12 May 2009, David Brownell wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; On Tuesday 12 May 2009, Nicolas Pitre wrote:
</I>&gt;<i> &gt; &gt; The Kirkwood bootrom expects 4-bit ECC from NAND. &#160;This adds
</I>&gt;<i> &gt; &gt; 4-bit ECC computation to the NAND support and uses it with SheevaPlug.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Hmm, from the outside this sounds like the 4-bit ECC in some
</I>&gt;<i> &gt; TI DaVinci family chips:  10 bytes ECC per 512 bytes data,
</I>&gt;<i> &gt; delivered as eight 10-bit values.
</I>&gt;<i> 
</I>&gt;<i> Isn't ECC on the Davinci computed in hardware by the NAND controller?
</I>
Yes, on newer chips like DM335/355/365, DA830 (and OMAP-L137).
Older chips just have 1-bit HW ECC.


&gt;<i> But otherwise it is a Reed-Solomon implementation using a x^10 + x^3 + 1 
</I>&gt;<i> polinomial.  Anyone with the same ECC characteristics may reuse this 
</I>&gt;<i> code quite trivially.  Stay tuned for Linux support soon as well.
</I>
Linux *software* support?  Patches for the DaVinci 4-bit ECC
hardware are slowly wending their way to mainline ... the issue
that's not quite resolved is how to use it with large page chips
(since there seems to be agreement that clobbering badblock
markers via ECC_HW_SYNDROME is Not Good).


&gt;<i> &gt; Maybe some of this should share code ... probably not the
</I>&gt;<i> &gt; &quot;compute backwards&quot; part though!
</I>&gt;<i> 
</I>&gt;<i> No comment ...
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Nicolas
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006422.html">[Openocd-development] [PATCH] 4-bit ECC support for Marvell Kirkwood SOC
</A></li>
	<LI>Next message: <A HREF="006419.html">[Openocd-development] [PATCH] 4-bit ECC support for Marvell	Kirkwood SOC
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6435">[ date ]</a>
              <a href="thread.html#6435">[ thread ]</a>
              <a href="subject.html#6435">[ subject ]</a>
              <a href="author.html#6435">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
