<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] OpenOCD and different versions of J-Link
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20and%20different%20versions%20of%20J-Link&In-Reply-To=%3Ca276da400905190736q5a626c1bn212789dbc8c9e6ed%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006833.html">
   <LINK REL="Next"  HREF="006843.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] OpenOCD and different versions of J-Link</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20and%20different%20versions%20of%20J-Link&In-Reply-To=%3Ca276da400905190736q5a626c1bn212789dbc8c9e6ed%40mail.gmail.com%3E"
       TITLE="[Openocd-development] OpenOCD and different versions of J-Link">xiaofanc at gmail.com
       </A><BR>
    <I>Tue May 19 16:36:39 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006833.html">[Openocd-development] OpenOCD and different versions of J-Link
</A></li>
        <LI>Next message: <A HREF="006843.html">[Openocd-development] OpenOCD and different versions of J-Link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6841">[ date ]</a>
              <a href="thread.html#6841">[ thread ]</a>
              <a href="subject.html#6841">[ subject ]</a>
              <a href="author.html#6841">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, May 19, 2009 at 9:30 PM, Gene Smith &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">gds at chartertn.net</A>&gt; wrote:
&gt;<i> Running openocd command or the segger utility commands does produces no
</I>&gt;<i> new messages. (FYI: this is fedora 8 with last possible updates.) But
</I>&gt;<i> openocd commands to the jlink cause the LED to go off but segger
</I>&gt;<i> commands don't.
</I>
Now I see the same behavior of my black J-Link. This is even
after adding part of the patch from Magnus to correct the endpoint.
Once the LED goes off after running openocd, run Segger's
utility and you will know that it is out of sync. So there are
still some problems. The only way to recover seems to disconnect
everything and restart again.

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/jlink$ ./start
SEGGER J-Link Commander V4.03a ('?' for help)
Compiled Feb  2 2009 11:34:21

WARNING: Out of sync , resynchronising...


WARNING: Out of sync , resynchronising...


WARNING: Out of sync , resynchronising...

Can not connect to J-Link via USB.
J-Link&gt;exit

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/jlinkold$ openocd -f myopenocd.cfg
Open On-Chip Debugger 0.2.0-in-development modified J-LINK by Magnus
Lundin (2009-05-19-22:19) svn:1836M


BUGS? Read <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS">http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS</A>


$URL: <A HREF="svn://svn.berlios.de/openocd/trunk/src/openocd.c">svn://svn.berlios.de/openocd/trunk/src/openocd.c</A> $
RCLK - adaptive
Info : J-Link compiled Feb 20 2006 18:20:20 -- Update --
Info : JLink caps 0x3
Error: J-Link command EMU_CMD_GET_MAX_MEM_BLOCK failed (-110)

Info : J-Link compiled Feb 20 2006 18:20:20 -- Update --
Info : JLink caps 0x3
Error: J-Link command EMU_CMD_GET_MAX_MEM_BLOCK failed (-110)

Info : J-Link compiled Feb 20 2006 18:20:20 -- Update --
Info : JLink caps 0x3
Error: J-Link command EMU_CMD_GET_MAX_MEM_BLOCK failed (-110)

Info : J-Link initial read failed, don't worry
Info : J-Link JTAG Interface ready
Warn : keep_alive() was not invoked in the 1000ms timelimit. GDB alive
packet not sent! (9128). Workaround: increase &quot;set remotetimeout&quot; in
GDB
Error: usb_bulk_read failed (requested=1, result=-110)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Warn : keep_alive() was not invoked in the 1000ms timelimit. GDB alive
packet not sent! (3011). Workaround: increase &quot;set remotetimeout&quot; in
GDB
Error: usb_bulk_read failed (requested=1, result=-110)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Warn : keep_alive() was not invoked in the 1000ms timelimit. GDB alive
packet not sent! (3238). Workaround: increase &quot;set remotetimeout&quot; in
GDB
Error: usb_bulk_read failed (requested=1, result=-110)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Warn : no tcl port specified, using default port 6666
Info : accepting 'telnet' connection from 0
     TapName            | Enabled |   IdCode      Expected    IrLen
IrCap  IrMask Instr
---|--------------------|---------|------------|------------|------|------|------|---------
 0 | lpc2148.cpu        |    Y    | 0x00000000 | 0x4f1f0f0f | 0x04 |
0x01 | 0x0f | 0x0f
Error: Target not examined yet
Runtime error, file &quot;command.c&quot;, line 453:

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/jlink$ ./start
SEGGER J-Link Commander V4.03a ('?' for help)
Compiled Feb  2 2009 11:34:21
DLL version V4.03a, compiled Feb  2 2009 11:34:13
Firmware: J-Link compiled Feb 20 2006 18:20:20 -- Update --
Hardware: V3.00
S/N : 3330
OEM : IAR
VTarget = 3.290V
Info: TotalIRLen = 4, IRPrint = 0x01

WARNING: Identified core does not match configuration. (Found: ARM7,
Configured: None)
Found 1 JTAG device, Total IRLen = 4:
 Id of device #0: 0x4F1F0F0F
Found ARM with core Id 0x4F1F0F0F (ARM7)
  ETM V1.2: 1 pairs addr.comp, 0 data comp, 4 MM decs, 1 counters
JTAG speed: 5 kHz

-- 
Xiaofan <A HREF="http://mcuee.blogspot.com">http://mcuee.blogspot.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006833.html">[Openocd-development] OpenOCD and different versions of J-Link
</A></li>
	<LI>Next message: <A HREF="006843.html">[Openocd-development] OpenOCD and different versions of J-Link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6841">[ date ]</a>
              <a href="thread.html#6841">[ thread ]</a>
              <a href="subject.html#6841">[ subject ]</a>
              <a href="author.html#6841">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
