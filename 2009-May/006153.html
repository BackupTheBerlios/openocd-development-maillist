<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Debian package: build errors on various architectures
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Debian%20package%3A%20build%20errors%20on%20various%0A%20architectures&In-Reply-To=%3C1241660474.4214.480.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006152.html">
   <LINK REL="Next"  HREF="006075.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Debian package: build errors on various architectures</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Debian%20package%3A%20build%20errors%20on%20various%0A%20architectures&In-Reply-To=%3C1241660474.4214.480.camel%40localhost%3E"
       TITLE="[Openocd-development] Debian package: build errors on various architectures">zw at superlucidity.net
       </A><BR>
    <I>Thu May  7 03:41:14 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006152.html">[Openocd-development] Debian package: build errors on various architectures
</A></li>
        <LI>Next message: <A HREF="006075.html">[Openocd-development] How to go on with Cortex-A8 support&#8207;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6153">[ date ]</a>
              <a href="thread.html#6153">[ thread ]</a>
              <a href="subject.html#6153">[ subject ]</a>
              <a href="author.html#6153">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, 2009-05-06 at 16:24 -0700, Zach Welch wrote:
&gt;<i> On Wed, 2009-05-06 at 15:50 +0200, Uwe Hermann wrote:
</I>&gt;<i> &gt; Hi,
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; On Mon, May 04, 2009 at 11:56:00AM -0700, Zach Welch wrote:
</I>&gt;<i> &gt; &gt; The attached patch should fix the cast alignment warnings caused by
</I>&gt;<i> &gt; &gt; jim.c on platforms with stricter alignment rules.
</I>&gt;<i> &gt; &gt; 
</I>&gt;<i> &gt; &gt; If you get more problems, please run the builds with --disable-werror so
</I>&gt;<i> &gt; &gt; I can try to fix all of them in one pass.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; Done. I've updated to r1606 and manually added your patch to the
</I>&gt;<i> &gt; build. It may take a bit longer until all architectures have been built,
</I>&gt;<i> &gt; but some are already done.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; <A HREF="https://buildd.debian.org/pkg.cgi?pkg=openocd">https://buildd.debian.org/pkg.cgi?pkg=openocd</A>
</I>&gt;<i> &gt; <A HREF="https://buildd.debian.org/~luk/status/package.php?p=openocd">https://buildd.debian.org/~luk/status/package.php?p=openocd</A>
</I>&gt;<i> &gt; <A HREF="http://buildd.debian-ports.org/status/package.php?p=openocd">http://buildd.debian-ports.org/status/package.php?p=openocd</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> Not fun.  There appear to be bugs here that I cannot fix trivially.
</I>&gt;<i> 
</I>&gt;<i> &gt; Building with gcc-4.4 also needs some additional fixing btw,
</I>&gt;<i> &gt; see for instance
</I>&gt;<i> &gt; <A HREF="http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=527100">http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=527100</A>
</I>&gt;<i> &gt; (that's not the only error, on i386 there are at least one or two more,
</I>&gt;<i> &gt; no idea for other arches).
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; You can test that with 'make CC=gcc-4.4'.
</I>&gt;<i> 
</I>&gt;<i> I have committed my first patch for jim.c (r1620) and another for svf.c
</I>&gt;<i> (r1622).  I have some additional changes that should resolve some of the
</I>&gt;<i> other issues, but there will be more work to do.
</I>&gt;<i> 
</I>&gt;<i> When I finish my round of changes, I will post a summary of the problems
</I>&gt;<i> that remain to be fixed, so others more knowledgeable than myself can
</I>&gt;<i> then look at the relevant code and fix the offending bits.  On some
</I>&gt;<i> architectures, I think some of the code that generates these warnings
</I>&gt;<i> could cause problems at run-time.
</I>
I believe that all but two of the warnings will be fixed with r1628. 
I convinced myself that my remaining fixes were all valid, if not as
pretty as they might become after further cleaning of the tree.

I did not address GCC 4.4 as Ubuntu Jaunty does not appear to have that
available in its stable tree.  I do not have the resources to pursue it
further at this time, but patches would be welcome.

The last problems should be two minor API issues in arm11.c that need to
be resolved, with updated TODO comments near the relevant lines of code.

Let me know if I missed any other warnings.

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006152.html">[Openocd-development] Debian package: build errors on various architectures
</A></li>
	<LI>Next message: <A HREF="006075.html">[Openocd-development] How to go on with Cortex-A8 support&#8207;
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6153">[ date ]</a>
              <a href="thread.html#6153">[ thread ]</a>
              <a href="subject.html#6153">[ subject ]</a>
              <a href="author.html#6153">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
