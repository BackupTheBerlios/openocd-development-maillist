<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] OpenOCD and different versions of J-Link
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20and%20different%20versions%20of%20J-Link&In-Reply-To=%3C1243050490.17398.1522.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007087.html">
   <LINK REL="Next"  HREF="007107.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] OpenOCD and different versions of J-Link</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20and%20different%20versions%20of%20J-Link&In-Reply-To=%3C1243050490.17398.1522.camel%40localhost%3E"
       TITLE="[Openocd-development] OpenOCD and different versions of J-Link">zw at superlucidity.net
       </A><BR>
    <I>Sat May 23 05:48:10 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007087.html">[Openocd-development] OpenOCD and different versions of J-Link
</A></li>
        <LI>Next message: <A HREF="007107.html">[Openocd-development] OpenOCD and different versions of J-Link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7106">[ date ]</a>
              <a href="thread.html#7106">[ thread ]</a>
              <a href="subject.html#7106">[ subject ]</a>
              <a href="author.html#7106">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 2009-05-23 at 00:46 +0200, Magnus Lundin wrote:
&gt;<i> Zach Welch wrote:
</I>&gt;<i> &gt; On Sat, 2009-05-23 at 00:18 +0200, Magnus Lundin wrote:
</I>&gt;<i> &gt;   
</I>&gt;<i> &gt;&gt; Zach Welch wrote:
</I>&gt;<i> &gt;&gt;     
</I>&gt;<i> &gt;&gt;&gt; On Tue, 2009-05-19 at 16:53 +0200, Magnus Lundin wrote: 
</I>[snip]     
&gt;<i> &gt;&gt; There is a set of new patches that has been tested by Michael Fischer, 
</I>&gt;<i> &gt;&gt; as far as i know there were no problems.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; There are still things that should be fixed in the resethandling in 
</I>&gt;<i> &gt;&gt; jtag_add_reset and minimizing the differences between ft2232 and jlink 
</I>&gt;<i> &gt;&gt; behaviour.
</I>&gt;<i> &gt;&gt; But still would suggest that the following patcches are commited. They 
</I>&gt;<i> &gt;&gt; are not untested.
</I>&gt;<i> &gt;&gt;     
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I will apply them here and see if they magically cure my own woes.
</I>&gt;<i> &gt; Regardless, I think these changes should be committed in some for,
</I>&gt;<i> &gt; though I can see various ways that I would like to clean your code.
</I>&gt;<i> &gt; Would you mind my taking a pass over them before I commit them?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;   
</I>&gt;<i> Sure,  I am out of style discussions on this list.
</I>
Committed the jlink.c changes as r1889.  While the JTAG and FTDI changes
look fine too, I cannot judge their relative risk/reward at this time,
so I feel that I must defer to others on those.  I'll follow up though.

I kept track of every change that I made in cleaning and included the
list with my commit message.  My changes were only on (or very near)
those lines that you added or changed in your patch.  The results were
frustrating for me (to say the least), but I hope my efforts will help
motivate everyone to avoid similar &quot;mistakes&quot; in the future.

In total, my cleaning removed 1.9K of superfluous changes, which was
over 25% of the original patch.  The changes are now easier to review,
and the code is much easier to understand as a bonus.  

Here is a short list of things that this patch did &quot;wrong&quot;:
-- Hard-coded constants in code.
-- Inefficient flow-control statements (stylistically speaking)
-- Insufficient use of temporary variables.
-- Superfluous whitespace/comment-style changes.

While these are &quot;superficial&quot; to the compiler, they have a profound
affect on the substance of the code for those developing with it.

Regardless, the J-Link now works _much_ better for me in my own tests,
so I and the entire community of J-Link users owe you a Big Thanks. :)

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007087.html">[Openocd-development] OpenOCD and different versions of J-Link
</A></li>
	<LI>Next message: <A HREF="007107.html">[Openocd-development] OpenOCD and different versions of J-Link
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7106">[ date ]</a>
              <a href="thread.html#7106">[ thread ]</a>
              <a href="subject.html#7106">[ subject ]</a>
              <a href="author.html#7106">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
