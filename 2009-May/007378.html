<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] 0.2.0 Pending RFCs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%200.2.0%20Pending%20RFCs&In-Reply-To=%3C1243417910.11621.481.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007333.html">
   <LINK REL="Next"  HREF="007170.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] 0.2.0 Pending RFCs</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%200.2.0%20Pending%20RFCs&In-Reply-To=%3C1243417910.11621.481.camel%40localhost%3E"
       TITLE="[Openocd-development] 0.2.0 Pending RFCs">zw at superlucidity.net
       </A><BR>
    <I>Wed May 27 11:51:50 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007333.html">[Openocd-development] 0.2.0 Pending RFCs
</A></li>
        <LI>Next message: <A HREF="007170.html">[Openocd-development]  Correct script to flash the lpc-2148
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7378">[ date ]</a>
              <a href="thread.html#7378">[ thread ]</a>
              <a href="subject.html#7378">[ subject ]</a>
              <a href="author.html#7378">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-05-25 at 19:02 -0700, Zach Welch wrote: 
&gt;<i> On Sat, 2009-05-23 at 21:55 -0700, Zach Welch wrote:
</I>&gt;<i> [snip] 
</I>&gt;<i> &gt; 2) move board, target, and interface Jim script directories to src/tcl/
</I>&gt;<i> &gt;   - this will move the whole directories intact, parallel to tcl/chip.
</I>&gt;<i> &gt;   - more structure can be added, if we see fit; this is a small step.
</I>&gt;<i> &gt;   - <A HREF="http://www.mail-archive.com/openocd-development@lists.berlios.de/msg04685.html">http://www.mail-archive.com/openocd-development@lists.berlios.de/msg04685.html</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 3) move src/tcl to tcl/
</I>&gt;<i> &gt;   - aims to cleanly separate the C and TCL code trees
</I>&gt;<i> &gt;   - <A HREF="http://www.mail-archive.com/openocd-development@lists.berlios.de/msg04699.html">http://www.mail-archive.com/openocd-development@lists.berlios.de/msg04699.html</A>
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; 4) change location of installed files:  
</I>&gt;<i> &gt;   - RPM packaging exposed filesystem standards conformance issues.
</I>&gt;<i> &gt;   - need to resolve the list of changes to make, to do during the above.
</I>&gt;<i> &gt;   - <A HREF="http://www.mail-archive.com/openocd-development@lists.berlios.de/msg04626.html">http://www.mail-archive.com/openocd-development@lists.berlios.de/msg04626.html</A>
</I>&gt;<i> [snip]
</I>&gt;<i> 
</I>&gt;<i> At this point, I believe all of the opposition to the above ideas has
</I>&gt;<i> been resolved in favor of proceeding with their proposed actions, and no
</I>&gt;<i> further objections have been raised.  This is the final call for further
</I>&gt;<i> discussion before I proceed to make these changes.
</I>&gt;<i> 
</I>&gt;<i> Obviously, this will cause a serious disruption for anyone with files
</I>&gt;<i> not committed to the tree; however, these changes will benefit the
</I>&gt;<i> directory structure of the project immensely.  When complete, users will
</I>&gt;<i> be able to discover and explore the OpenOCD tarballs more intuitively
</I>&gt;<i> than with the present structure.
</I>&gt;<i> 
</I>&gt;<i> I intend to commit these changes in the order listed.  This means you
</I>&gt;<i> should wait to clean up until all of the moving has been finished (steps
</I>&gt;<i> labeled 2 and 3 above).  The final step (labeled 4) will consist of
</I>&gt;<i> purely automake input changes, from what I can see today.  Afterwards,
</I>&gt;<i> there should be absolutely _zero_ functional changes.
</I>&gt;<i> 
</I>&gt;<i> If you have changes or new files in these parts of your working copies,
</I>&gt;<i> migration from the old version will simply require you to:
</I>&gt;<i>   1) move any local files from their old locations to the new, then
</I>&gt;<i>   2) remove the old directory structures
</I>&gt;<i> Reverse migration should be possible using similar steps.
</I>
Committed, r1918, r1919, and r1920.  The commit notes should provide the
full details of the changes.  The distribution archive looks much nicer.
Thanks for bearing with these changes.

One thing that came up was the fact that src/helper/options.c used both
PKGLIBDIR for OpenOCD's scripts and PKGDATADIR for user scripts, so I
changed the installation behavior and search paths to PKGDATADIR
&quot;/scripts&quot; and PKGDATADIR &quot;/site&quot;, respectively.  I also left a @todo
note to add &quot;${HOME}/.openocd&quot; as a search path.

These could all be changed again trivially, but I thought it was better
to get the tree back into fully working order and sort out the details
in subsequent patches.  In addition, I know that I did not cover all of
the details in the original #4 above, but I wanted to focus on the task
at hand.

At this point, please start new threads to resolve further issues.
Patches welcome. :)

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007333.html">[Openocd-development] 0.2.0 Pending RFCs
</A></li>
	<LI>Next message: <A HREF="007170.html">[Openocd-development]  Correct script to flash the lpc-2148
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7378">[ date ]</a>
              <a href="thread.html#7378">[ thread ]</a>
              <a href="subject.html#7378">[ subject ]</a>
              <a href="author.html#7378">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
