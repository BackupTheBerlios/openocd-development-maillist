<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] C vs. C99 vs. C++
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20C%20vs.%20C99%20vs.%20C%2B%2B&In-Reply-To=%3C1241167342.21406.2494.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005989.html">
   <LINK REL="Next"  HREF="005994.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] C vs. C99 vs. C++</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20C%20vs.%20C99%20vs.%20C%2B%2B&In-Reply-To=%3C1241167342.21406.2494.camel%40localhost%3E"
       TITLE="[Openocd-development] C vs. C99 vs. C++">zw at superlucidity.net
       </A><BR>
    <I>Fri May  1 10:42:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005989.html">[Openocd-development] C vs. C++ consensus
</A></li>
        <LI>Next message: <A HREF="005994.html">[Openocd-development] C vs. C99 vs. C++
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5992">[ date ]</a>
              <a href="thread.html#5992">[ thread ]</a>
              <a href="subject.html#5992">[ subject ]</a>
              <a href="author.html#5992">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>You beat me to posting a summary thread.

On Fri, 2009-05-01 at 09:17 +0200, &#216;yvind Harboe wrote:
&gt;<i> We don't have a way to measure consensus but I belive the current
</I>&gt;<i> consensus can be summarized as:
</I>&gt;<i> 
</I>&gt;<i> - OpenOCD stays C for now. There has to be a good plan and
</I>&gt;<i> major upside to budge the status quo.
</I>
I think the community also decided the C vs C99 debate in favor of C99.

There seems to be genuine interest in using C++, but this debate will
continue to rage on.  While I see your claim, I raise you by claiming
that &quot;this trunk branch of OpenOCD will continue using C indefinitely;
any future C++ efforts will emerge from a new trunk branch.&quot;  

Anything less fails to deliver a tangible social contract bullet point
that users can bank on.   We should not be wishy-washy with this issue;
the words &quot;for now&quot; give false hope to those wanting to use C++ and fail
to reassure those that want OpenOCD to remain C only.

&gt;<i> - OpenOCD has a number of quaint constructs that mimick features in
</I>&gt;<i> other languages(virtual function tables, exception handling, resource
</I>&gt;<i> trackinig, etc.).  This is implemented through very loose conventions,
</I>&gt;<i> macros and such. A sensible use of e.g. C++ could get rid of those
</I>&gt;<i> &quot;strange&quot; constructs.
</I>
On the subject of OOP, I did somewhat oversimplify when I said that C is
imperative and C++ is object-oriented.  The Linux kernel provides an
excellent model for implementing object-oriented systems in C, but one
must admit that C++ simply incorporates these tricks into the language.
Those enhancements allow an expert to reduce development effort, but the
important word here is &quot;expert&quot;.

One point that I failed to make is the learning curve of the two
languages.  The initial learning curve is much steeper for C++ than C,
but mastery takes longer as well.  I would say that learning how to
write correct C++ systems as complex and efficient as equivalent C
systems takes at least twice as long.  Once one begins to master it, it
can be faster and better for some tasks, but C++ is not a panacea.

Ultimately, great C++ also requires mastery of C.  Consider the number
of patches that I have submitted to correct simple warnings and use
standard language features in OpenOCD; what does that speak of this
community's potential for working with a more complex language?  I would
be terrified to see OpenOCD switch gradually from C to C++, as I think
it would become a incomprehensible soup of idioms from both languages.

That said, I will be pushing for object-oriented C coding.  Even my
recent patches to add static keywords could be said to be a small move
in that direction.  The flash, JTAG, and ETM driver symbols have been
encapsulated in their respective source files, exposing only their
respective driver callback structures.  There is room for more work to
be done in this vein, and that work will be difficult in any language. 

Cheers,

Zach

P.S. My imperfect comparison of what I meant by C = imp and C++ == OOP:

C                       C++
------------            --------------
struct                  class
void (*f)(void)         inheritance/polymorphism
T f(struct *)           public/protected member functions
static T f(struct *)    private member functions

Sure, you can use OO design in C; at the end of the day, the language is
still imperative.  C does not have inheritance, but you can fake it.
C does not have classes, but you can fake them.  And so on.


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005989.html">[Openocd-development] C vs. C++ consensus
</A></li>
	<LI>Next message: <A HREF="005994.html">[Openocd-development] C vs. C99 vs. C++
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5992">[ date ]</a>
              <a href="thread.html#5992">[ thread ]</a>
              <a href="subject.html#5992">[ subject ]</a>
              <a href="author.html#5992">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
