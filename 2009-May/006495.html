<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Compile issue on mingw on current svn
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Compile%20issue%20on%20mingw%20on%20current%20svn&In-Reply-To=%3CE1M4JjJ-0005Mn-Fu%40localhost.plus.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006480.html">
   <LINK REL="Next"  HREF="006587.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Compile issue on mingw on current svn</H1>
    <B>Spencer Oliver</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Compile%20issue%20on%20mingw%20on%20current%20svn&In-Reply-To=%3CE1M4JjJ-0005Mn-Fu%40localhost.plus.net%3E"
       TITLE="[Openocd-development] Compile issue on mingw on current svn">spen at spen-soft.co.uk
       </A><BR>
    <I>Wed May 13 21:03:31 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006480.html">[Openocd-development] Compile issue on mingw on current svn
</A></li>
        <LI>Next message: <A HREF="006587.html">[Openocd-development] Compile issue on mingw on current svn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6495">[ date ]</a>
              <a href="thread.html#6495">[ thread ]</a>
              <a href="subject.html#6495">[ subject ]</a>
              <a href="author.html#6495">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> 
</I>&gt;<i> No, I still have the same problem with r1776.
</I>&gt;<i> 
</I>&gt;<i> there are some uint32_t uses in replacement.h which are not recognized
</I>&gt;<i> - I don't have an elf.h system include.
</I>&gt;<i> 
</I>&gt;<i> export CPPFLAGS=&quot;-IC:/libusb-win32-device-bin-0.1.12.1/include&quot;
</I>&gt;<i> export LDFLAGS=-LC:/libusb-win32-device-bin-0.1.12.1/lib/gcc
</I>&gt;<i> export CC=mingw32-gcc
</I>&gt;<i> 
</I>&gt;<i> ./bootstrap
</I>&gt;<i> ./configure  --enable-ft2232-ftd2xx --enable-jlink
</I>&gt;<i> --with-ftd2xx-win32-zipdir=c:/ftdi-2.04.06 --enable-maintainer-mode
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> gives :
</I>&gt;<i> 
</I>&gt;<i> $ mingw32-make
</I>&gt;<i> cd . &amp;&amp; C:/cygwin/bin/sh.exe /Workspace-1/openocd/missing 
</I>&gt;<i> --run autoheader rm -f stamp-h1 touch config.h.in cd . &amp;&amp; 
</I>&gt;<i> C:/cygwin/bin/sh.exe ./config.status config.h
</I>&gt;<i> config.status: creating config.h
</I>&gt;<i> config.status: config.h is unchanged
</I>&gt;<i> c:/MinGW/bin/mingw32-make  all-recursive
</I>&gt;<i> mingw32-make[1]: Entering directory `c:/Workspace-1/openocd'
</I>&gt;<i> Making all in src
</I>&gt;<i> mingw32-make[2]: Entering directory `c:/Workspace-1/openocd/src'
</I>&gt;<i> Making all in helper
</I>&gt;<i> mingw32-make[3]: Entering directory 
</I>&gt;<i> `c:/Workspace-1/openocd/src/helper'
</I>&gt;<i> C:/cygwin/bin/sh.exe ../../libtool --tag=CC   --mode=compile
</I>&gt;<i> mingw32-gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I../..  
</I>&gt;<i> -I../../src/server -I../../ src/target 
</I>&gt;<i> -DPKGDATADIR=\&quot;/usr/local/share/openocd\&quot;
</I>&gt;<i> -DPKGLIBDIR=\&quot;/usr/local/lib/openocd\&quot;
</I>&gt;<i> -IC:/libusb-win32-device-bin-0.1.12.1/include -W 
</I>&gt;<i> no-sign-compare -g -O2 -Ic:/ftdi-2.04.06 -Wall 
</I>&gt;<i> -Wstrict-prototypes -Wformat-security -Wextra 
</I>&gt;<i> -Wno-unused-parameter -Wbad-function-cast -Wcas t-align 
</I>&gt;<i> -Wredundant-decls -Werror -MT libhelper_la-binarybuffer.lo 
</I>&gt;<i> -MD -MP -MF .deps/libhelper_la-binarybuffer.Tpo -c -o 
</I>&gt;<i> libhelper_la-binary buffer.lo `test -f 'binarybuffer.c' || 
</I>&gt;<i> echo './'`binarybuffer.c
</I>&gt;<i> libtool: compile:  mingw32-gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I../..
</I>&gt;<i> -I../../src/server -I../../src/target 
</I>&gt;<i> &quot;-DPKGDATADIR=\\/usr/local/share /openocd\\ 
</I>&gt;<i> -DPKGLIBDIR=\\/usr/local/lib/openocd\\
</I>&gt;<i> -IC:/libusb-win32-device-bin-0.1.12.1/include&quot; -Wno-sign-compare -g
</I>&gt;<i> -O2 -Ic:/ftdi-2.04.06
</I>&gt;<i> -Wall -Wstrict-prototypes -Wformat-security -Wextra 
</I>&gt;<i> -Wno-unused-parameter -Wbad-function-cast -Wcast-align 
</I>&gt;<i> -Wredundant-decls -Werror -MT lib helper_la-binarybuffer.lo 
</I>&gt;<i> -MD -MP -MF .deps/libhelper_la-binarybuffer.Tpo -c 
</I>&gt;<i> binarybuffer.c  -DDLL_EXPORT -DPIC -o 
</I>&gt;<i> .libs/libhelper_la-binary buffer.o In file included from 
</I>&gt;<i> ../../config.h:271,
</I>&gt;<i>                  from binarybuffer.c:24:
</I>&gt;<i> ./replacements.h:213: erreur: expected '=', ',', ';', 'asm' 
</I>&gt;<i> or '__attribute__' before 'Elf32_Addr'
</I>&gt;<i> ./replacements.h:214: erreur: expected '=', ',', ';', 'asm' 
</I>&gt;<i> or '__attribute__' before 'Elf32_Half'
</I>&gt;<i> ./replacements.h:215: erreur: expected '=', ',', ';', 'asm' 
</I>&gt;<i> or '__attribute__' before 'Elf32_Off'
</I>&gt;<i> ./replacements.h:216: erreur: expected '=', ',', ';', 'asm' 
</I>&gt;<i> or '__attribute__' before 'Elf32_Sword'
</I>&gt;<i> ./replacements.h:217: erreur: expected '=', ',', ';', 'asm' 
</I>&gt;<i> or '__attribute__' before 'Elf32_Word'
</I>&gt;<i> ./replacements.h:218: erreur: expected '=', ',', ';', 'asm' 
</I>&gt;<i> or '__attribute__' before 'Elf32_Size'
</I>&gt;<i> ./replacements.h:219: erreur: expected '=', ',', ';', 'asm' 
</I>&gt;<i> or '__attribute__' before 'Elf32_Hashelt'
</I>&gt;<i> ./replacements.h:224: erreur: expected 
</I>&gt;<i> specifier-qualifier-list before 'Elf32_Half'
</I>&gt;<i> ./replacements.h:252: erreur: expected 
</I>&gt;<i> specifier-qualifier-list before 'Elf32_Word'
</I>&gt;<i> mingw32-make[3]: *** [libhelper_la-binarybuffer.lo] Error 1
</I>&gt;<i> mingw32-make[3]: Leaving directory `c:/Workspace-1/openocd/src/helper'
</I>&gt;<i> mingw32-make[2]: *** [all-recursive] Error 1
</I>&gt;<i> mingw32-make[2]: Leaving directory `c:/Workspace-1/openocd/src'
</I>&gt;<i> mingw32-make[1]: *** [all-recursive] Error 1
</I>&gt;<i> mingw32-make[1]: Leaving directory `c:/Workspace-1/openocd'
</I>&gt;<i> mingw32-make: *** [all] Error 2
</I>&gt;<i> 
</I>
I think this is more related to your setup then openocd.
mingw32-make uses win32 paths, cygwin sh does not.

If you have got a working cygwin then just use the following to build native
win32 from a cygwin shell.
./configure --enable-maintainer-mode --enable-parport --enable-jlink
--enable-rlink --enable-ft2232_ftd2xx CC=&quot;gcc -mno-cygwin&quot;
then make

or the other option is to use msys amd the msys make not mingw32-make.

Cheers
Spen

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006480.html">[Openocd-development] Compile issue on mingw on current svn
</A></li>
	<LI>Next message: <A HREF="006587.html">[Openocd-development] Compile issue on mingw on current svn
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6495">[ date ]</a>
              <a href="thread.html#6495">[ thread ]</a>
              <a href="subject.html#6495">[ subject ]</a>
              <a href="author.html#6495">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
