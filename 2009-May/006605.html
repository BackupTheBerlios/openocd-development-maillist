<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Build problem with 1770 and Mac OS X
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Build%20problem%20with%201770%20and%20Mac%20OS%20X&In-Reply-To=%3C4C8865B5-5212-4C76-AE9D-B61617C69EBD%40kc8apf.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006597.html">
   <LINK REL="Next"  HREF="006611.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Build problem with 1770 and Mac OS X</H1>
    <B>Rick Altherr</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Build%20problem%20with%201770%20and%20Mac%20OS%20X&In-Reply-To=%3C4C8865B5-5212-4C76-AE9D-B61617C69EBD%40kc8apf.net%3E"
       TITLE="[Openocd-development] Build problem with 1770 and Mac OS X">kc8apf at kc8apf.net
       </A><BR>
    <I>Fri May 15 21:12:28 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006597.html">[Openocd-development] Build problem with 1770 and Mac OS X
</A></li>
        <LI>Next message: <A HREF="006611.html">[Openocd-development] Build problem with 1770 and Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6605">[ date ]</a>
              <a href="thread.html#6605">[ thread ]</a>
              <a href="subject.html#6605">[ subject ]</a>
              <a href="author.html#6605">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On May 15, 2009, at 11:31 AM, &#216;yvind Harboe wrote:

&gt;&gt;<i> Still an issue on OS X.  Same problem, duplicate JIM symbols but  
</I>&gt;&gt;<i> now the
</I>&gt;&gt;<i> locations have changed:
</I>&gt;<i>
</I>&gt;<i> Is this an OS X or gcc 4.4 problem?
</I>&gt;<i>
</I>&gt;<i> I'd like to have a confirmation that the patch works on Linux so I can
</I>&gt;<i> commit it and we can concentrate on the OS X(or GCC 4.4?) problem.
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> &#216;yvind Harboe
</I>&gt;<i> Embedded software and hardware consulting services
</I>&gt;<i> <A HREF="http://consulting.zylin.com">http://consulting.zylin.com</A>
</I>

OS X's linker is complaining because the build is using -fno-common  
which specifically turns multiple global symbols of the same name into  
an error.  In this case, it's not a gcc issue at all (I'm using 4.0.1  
rather than 4.4 anyway).  If you preprocess the source for those two  
files, you'll see that both declare all of the JIM functions as global  
function pointers.  I'm not sure why the JIM code does this when  
JIM_EMBEDDED is turned on or why that is necessary at all.

--
Rick Altherr
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>

&quot;He said he hadn't had a byte in three days. I had a short, so I split  
it with him.&quot;
  -- Unsigned



-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2446 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090515/f7f15bd4/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090515/f7f15bd4/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006597.html">[Openocd-development] Build problem with 1770 and Mac OS X
</A></li>
	<LI>Next message: <A HREF="006611.html">[Openocd-development] Build problem with 1770 and Mac OS X
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6605">[ date ]</a>
              <a href="thread.html#6605">[ thread ]</a>
              <a href="subject.html#6605">[ subject ]</a>
              <a href="author.html#6605">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
