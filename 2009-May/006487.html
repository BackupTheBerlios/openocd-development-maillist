<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Remove jtag_add_end_state()?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Remove%20jtag_add_end_state%28%29%3F&In-Reply-To=%3C4A0AF310.4020309%40mlu.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006490.html">
   <LINK REL="Next"  HREF="006489.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Remove jtag_add_end_state()?</H1>
    <B>Magnus Lundin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Remove%20jtag_add_end_state%28%29%3F&In-Reply-To=%3C4A0AF310.4020309%40mlu.mine.nu%3E"
       TITLE="[Openocd-development] Remove jtag_add_end_state()?">lundin at mlu.mine.nu
       </A><BR>
    <I>Wed May 13 18:19:28 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006490.html">[Openocd-development] Remove jtag_add_end_state()?
</A></li>
        <LI>Next message: <A HREF="006489.html">[Openocd-development] Remove jtag_add_end_state()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6487">[ date ]</a>
              <a href="thread.html#6487">[ thread ]</a>
              <a href="subject.html#6487">[ subject ]</a>
              <a href="author.html#6487">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&#216;yvind Harboe wrote:
&gt;<i> On Wed, May 13, 2009 at 4:40 PM, David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt; wrote:
</I>&gt;<i>   
</I>&gt;&gt;<i> On Wednesday 13 May 2009, Magnus Lundin wrote:
</I>&gt;&gt;<i>     
</I>&gt;&gt;&gt;<i> Not always, TAP_INVALID is really TAP_DONTCARE
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> I was wondering about that.  Someone should rename it
</I>&gt;&gt;<i> so it's no longer nonsense.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> The point is to do away with &quot;don't care&quot;, &quot;default&quot; and global variables.
</I>&gt;<i>
</I>&gt;<i> There will be a well defined state that the TAP controller moves to after a
</I>&gt;<i> scan. The calling code defines this.
</I>&gt;<i>
</I>&gt;<i>   
</I>Correct, and as there is just one end_state that must be the same for 
all taps on one interface, the natural place is in the interface structure.
As the current jtag can only handle one interface for now nothing breaks 
with the satic variable in jtag.c, but that is not a very nice 
implementation.
&gt;<i> If the calling code has a concept of &quot;default&quot;, then the calling code
</I>&gt;<i> implements storage to hold the &quot;default&quot; value.
</I>&gt;<i>
</I>&gt;<i>   
</I>This must be shared by all taps on the same scan chain.
&gt;<i> So *all* places where TAP_INVALID is passed in as an argument would
</I>&gt;<i> be replaced by a specific state as defined by the calling code.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   
</I>Clean up the implementation, dont mess upp the calling code.



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006490.html">[Openocd-development] Remove jtag_add_end_state()?
</A></li>
	<LI>Next message: <A HREF="006489.html">[Openocd-development] Remove jtag_add_end_state()?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6487">[ date ]</a>
              <a href="thread.html#6487">[ thread ]</a>
              <a href="subject.html#6487">[ subject ]</a>
              <a href="author.html#6487">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
