<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] TMS470 Scripts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20TMS470%20Scripts&In-Reply-To=%3Ca276da400905270703n77eb163cs1a09ddc38f9eb425%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007370.html">
   <LINK REL="Next"  HREF="007403.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] TMS470 Scripts</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20TMS470%20Scripts&In-Reply-To=%3Ca276da400905270703n77eb163cs1a09ddc38f9eb425%40mail.gmail.com%3E"
       TITLE="[Openocd-development] TMS470 Scripts">xiaofanc at gmail.com
       </A><BR>
    <I>Wed May 27 16:03:59 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007370.html">[Openocd-development] TMS470 Scripts
</A></li>
        <LI>Next message: <A HREF="007403.html">[Openocd-development] TMS470 Scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7391">[ date ]</a>
              <a href="thread.html#7391">[ thread ]</a>
              <a href="subject.html#7391">[ subject ]</a>
              <a href="author.html#7391">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, May 27, 2009 at 2:33 AM, Krzysztof Dziuba
&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">krzysztof.dziuba at gazeta.pl</A>&gt; wrote:
&gt;<i> I attached my cfg file, I think it needs to be polished before including it
</I>&gt;<i> to the official configurations, however it works for me.
</I>&gt;<i> There is also patch which fix big endian issue. It was created by some other
</I>&gt;<i> person and is some kind of magic for me (I have no idea of internal life of
</I>&gt;<i> openocd). I don't have little endian target, so I don't know if it will
</I>&gt;<i> break support of LE chips.
</I>&gt;<i>
</I>
Thanks a lot for the help. I could not connect the TMS470R1A256 IAR
Starter Kit properly to J-Link with the script. I have not used your patch
yet as it seems more for the debugging part. I want to connect and then
reset/halt first.


<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/tms470$ openocd -f tms470r1a256.cfg
Open On-Chip Debugger 0.2.0-in-development (2009-05-25-21:15) svn:1910

BUGS? Read <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS">http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS</A>

$URL: <A HREF="svn://svn.berlios.de/openocd/trunk/src/openocd.c">svn://svn.berlios.de/openocd/trunk/src/openocd.c</A> $
Error: J-Link command EMU_CMD_VERSION failed (-110)

Error: J-Link command EMU_CMD_VERSION impossible return length 0x2d4a
Error: J-Link command EMU_CMD_VERSION failed (-110)

Info : J-Link ARM V6 compiled Apr  1 2009 11:56:10
Info : JLink caps 0x19ff7bbf
Info : JLink hw version 60000
Info : JLink max mem block 8376
Info : Vref = 3.132 TCK = 1 TDI = 0 TDO = 0 TMS = 0 SRST = 1 TRST = 1

Info : J-Link JTAG Interface ready
Warn : keep_alive() was not invoked in the 1000ms timelimit. GDB alive
packet not sent! (6118). Workaround: increase &quot;set remotetimeout&quot; in
GDB
Error: jlink_usb_message failed with result=1)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Error: jlink_usb_message failed with result=1)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Error: jlink_usb_message failed with result=1)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Error: jlink_usb_message failed with result=1)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Info : accepting 'telnet' connection from 0
Error: jlink_usb_message failed with result=1)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Error: jlink_usb_message failed with result=1)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Error: jlink_usb_message failed with result=1)
Error: jlink_tap_execute, wrong result -107 (expected 1)
Runtime error, file &quot;embedded:startup.tcl&quot;, line 173:
    error: -104
Runtime error, file &quot;command.c&quot;, line 453:
         TapName            | Enabled |   IdCode      Expected
IrLen IrCap  IrMask Instr
---|--------------------|---------|------------|------------|------|------|------|---------
 0 | tms470r1a256.cpu   |    Y    | 0x00000000 | 0x3100e02f | 0x04 |
0x01 | 0x0f | 0x0f
Error: Target not examined yet
Runtime error, file &quot;command.c&quot;, line 453:

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~$ telnet localhost 4444
Trying ::1...
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
Open On-Chip Debugger
&gt;<i> halt
</I>Target not examined yet
Runtime error, file &quot;command.c&quot;, line 453:

&gt;<i> Connection closed by foreign host.
</I><A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~$ telnet localhost 4444
Trying ::1...
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
Open On-Chip Debugger
&gt;<i> init
</I>&gt;<i> reset
</I>jlink_usb_message failed with result=1)
jlink_tap_execute, wrong result -107 (expected 1)
jlink_usb_message failed with result=1)
jlink_tap_execute, wrong result -107 (expected 1)
jlink_usb_message failed with result=1)
jlink_tap_execute, wrong result -107 (expected 1)
Runtime error, file &quot;embedded:startup.tcl&quot;, line 173:
    error: -104
in procedure 'ocd_process_reset'
Runtime error, file &quot;command.c&quot;, line 453:

&gt;<i> scan_chain
</I>     TapName            | Enabled |   IdCode      Expected    IrLen
IrCap  IrMask Instr
---|--------------------|---------|------------|------------|------|------|------|---------
 0 | tms470r1a256.cpu   |    Y    | 0x00000000 | 0x3100e02f | 0x04 |
0x01 | 0x0f | 0x0f
&gt;<i> halt
</I>Target not examined yet
Runtime error, file &quot;command.c&quot;, line 453:

&gt;<i> Connection closed by foreign host.
</I>

-- 
Xiaofan <A HREF="http://mcuee.blogspot.com">http://mcuee.blogspot.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007370.html">[Openocd-development] TMS470 Scripts
</A></li>
	<LI>Next message: <A HREF="007403.html">[Openocd-development] TMS470 Scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7391">[ date ]</a>
              <a href="thread.html#7391">[ thread ]</a>
              <a href="subject.html#7391">[ subject ]</a>
              <a href="author.html#7391">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
