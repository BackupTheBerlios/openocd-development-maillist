<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] 0.2.0 Pending RFCs
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%200.2.0%20Pending%20RFCs&In-Reply-To=%3C1243201639.14129.128.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007195.html">
   <LINK REL="Next"  HREF="007205.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] 0.2.0 Pending RFCs</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%200.2.0%20Pending%20RFCs&In-Reply-To=%3C1243201639.14129.128.camel%40localhost%3E"
       TITLE="[Openocd-development] 0.2.0 Pending RFCs">zw at superlucidity.net
       </A><BR>
    <I>Sun May 24 23:47:19 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007195.html">[Openocd-development] 0.2.0 Pending RFCs
</A></li>
        <LI>Next message: <A HREF="007205.html">[Openocd-development] 0.2.0 Pending RFCs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7202">[ date ]</a>
              <a href="thread.html#7202">[ thread ]</a>
              <a href="subject.html#7202">[ subject ]</a>
              <a href="author.html#7202">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2009-05-24 at 14:06 -0700, David Brownell wrote:
&gt;<i> On Saturday 23 May 2009, Zach Welch wrote:
</I>&gt;<i> &gt; 1) library header file rework:
</I>&gt;<i> &gt;   a) rename src/ as openocd/  (preferred)
</I>&gt;<i> &gt;     - this will allow public #include, e.g. &lt;openocd/jtag/jlink.h&gt;
</I>&gt;<i> &gt;   b) do not rename src, e.g. #include &lt;jtag/jlink.h&gt;
</I>&gt;<i> &gt;   - something needs to be done; the library work is only half-complete
</I>&gt;<i> &gt;   - i have a patch for &quot;unit tests&quot;, based on this &quot;external interface&quot;
</I>&gt;<i> &gt;   - <A HREF="http://www.mail-archive.com/openocd-development@lists.berlios.de/msg04077.html">http://www.mail-archive.com/openocd-development@lists.berlios.de/msg04077.html</A>
</I>&gt;<i> 
</I>&gt;<i> While src/ is a bit odd (it's a source tree, *everything* is
</I>&gt;<i> some kind of source code), I'd suggest instead creating a
</I>&gt;<i> new include/ area to hold only files which will be getting
</I>&gt;<i> commitment for such public usage.
</I>
This is common and I suppose that I should have listed it (to be fair),
but I am not a particular fan for the fact that it splits the interface
and implementation into different trees.  To support the long names, the
file I gave as an example would be include/openocd/jtag/jlink.h.  Yuck.

Both options that I presented require minimal invasiveness; no files
need to be moved.  This option also requires new directories to be
created and individual files moved (or maybe the whole src/ tree copied
and .c files deleted).  This should not be used to judge the merits of
each for starting new projects, but I think it comes into consideration
when thinking about ways the change-over process might go wrong.

I am trying to &quot;KISS&quot; with the process as much as with the results.

&gt;<i> That seems reasonable for 0.2.x ... I think supporting any
</I>&gt;<i> library interface as &quot;stable&quot; before 0.3.x seems unwise,
</I>&gt;<i> considering the current interface hasn't particularly been
</I>&gt;<i> identified (include/*) much less carefully reviewed.
</I>
I agree.  In fact, I am not particularly interested in being &quot;strict&quot;
about stability until 1.0.0.  I silently agreed with this point when it
was raised originally (after I first posted about the library topic).
A &quot;stable&quot; interface can become a veritable straight-jacket that
prohibits innovation and development.  We should be in no hurry to put
ourselves under such restrictions.  

My primary goal with the library work will be to allow us to strengthen
the APIs for the project's own internal use of the code.  Building real
applications with them should be one ultimate strategic goal; however,
anyone pursuing such today needs to expect to rewrite them in tandem
with OpenOCD's API changes.  

For now, I want this effort to help clarify -- for our collective
understanding and documentation -- how these pieces have been designed
to fit together.  This work will also expose what we can test, which
will force further refinements to the APIs (as we realize how many warts
there are left).

While I would like to see a trend toward more and more stability, we
should always give ourselves room to fix our problems.  If nothing else,
we can simple start releasing 1.0, 2.0, 3.0, and so on with nothing in
between them. ;)

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007195.html">[Openocd-development] 0.2.0 Pending RFCs
</A></li>
	<LI>Next message: <A HREF="007205.html">[Openocd-development] 0.2.0 Pending RFCs
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7202">[ date ]</a>
              <a href="thread.html#7202">[ thread ]</a>
              <a href="subject.html#7202">[ subject ]</a>
              <a href="author.html#7202">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
