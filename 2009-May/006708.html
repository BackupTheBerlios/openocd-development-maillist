<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] PIC32 openocd status
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20PIC32%20openocd%20status&In-Reply-To=%3Ca276da400905171824s59ece8aema35f4c64703d6ed1%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006706.html">
   <LINK REL="Next"  HREF="006709.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] PIC32 openocd status</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20PIC32%20openocd%20status&In-Reply-To=%3Ca276da400905171824s59ece8aema35f4c64703d6ed1%40mail.gmail.com%3E"
       TITLE="[Openocd-development] PIC32 openocd status">xiaofanc at gmail.com
       </A><BR>
    <I>Mon May 18 03:24:17 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006706.html">[Openocd-development] PIC32 openocd status
</A></li>
        <LI>Next message: <A HREF="006709.html">[Openocd-development] PIC32 openocd status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6708">[ date ]</a>
              <a href="thread.html#6708">[ thread ]</a>
              <a href="subject.html#6708">[ subject ]</a>
              <a href="author.html#6708">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, May 18, 2009 at 8:58 AM, David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt; wrote:
&gt;<i> On Sunday 17 May 2009, Strontium wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Pic32 has 2 debug interfaces. &#160;4 Wire JTAG. &#160;And a pin count compressed
</I>&gt;&gt;<i> version of Jtag which is serialised over 2 wires (ICSP). &#160;The protocol
</I>&gt;&gt;<i> is the same as JTAG, the electrical interface is the only thing that
</I>&gt;&gt;<i> differs. 2 wire mode should be able to be driven using a FT2232 type
</I>&gt;&gt;<i> device, in a similar fashion to I2C (Tie TDI and TDO together).
</I>
This is wrong. ICSP is Microchip's proprietory protocol for
programming and debugging. The ICSP module is independent
from the EJTAG module in PIC32. You can read Chapter
33 of the PIC32MX Family Manual for more information.
The ICSP debugging protocol is kept secret by Microchip
and Microchip does not want to released to public. NDA
access might be possible for certain 3rd party. The ICSP
programming protocol is open to the public through the
programming specification.

&quot;To use ICD, an external system that supports ICD must load
a debugger executive program into the microcontroller. This is
automatically handled by many debugger tools, such as the
MPLAB IDE. For PIC32MX devices, the program is loaded into
the last page of the Boot Flash memory space. When not
debugging, the application is free to use the last page of Boot
Flash Memory. PIC32MX ICSP supports standard debugging
functions including memory and register viewing and modification.
Breakpoints can be set and the program execution may be
stopped or started. In addition to these functions registers or
memory contents can be viewed and modified while the
CPU is running.&quot;

The debug executive hex files are available from MPLAB installation.

Microchip's tools like Real ICE, ICD 3, ICD 2 do not use
EJTAG. But JTAG support is available from 3rd party.
<A HREF="http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=2602">http://www.microchip.com/stellent/idcplg?IdcService=SS_GET_PAGE&amp;nodeId=2602</A>

&gt;<i> Is that 2-wire mode the same one that the JTAG folk have
</I>&gt;<i> been working with, or is it specific to Microchip? &#160;Do
</I>&gt;<i> you know?
</I>
As answered before, the 2-wire ICSP is not JTAG
and the only way to know it is through reverse engineering.
The only project I know of is the Piklab project which tries
to support ICSP debugging with ICD 2.

Anyway, to openocd, it is possible to support JTAG
debugging/programming.


-- 
Xiaofan <A HREF="http://mcuee.blogspot.com">http://mcuee.blogspot.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006706.html">[Openocd-development] PIC32 openocd status
</A></li>
	<LI>Next message: <A HREF="006709.html">[Openocd-development] PIC32 openocd status
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6708">[ date ]</a>
              <a href="thread.html#6708">[ thread ]</a>
              <a href="subject.html#6708">[ subject ]</a>
              <a href="author.html#6708">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
