<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] RFC: uint32_t vrs u32 - et al
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20uint32_t%20vrs%20u32%20-%20et%20al&In-Reply-To=%3C1243218736.28168.48.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007217.html">
   <LINK REL="Next"  HREF="007222.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] RFC: uint32_t vrs u32 - et al</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20uint32_t%20vrs%20u32%20-%20et%20al&In-Reply-To=%3C1243218736.28168.48.camel%40localhost%3E"
       TITLE="[Openocd-development] RFC: uint32_t vrs u32 - et al">zw at superlucidity.net
       </A><BR>
    <I>Mon May 25 04:32:16 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007217.html">[Openocd-development] RFC: uint32_t vrs u32 - et al
</A></li>
        <LI>Next message: <A HREF="007222.html">[Openocd-development] RFC: uint32_t vrs u32 - et al
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7220">[ date ]</a>
              <a href="thread.html#7220">[ thread ]</a>
              <a href="subject.html#7220">[ subject ]</a>
              <a href="author.html#7220">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, 2009-05-24 at 21:40 -0400, Duane Ellis wrote:
&gt;<i> &gt; That is the other question: stdint.h is a C99 header, yes? It might be
</I>&gt;<i>  &gt; better to unconditionally included it, defining our short types from it.
</I>&gt;<i>  &gt; What do you think?
</I>&gt;<i> 
</I>&gt;<i> We already do, it is included by 'types.h'.
</I>
Conditionally.  The attached patch does what I actually said, coupled
with the added knowledge below.

&gt;<i> I am saying that *IF* for some bizzaro reason, some platform does not 
</I>&gt;<i> have it we can &quot;fake it&quot; and make the names work
</I>&gt;<i> 
</I>&gt;<i> As far as I know - all platforms are GCC, and ALL platforms have STDINT 
</I>&gt;<i> right now.
</I>
After doing some research on Wikipedia, it looks like &lt;inttypes.h&gt; is
part of the C99 standard, and it includes &lt;stdint.h&gt; (which was also
introduced with C99).  The attached patch uses the former, which also
includes the intmax_t type that is used in a few places in OpenOCD.

&gt;<i> We *only* build with GCC, and no other compiler.
</I>
Today, but I would like OpenOCD to support all &quot;sane&quot; C99 compilers, if
someone wants to put in the effort to help debug the support for them.
The tricks are easy and would not obfuscate the code and might actually
improve readability (e.g. marking GCC attributes).

&gt;<i> (Rick may point out something about the Mac, but I am fairly certain it 
</I>&gt;<i> will have stdint.h)
</I>
It's GCC+C99, so I expect it is there.  I think the attached patch is
the first step in the right direction, but there is more cleanup that
could be follow.

Cheers,

Zach

-------------- next part --------------
A non-text attachment was scrubbed...
Name: openocd-types-always-use-stdint.patch
Type: text/x-patch
Size: 733 bytes
Desc: 
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090524/1a00e51d/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090524/1a00e51d/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007217.html">[Openocd-development] RFC: uint32_t vrs u32 - et al
</A></li>
	<LI>Next message: <A HREF="007222.html">[Openocd-development] RFC: uint32_t vrs u32 - et al
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7220">[ date ]</a>
              <a href="thread.html#7220">[ thread ]</a>
              <a href="subject.html#7220">[ subject ]</a>
              <a href="author.html#7220">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
