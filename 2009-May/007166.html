<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Broken r1870 (head)
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Broken%20r1870%20%28head%29&In-Reply-To=%3C4A18EEC1.9050009%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007154.html">
   <LINK REL="Next"  HREF="007176.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Broken r1870 (head)</H1>
    <B>Dirk Behme</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Broken%20r1870%20%28head%29&In-Reply-To=%3C4A18EEC1.9050009%40googlemail.com%3E"
       TITLE="[Openocd-development] Broken r1870 (head)">dirk.behme at googlemail.com
       </A><BR>
    <I>Sun May 24 08:52:49 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007154.html">[Openocd-development] Broken r1870 (head)
</A></li>
        <LI>Next message: <A HREF="007176.html">[Openocd-development] Broken r1870 (head)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7166">[ date ]</a>
              <a href="thread.html#7166">[ thread ]</a>
              <a href="subject.html#7166">[ subject ]</a>
              <a href="author.html#7166">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Zach Welch wrote:
&gt;<i> On Fri, 2009-05-22 at 10:57 +0200, &#216;yvind Harboe wrote:
</I>&gt;&gt;<i> Trying again...
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> My editor is screwing things up with whitespace, hence all those irrelevant
</I>&gt;&gt;<i> changes...
</I>&gt;<i> 
</I>&gt;<i> The second attempt was no better.  Here it is done right.
</I>
First, thanks for helping with this patch!

Second, I'm slightly confused about the direction this discussion 
takes, so I'd like to summarize. Just to get it right, and maybe to be 
corrected (clarified?) ;)

The issue we talk about is that somewhere between r1865 and r1870 a 
check was added to detect dealing with non-enabled TAP's (here 
omap3.cpu). Ok, this is fine. This shows that OMAP3 init scripts are 
broken (they worked fine until ~r1865). So we have to fix OMAP3 init 
code. Right?

Trying to do so I discovered a deadlock

<A HREF="https://lists.berlios.de/pipermail/openocd-development/2009-May/007039.html">https://lists.berlios.de/pipermail/openocd-development/2009-May/007039.html</A>

For this, we got the answer &quot;[OMAP3 init scripts have to be] 
implemented correctly&quot; and &quot;We may need to iron out a few issues in 
OpenOCD...&quot;. Asking then how to do OMAP3 init scripts correctly

<A HREF="https://lists.berlios.de/pipermail/openocd-development/2009-May/007044.html">https://lists.berlios.de/pipermail/openocd-development/2009-May/007044.html</A>

the answer was

<A HREF="https://lists.berlios.de/pipermail/openocd-development/2009-May/007048.html">https://lists.berlios.de/pipermail/openocd-development/2009-May/007048.html</A>

&quot;omap3_dbginit should be made part of the reset sequence&quot; and the 
patch we now talk about here.

As the OMAP3 init scripts seem to be wrong all the time we have them 
now, my expectation was to get some help with fixing OMAP3 scripts. So 
my expectation was something like a fix for OMAP3 scripts or at least 
some pseudo code what to do with OMAP3 scripts. Sorry, but it seems 
that I'm no OpenOCD scripting expert to be able do everything 
meaningful with just &quot;omap3_dbginit should be made part of the reset 
sequence&quot;. That OMAP3 scripts are broken all the time might already 
give a hint for this ;) But instead of some more help with fixing 
broken OMAP3 scripts, we got patch in attachment.

Sorry if it's wrong, but it seems to me that this patch only gives 
better error message for the already known issue &quot;OMAP3 deals with 
non-enabled TAP&quot;? But it doesn't help to fix the real issue (OMAP3 
scripts broken)?

Sorry if I misunderstood anything. This mail is for clarifying it then :)

Best regards

Dirk


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007154.html">[Openocd-development] Broken r1870 (head)
</A></li>
	<LI>Next message: <A HREF="007176.html">[Openocd-development] Broken r1870 (head)
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7166">[ date ]</a>
              <a href="thread.html#7166">[ thread ]</a>
              <a href="subject.html#7166">[ subject ]</a>
              <a href="author.html#7166">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
