<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] in_handler: w/o &quot;in_value&quot;, mismatch in SIR
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20in_handler%3A%20w/o%20%22in_value%22%2C%0A%20mismatch%20in%20SIR&In-Reply-To=%3C4A0455CD.3010906%40mlu.mine.nu%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006277.html">
   <LINK REL="Next"  HREF="006279.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] in_handler: w/o &quot;in_value&quot;, mismatch in SIR</H1>
    <B>Magnus Lundin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20in_handler%3A%20w/o%20%22in_value%22%2C%0A%20mismatch%20in%20SIR&In-Reply-To=%3C4A0455CD.3010906%40mlu.mine.nu%3E"
       TITLE="[Openocd-development] in_handler: w/o &quot;in_value&quot;, mismatch in SIR">lundin at mlu.mine.nu
       </A><BR>
    <I>Fri May  8 17:54:53 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006277.html">[Openocd-development] fix jtag_add_ir_scan() regression in 1672
</A></li>
        <LI>Next message: <A HREF="006279.html">[Openocd-development] in_handler: w/o &quot;in_value&quot;, mismatch in SIR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6278">[ date ]</a>
              <a href="thread.html#6278">[ thread ]</a>
              <a href="subject.html#6278">[ subject ]</a>
              <a href="author.html#6278">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&#216;yvind Harboe wrote:
&gt;&gt;<i> I have found it to, IR in bypass returns  0x01 if I recall correctly, so
</I>&gt;&gt;<i> bypass taps should not be checked, or checked with a correct value.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> The flag used to signal no IR check was to set in_handler = NULL;    /*
</I>&gt;&gt;<i> disable verification by default */
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Really ugly but you broke it anyway :),  we need a cleaner implementation of
</I>&gt;&gt;<i> return check logic.
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Second try to create a patch. I can't test right now, but I believe this is it.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   
</I>It works for the STM32, and going on the the flyswatter+OMAP3530 that 
workes in the old rev, we find

IR scan gives no problems, but the first idcode scan fails.  But OpenOCD 
is alive, and connecting with telnet works.
Trying to do another initialisation fails with

openocd: jtag.c:1407: jtag_check_value_mask: Assertion `field-&gt;in_value 
!= ((void *)0)' failed.

We have as yet not found any problem revealing hidden bugs  in the 
previous codebase.

Magnus


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006277.html">[Openocd-development] fix jtag_add_ir_scan() regression in 1672
</A></li>
	<LI>Next message: <A HREF="006279.html">[Openocd-development] in_handler: w/o &quot;in_value&quot;, mismatch in SIR
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6278">[ date ]</a>
              <a href="thread.html#6278">[ thread ]</a>
              <a href="subject.html#6278">[ subject ]</a>
              <a href="author.html#6278">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
