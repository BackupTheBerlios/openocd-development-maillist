<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development]  JTAG API cleanup
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%20JTAG%20API%20cleanup&In-Reply-To=%3C4A01460E.6040905%40amontec.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006132.html">
   <LINK REL="Next"  HREF="006122.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development]  JTAG API cleanup</H1>
    <B>Laurent Gauch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%20JTAG%20API%20cleanup&In-Reply-To=%3C4A01460E.6040905%40amontec.com%3E"
       TITLE="[Openocd-development]  JTAG API cleanup">laurent.gauch at amontec.com
       </A><BR>
    <I>Wed May  6 10:10:54 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006132.html">[Openocd-development] Retire out_mask in JTAG API
</A></li>
        <LI>Next message: <A HREF="006122.html">[Openocd-development] JTAG API cleanup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6120">[ date ]</a>
              <a href="thread.html#6120">[ thread ]</a>
              <a href="subject.html#6120">[ subject ]</a>
              <a href="author.html#6120">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Please remove it.

In_handler could be very useful when we will add  pure JTAG Boundary 
Scan support in OpenOCD.

Please do not touch the JTAG API at all !

Regards,
Laurent Gauch
  <A HREF="http://www.amontec.com">http://www.amontec.com</A>
  <A HREF="http://www.amontec.com/jtagkey.shtml">http://www.amontec.com/jtagkey.shtml</A>


&gt;<i> Committed.
</I>&gt;<i>
</I>&gt;<i> in_handler is deprecated.  Removing the remaining uses will take
</I>&gt;<i> some time, but the most significant benefit of not having to setting
</I>&gt;<i> all those deprecated fields to NULL can be had immediately.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> &#216;yvind Harboe
</I>&gt;<i> Embedded software and hardware consulting services
</I>&gt;<i> <A HREF="http://consulting.zylin.com">http://consulting.zylin.com</A>
</I>&gt;<i> -------------- next part --------------
</I>&gt;<i> ### Eclipse Workspace Patch 1.0
</I>&gt;<i> #P openocd
</I>&gt;<i> Index: src/target/arm720t.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/arm720t.c	(revision 1608)
</I>&gt;<i> +++ src/target/arm720t.c	(working copy)
</I>&gt;<i> @@ -114,10 +114,10 @@
</I>&gt;<i>  	fields[0].out_value = &amp;instruction_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 32;
</I>&gt;<i> @@ -131,10 +131,10 @@
</I>&gt;<i>  	} else
</I>&gt;<i>  	{
</I>&gt;<i>  		fields[1].in_handler = NULL;
</I>&gt;<i> -		fields[1].in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  	}
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(2, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/pld/virtex2.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/pld/virtex2.c	(revision 1608)
</I>&gt;<i> +++ src/pld/virtex2.c	(working copy)
</I>&gt;<i> @@ -56,12 +56,12 @@
</I>&gt;<i>  		field.num_bits = tap-&gt;ir_length;
</I>&gt;<i>  		field.out_value = calloc(CEIL(field.num_bits, 8), 1);
</I>&gt;<i>  		buf_set_u32(field.out_value, 0, field.num_bits, new_instr);
</I>&gt;<i> -		
</I>&gt;<i> +
</I>&gt;<i>  		field.in_value = NULL;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +
</I>&gt;<i> +
</I>&gt;<i>  		field.in_handler = NULL;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +
</I>&gt;<i>  
</I>&gt;<i>  		jtag_add_ir_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  
</I>&gt;<i> @@ -84,10 +84,7 @@
</I>&gt;<i>  	scan_field.num_bits = num_words * 32;
</I>&gt;<i>  	scan_field.out_value = values;
</I>&gt;<i>  	scan_field.in_value = NULL;
</I>&gt;<i> -	scan_field.in_check_value = NULL;
</I>&gt;<i> -	scan_field.in_check_mask = NULL;
</I>&gt;<i>  	scan_field.in_handler = NULL;
</I>&gt;<i> -	scan_field.in_handler_priv = NULL;
</I>&gt;<i>  
</I>&gt;<i>  	for (i = 0; i &lt; num_words; i++)
</I>&gt;<i>  		buf_set_u32(values + 4 * i, 0, 32, flip_u32(*words++, 32));
</I>&gt;<i> @@ -117,8 +114,6 @@
</I>&gt;<i>  	scan_field.num_bits = 32;
</I>&gt;<i>  	scan_field.out_value = NULL;
</I>&gt;<i>  	scan_field.in_value = NULL;
</I>&gt;<i> -	scan_field.in_check_value = NULL;
</I>&gt;<i> -	scan_field.in_check_mask = NULL;
</I>&gt;<i>  	scan_field.in_handler = virtex2_jtag_buf_to_u32; /* deprecated! invoke this from user code! */
</I>&gt;<i>  
</I>&gt;<i>  	virtex2_set_instr(virtex2_info-&gt;tap, 0x4); /* CFG_OUT */
</I>&gt;<i> @@ -164,12 +159,12 @@
</I>&gt;<i>  	scan_field_t field;
</I>&gt;<i>  
</I>&gt;<i>  	field.tap = virtex2_info-&gt;tap;
</I>&gt;<i> -	
</I>&gt;<i> +
</I>&gt;<i>  	field.in_value = NULL;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +
</I>&gt;<i> +
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +
</I>&gt;<i>  
</I>&gt;<i>  	if ((retval = xilinx_read_bit_file(&amp;bit_file, filename)) != ERROR_OK)
</I>&gt;<i>  		return retval;
</I>&gt;<i> Index: src/target/arm_adi_v5.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/arm_adi_v5.c	(revision 1608)
</I>&gt;<i> +++ src/target/arm_adi_v5.c	(working copy)
</I>&gt;<i> @@ -78,10 +78,10 @@
</I>&gt;<i>  	fields[0].out_value = &amp;out_addr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = ack;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 32;
</I>&gt;<i> @@ -89,9 +89,9 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = invalue;
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(2, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -114,10 +114,10 @@
</I>&gt;<i>  	fields[0].out_value = &amp;out_addr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = ack;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 32;
</I>&gt;<i> @@ -133,10 +133,10 @@
</I>&gt;<i>  	else
</I>&gt;<i>  	{
</I>&gt;<i>  		fields[1].in_handler = NULL;
</I>&gt;<i> -		fields[1].in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  	}
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(2, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/target/xscale.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/xscale.c	(revision 1608)
</I>&gt;<i> +++ src/target/xscale.c	(working copy)
</I>&gt;<i> @@ -271,9 +271,9 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = xscale-&gt;reg_cache-&gt;reg_list[XSCALE_DCSR].value;
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = xscale-&gt;jtag_info.tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -349,9 +349,9 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = xscale-&gt;jtag_info.tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -468,9 +468,9 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = xscale-&gt;reg_cache-&gt;reg_list[XSCALE_TX].value;
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = xscale-&gt;jtag_info.tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -564,9 +564,9 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = xscale-&gt;jtag_info.tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -739,9 +739,9 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = xscale-&gt;jtag_info.tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -807,20 +807,20 @@
</I>&gt;<i>  	fields[0].out_value = &cmd;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = xscale-&gt;jtag_info.tap;
</I>&gt;<i>  	fields[1].num_bits = 27;
</I>&gt;<i>  	fields[1].out_value = packet;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(2, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -865,20 +865,20 @@
</I>&gt;<i>  	fields[0].out_value = &cmd;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = xscale-&gt;jtag_info.tap;
</I>&gt;<i>  	fields[1].num_bits = 27;
</I>&gt;<i>  	fields[1].out_value = packet;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(2, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/svf/svf.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/svf/svf.c	(revision 1608)
</I>&gt;<i> +++ src/svf/svf.c	(working copy)
</I>&gt;<i> @@ -977,10 +977,10 @@
</I>&gt;<i>  			field.out_value = &amp;svf_tdi_buffer[svf_buffer_index];
</I>&gt;<i>  			
</I>&gt;<i>  			field.in_value = &amp;svf_tdi_buffer[svf_buffer_index];
</I>&gt;<i> -			field.in_check_value = NULL;
</I>&gt;<i> -			field.in_check_mask = NULL;
</I>&gt;<i> +			
</I>&gt;<i> +			
</I>&gt;<i>  			field.in_handler = NULL;
</I>&gt;<i> -			field.in_handler_priv = NULL;
</I>&gt;<i> +			
</I>&gt;<i>  			jtag_add_plain_dr_scan(1, &amp;field, svf_para.dr_end_state);
</I>&gt;<i>  
</I>&gt;<i>  			svf_buffer_index += (i + 7) &gt;&gt; 3;
</I>&gt;<i> @@ -1078,10 +1078,10 @@
</I>&gt;<i>  			field.out_value = &amp;svf_tdi_buffer[svf_buffer_index];
</I>&gt;<i>  			
</I>&gt;<i>  			field.in_value = &amp;svf_tdi_buffer[svf_buffer_index];
</I>&gt;<i> -			field.in_check_value = NULL;
</I>&gt;<i> -			field.in_check_mask = NULL;
</I>&gt;<i> +			
</I>&gt;<i> +			
</I>&gt;<i>  			field.in_handler = NULL;
</I>&gt;<i> -			field.in_handler_priv = NULL;
</I>&gt;<i> +			
</I>&gt;<i>  			jtag_add_plain_ir_scan(1, &amp;field, svf_para.ir_end_state);
</I>&gt;<i>  
</I>&gt;<i>  			svf_buffer_index += (i + 7) &gt;&gt; 3;
</I>&gt;<i> Index: src/xsvf/xsvf.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/xsvf/xsvf.c	(revision 1608)
</I>&gt;<i> +++ src/xsvf/xsvf.c	(working copy)
</I>&gt;<i> @@ -707,10 +707,10 @@
</I>&gt;<i>  					field.out_value = ir_buf;
</I>&gt;<i>  					
</I>&gt;<i>  					field.in_value = NULL;
</I>&gt;<i> -					field.in_check_value = NULL;
</I>&gt;<i> -					field.in_check_mask = NULL;
</I>&gt;<i> +					
</I>&gt;<i> +					
</I>&gt;<i>  					field.in_handler = NULL;
</I>&gt;<i> -					field.in_handler_priv = NULL;
</I>&gt;<i> +					
</I>&gt;<i>  
</I>&gt;<i>  					if (tap == NULL)
</I>&gt;<i>  						jtag_add_plain_ir_scan(1, &amp;field, my_end_state);
</I>&gt;<i> Index: src/target/feroceon.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/feroceon.c	(revision 1608)
</I>&gt;<i> +++ src/target/feroceon.c	(working copy)
</I>&gt;<i> @@ -138,29 +138,29 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 3;
</I>&gt;<i>  	fields[1].out_value = &amp;sysspeed_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 32;
</I>&gt;<i>  	fields[2].out_value = instr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/target/embeddedice.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/embeddedice.c	(revision 1608)
</I>&gt;<i> +++ src/target/embeddedice.c	(working copy)
</I>&gt;<i> @@ -253,10 +253,10 @@
</I>&gt;<i>  	fields[0].out_value = reg-&gt;value;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = ice_reg-&gt;jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 5;
</I>&gt;<i> @@ -264,10 +264,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 5, reg_addr);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = ice_reg-&gt;jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -275,10 +275,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 0);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -315,10 +315,10 @@
</I>&gt;<i>  	fields[0].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 5;
</I>&gt;<i> @@ -326,10 +326,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 5, embeddedice_reg_arch_info[EICE_COMMS_DATA]);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -337,10 +337,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 0);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -432,10 +432,10 @@
</I>&gt;<i>  	fields[0].out_value = field0_out;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 5;
</I>&gt;<i> @@ -443,10 +443,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 5, embeddedice_reg_arch_info[EICE_COMMS_DATA]);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -454,10 +454,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 1);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	while (size &gt; 0)
</I>&gt;<i>  	{
</I>&gt;<i> @@ -501,10 +501,10 @@
</I>&gt;<i>  	fields[0].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = field0_in;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 5;
</I>&gt;<i> @@ -512,10 +512,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 5, embeddedice_reg_arch_info[EICE_COMMS_CTRL]);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -523,10 +523,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 0);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  	gettimeofday(&amp;lap, NULL);
</I>&gt;<i> Index: src/target/arm926ejs.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/arm926ejs.c	(revision 1608)
</I>&gt;<i> +++ src/target/arm926ejs.c	(working copy)
</I>&gt;<i> @@ -139,40 +139,40 @@
</I>&gt;<i>  	fields[0].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 1;
</I>&gt;<i>  	fields[1].out_value = &access;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = &access;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 14;
</I>&gt;<i>  	fields[2].out_value = address_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[3].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[3].num_bits = 1;
</I>&gt;<i>  	fields[3].out_value = &amp;nr_w_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[3].in_value = NULL;
</I>&gt;<i> -	fields[3].in_check_value = NULL;
</I>&gt;<i> -	fields[3].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[3].in_handler = NULL;
</I>&gt;<i> -	fields[3].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(4, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -229,40 +229,40 @@
</I>&gt;<i>  	fields[0].out_value = value_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 1;
</I>&gt;<i>  	fields[1].out_value = &access;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = &access;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 14;
</I>&gt;<i>  	fields[2].out_value = address_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[3].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[3].num_bits = 1;
</I>&gt;<i>  	fields[3].out_value = &amp;nr_w_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[3].in_value = NULL;
</I>&gt;<i> -	fields[3].in_check_value = NULL;
</I>&gt;<i> -	fields[3].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[3].in_handler = NULL;
</I>&gt;<i> -	fields[3].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(4, fields, TAP_INVALID);
</I>&gt;<i>  	/*TODO: add timeout*/
</I>&gt;<i> Index: src/target/arm966e.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/arm966e.c	(revision 1608)
</I>&gt;<i> +++ src/target/arm966e.c	(working copy)
</I>&gt;<i> @@ -189,30 +189,30 @@
</I>&gt;<i>  	fields[0].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 6;
</I>&gt;<i>  	fields[1].out_value = &amp;reg_addr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i>  	fields[2].out_value = &amp;nr_w_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -257,30 +257,30 @@
</I>&gt;<i>  	fields[0].out_value = value_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 6;
</I>&gt;<i>  	fields[1].out_value = &amp;reg_addr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i>  	fields[2].out_value = &amp;nr_w_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/target/etm.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/etm.c	(revision 1608)
</I>&gt;<i> +++ src/target/etm.c	(working copy)
</I>&gt;<i> @@ -341,10 +341,10 @@
</I>&gt;<i>  	fields[0].out_value = reg-&gt;value;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = etm_reg-&gt;jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 7;
</I>&gt;<i> @@ -352,10 +352,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 7, reg_addr);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = etm_reg-&gt;jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -363,10 +363,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 0);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -433,10 +433,10 @@
</I>&gt;<i>  	buf_set_u32(fields[0].out_value, 0, 32, value);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = etm_reg-&gt;jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 7;
</I>&gt;<i> @@ -444,10 +444,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 7, reg_addr);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = etm_reg-&gt;jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -455,10 +455,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 1);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/target/mips_ejtag.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/mips_ejtag.c	(revision 1609)
</I>&gt;<i> +++ src/target/mips_ejtag.c	(working copy)
</I>&gt;<i> @@ -51,10 +51,10 @@
</I>&gt;<i>  		buf_set_u32(field.out_value, 0, field.num_bits, new_instr);
</I>&gt;<i>  
</I>&gt;<i>  		field.in_value = NULL;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		field.in_handler = NULL;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  		jtag_add_ir_scan(1, &amp;field, TAP_INVALID);
</I>&gt;<i>  	}
</I>&gt;<i>  
</I>&gt;<i> @@ -74,10 +74,10 @@
</I>&gt;<i>  	field.out_value = NULL;
</I>&gt;<i>  
</I>&gt;<i>  	field.in_value = (void*)idcode;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i>  	if (jtag_execute_queue() != ERROR_OK)
</I>&gt;<i> @@ -101,10 +101,10 @@
</I>&gt;<i>  	field.out_value = NULL;
</I>&gt;<i>  
</I>&gt;<i>  	field.in_value = (void*)impcode;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i>  	if (jtag_execute_queue() != ERROR_OK)
</I>&gt;<i> @@ -132,10 +132,10 @@
</I>&gt;<i>  	buf_set_u32(field.out_value, 0, field.num_bits, *data);
</I>&gt;<i>  
</I>&gt;<i>  	field.in_value = (u8*)data;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i>  	if ((retval = jtag_execute_queue()) != ERROR_OK)
</I>&gt;<i> Index: src/flash/str9xpec.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/flash/str9xpec.c	(revision 1608)
</I>&gt;<i> +++ src/flash/str9xpec.c	(working copy)
</I>&gt;<i> @@ -127,10 +127,10 @@
</I>&gt;<i>  		buf_set_u32(field.out_value, 0, field.num_bits, new_instr);
</I>&gt;<i>  		
</I>&gt;<i>  		field.in_value = NULL;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		field.in_handler = NULL;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		jtag_add_ir_scan(1, &amp;field, end_state);
</I>&gt;<i>  
</I>&gt;<i> @@ -153,10 +153,10 @@
</I>&gt;<i>  	field.out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = &status;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  	jtag_execute_queue();
</I>&gt;<i> @@ -245,10 +245,10 @@
</I>&gt;<i>  	field.out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = str9xpec_info-&gt;options;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  	jtag_execute_queue();
</I>&gt;<i> @@ -397,10 +397,10 @@
</I>&gt;<i>  	field.out_value = buffer;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = NULL;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  	jtag_add_sleep(40000);
</I>&gt;<i> @@ -411,10 +411,10 @@
</I>&gt;<i>  	field.out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = buffer;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_IRPAUSE);
</I>&gt;<i>  	jtag_execute_queue();
</I>&gt;<i> @@ -513,10 +513,10 @@
</I>&gt;<i>  	field.out_value = buffer;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = NULL;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  	jtag_execute_queue();
</I>&gt;<i> @@ -579,10 +579,10 @@
</I>&gt;<i>  		field.out_value = NULL;
</I>&gt;<i>  		
</I>&gt;<i>  		field.in_value = &status;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		field.in_handler = NULL;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		jtag_add_dr_scan(1, &amp;field, -1);
</I>&gt;<i>  		jtag_execute_queue();
</I>&gt;<i> @@ -665,10 +665,10 @@
</I>&gt;<i>  	field.out_value = &sector;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = NULL;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, -1);
</I>&gt;<i>  
</I>&gt;<i> @@ -754,10 +754,10 @@
</I>&gt;<i>  			field.out_value = (buffer + bytes_written);
</I>&gt;<i>  			
</I>&gt;<i>  			field.in_value = NULL;
</I>&gt;<i> -			field.in_check_value = NULL;
</I>&gt;<i> -			field.in_check_mask = NULL;
</I>&gt;<i> +			
</I>&gt;<i> +			
</I>&gt;<i>  			field.in_handler = NULL;
</I>&gt;<i> -			field.in_handler_priv = NULL;
</I>&gt;<i> +			
</I>&gt;<i>  
</I>&gt;<i>  			jtag_add_dr_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  
</I>&gt;<i> @@ -772,10 +772,10 @@
</I>&gt;<i>  				field.out_value = NULL;
</I>&gt;<i>  				
</I>&gt;<i>  				field.in_value = scanbuf;
</I>&gt;<i> -				field.in_check_value = NULL;
</I>&gt;<i> -				field.in_check_mask = NULL;
</I>&gt;<i> +				
</I>&gt;<i> +				
</I>&gt;<i>  				field.in_handler = NULL;
</I>&gt;<i> -				field.in_handler_priv = NULL;
</I>&gt;<i> +				
</I>&gt;<i>  
</I>&gt;<i>  				jtag_add_dr_scan(1, &amp;field, -1);
</I>&gt;<i>  				jtag_execute_queue();
</I>&gt;<i> @@ -814,10 +814,10 @@
</I>&gt;<i>  		field.out_value = last_dword;
</I>&gt;<i>  		
</I>&gt;<i>  		field.in_value = NULL;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		field.in_handler = NULL;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		jtag_add_dr_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  
</I>&gt;<i> @@ -832,10 +832,10 @@
</I>&gt;<i>  			field.out_value = NULL;
</I>&gt;<i>  			
</I>&gt;<i>  			field.in_value = scanbuf;
</I>&gt;<i> -			field.in_check_value = NULL;
</I>&gt;<i> -			field.in_check_mask = NULL;
</I>&gt;<i> +			
</I>&gt;<i> +			
</I>&gt;<i>  			field.in_handler = NULL;
</I>&gt;<i> -			field.in_handler_priv = NULL;
</I>&gt;<i> +			
</I>&gt;<i>  
</I>&gt;<i>  			jtag_add_dr_scan(1, &amp;field, -1);
</I>&gt;<i>  			jtag_execute_queue();
</I>&gt;<i> @@ -896,10 +896,10 @@
</I>&gt;<i>  	field.out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = buffer;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  	jtag_execute_queue();
</I>&gt;<i> @@ -1021,10 +1021,10 @@
</I>&gt;<i>  	field.out_value = str9xpec_info-&gt;options;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = NULL;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(1, &amp;field, TAP_IDLE);
</I>&gt;<i>  
</I>&gt;<i> @@ -1039,10 +1039,10 @@
</I>&gt;<i>  		field.out_value = NULL;
</I>&gt;<i>  		
</I>&gt;<i>  		field.in_value = &status;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		field.in_handler = NULL;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		jtag_add_dr_scan(1, &amp;field, -1);
</I>&gt;<i>  		jtag_execute_queue();
</I>&gt;<i> Index: src/target/etb.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/etb.c	(revision 1608)
</I>&gt;<i> +++ src/target/etb.c	(working copy)
</I>&gt;<i> @@ -72,10 +72,10 @@
</I>&gt;<i>  		buf_set_u32(field.out_value, 0, field.num_bits, new_instr);
</I>&gt;<i>  		
</I>&gt;<i>  		field.in_value = NULL;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		field.in_handler = NULL;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		jtag_add_ir_scan(1, &amp;field, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -97,10 +97,10 @@
</I>&gt;<i>  		buf_set_u32(field.out_value, 0, field.num_bits, new_scan_chain);
</I>&gt;<i>  		
</I>&gt;<i>  		field.in_value = NULL;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		field.in_handler = NULL;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		/* select INTEST instruction */
</I>&gt;<i>  		etb_set_instr(etb, 0x2);
</I>&gt;<i> @@ -188,10 +188,10 @@
</I>&gt;<i>  	fields[0].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = etb-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 7;
</I>&gt;<i> @@ -199,10 +199,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 7, 4);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = etb-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -210,10 +210,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 0);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -259,10 +259,10 @@
</I>&gt;<i>  	fields[0].out_value = reg-&gt;value;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = etb_reg-&gt;etb-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 7;
</I>&gt;<i> @@ -270,10 +270,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 7, reg_addr);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = etb_reg-&gt;etb-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -281,10 +281,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 0);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -356,10 +356,10 @@
</I>&gt;<i>  	buf_set_u32(fields[0].out_value, 0, 32, value);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = etb_reg-&gt;etb-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 7;
</I>&gt;<i> @@ -367,10 +367,10 @@
</I>&gt;<i>  	buf_set_u32(fields[1].out_value, 0, 7, reg_addr);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = etb_reg-&gt;etb-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 1;
</I>&gt;<i> @@ -378,10 +378,10 @@
</I>&gt;<i>  	buf_set_u32(fields[2].out_value, 0, 1, 1);
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/jtag/jtag.h
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/jtag/jtag.h	(revision 1609)
</I>&gt;<i> +++ src/jtag/jtag.h	(working copy)
</I>&gt;<i> @@ -275,8 +275,8 @@
</I>&gt;<i>  	/* in_check_value/mask, in_handler_error_handler, in_handler_priv can be used by the in handler, otherwise they contain garbage  */
</I>&gt;<i>  	u8*          in_check_value;    /* deprecated! only used from jtag_set_check_value. used to validate scan results */
</I>&gt;<i>  	u8*          in_check_mask;     /* deprecated! only used from jtag_set_check_value.  check specified bits against check_value */
</I>&gt;<i> -	in_handler_t in_handler;        /* deprecated! DO NOT USE! process received buffer using this handler */
</I>&gt;<i> -	void*        in_handler_priv;   /* additional information for the in_handler */
</I>&gt;<i> +	in_handler_t in_handler;        /* deprecated! SET TO NULL. DO NOT USE! process received buffer using this handler */
</I>&gt;<i> +	void*        in_handler_priv;   /* deprecated! only used by obsolete in_handler implementations */
</I>&gt;<i>  } scan_field_t;
</I>&gt;<i>  
</I>&gt;<i>  enum scan_type {
</I>&gt;<i> Index: src/target/arm9tdmi.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/arm9tdmi.c	(revision 1608)
</I>&gt;<i> +++ src/target/arm9tdmi.c	(working copy)
</I>&gt;<i> @@ -130,30 +130,30 @@
</I>&gt;<i>  		fields[0].out_value = NULL;
</I>&gt;<i>  		
</I>&gt;<i>  		fields[0].in_value = databus;
</I>&gt;<i> -		fields[0].in_check_value = NULL;
</I>&gt;<i> -		fields[0].in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		fields[0].in_handler = NULL;
</I>&gt;<i> -		fields[0].in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		fields[1].tap = arm7_9-&gt;jtag_info.tap;
</I>&gt;<i>  		fields[1].num_bits = 3;
</I>&gt;<i>  		fields[1].out_value = NULL;
</I>&gt;<i>  		
</I>&gt;<i>  		fields[1].in_value = &amp;debug_reason;
</I>&gt;<i> -		fields[1].in_check_value = NULL;
</I>&gt;<i> -		fields[1].in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		fields[1].in_handler = NULL;
</I>&gt;<i> -		fields[1].in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		fields[2].tap = arm7_9-&gt;jtag_info.tap;
</I>&gt;<i>  		fields[2].num_bits = 32;
</I>&gt;<i>  		fields[2].out_value = NULL;
</I>&gt;<i>  		
</I>&gt;<i>  		fields[2].in_value = instructionbus;
</I>&gt;<i> -		fields[2].in_check_value = NULL;
</I>&gt;<i> -		fields[2].in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		fields[2].in_handler = NULL;
</I>&gt;<i> -		fields[2].in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		if((retval = arm_jtag_scann(&amp;arm7_9-&gt;jtag_info, 0x1)) != ERROR_OK)
</I>&gt;<i>  		{
</I>&gt;<i> @@ -226,30 +226,30 @@
</I>&gt;<i>  	else
</I>&gt;<i>  	{
</I>&gt;<i>  		fields[0].in_handler = NULL;
</I>&gt;<i> -		fields[0].in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  	}
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 3;
</I>&gt;<i>  	fields[1].out_value = &amp;sysspeed_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 32;
</I>&gt;<i>  	fields[2].out_value = instr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -295,8 +295,8 @@
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i>  	fields[0].in_handler = arm_jtag_buf_to_u32; /* deprecated! invoke this from user code! */
</I>&gt;<i>  	fields[0].in_handler_priv = in;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 3;
</I>&gt;<i> @@ -304,19 +304,19 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 32;
</I>&gt;<i>  	fields[2].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -378,8 +378,8 @@
</I>&gt;<i>  			break;
</I>&gt;<i>  	}
</I>&gt;<i>  	fields[0].in_handler_priv = in;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 3;
</I>&gt;<i> @@ -387,19 +387,19 @@
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 32;
</I>&gt;<i>  	fields[2].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(3, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/jtag/jtag.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/jtag/jtag.c	(revision 1608)
</I>&gt;<i> +++ src/jtag/jtag.c	(working copy)
</I>&gt;<i> @@ -1486,10 +1486,10 @@
</I>&gt;<i>  	field.out_value = idcode_buffer;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = idcode_buffer;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	for (i = 0; i &lt; JTAG_MAX_CHAIN_SIZE; i++)
</I>&gt;<i>  	{
</I>&gt;<i> @@ -1664,10 +1664,10 @@
</I>&gt;<i>  	field.out_value = ir_test;
</I>&gt;<i>  	
</I>&gt;<i>  	field.in_value = ir_test;
</I>&gt;<i> -	field.in_check_value = NULL;
</I>&gt;<i> -	field.in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	field.in_handler = NULL;
</I>&gt;<i> -	field.in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_plain_ir_scan(1, &amp;field, TAP_RESET);
</I>&gt;<i>  	jtag_execute_queue();
</I>&gt;<i> Index: src/target/arm_jtag.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/arm_jtag.c	(revision 1608)
</I>&gt;<i> +++ src/target/arm_jtag.c	(working copy)
</I>&gt;<i> @@ -54,10 +54,10 @@
</I>&gt;<i>  		buf_set_u32(field.out_value, 0, field.num_bits, new_instr);
</I>&gt;<i>  		
</I>&gt;<i>  		field.in_value = NULL;
</I>&gt;<i> -		field.in_check_value = NULL;
</I>&gt;<i> -		field.in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		field.in_handler = handler;
</I>&gt;<i> -		field.in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  		jtag_add_ir_scan(1, &amp;field, TAP_INVALID);
</I>&gt;<i>  	}
</I>&gt;<i>  
</I>&gt;<i> Index: src/target/arm920t.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/arm920t.c	(revision 1608)
</I>&gt;<i> +++ src/target/arm920t.c	(working copy)
</I>&gt;<i> @@ -115,40 +115,40 @@
</I>&gt;<i>  	fields[0].out_value = &amp;access_type_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 32;
</I>&gt;<i>  	fields[1].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 6;
</I>&gt;<i>  	fields[2].out_value = &amp;reg_addr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[3].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[3].num_bits = 1;
</I>&gt;<i>  	fields[3].out_value = &amp;nr_w_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[3].in_value = NULL;
</I>&gt;<i> -	fields[3].in_check_value = NULL;
</I>&gt;<i> -	fields[3].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[3].in_handler = NULL;
</I>&gt;<i> -	fields[3].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(4, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -187,40 +187,40 @@
</I>&gt;<i>  	fields[0].out_value = &amp;access_type_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 32;
</I>&gt;<i>  	fields[1].out_value = value_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 6;
</I>&gt;<i>  	fields[2].out_value = &amp;reg_addr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[3].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[3].num_bits = 1;
</I>&gt;<i>  	fields[3].out_value = &amp;nr_w_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[3].in_value = NULL;
</I>&gt;<i> -	fields[3].in_check_value = NULL;
</I>&gt;<i> -	fields[3].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[3].in_handler = NULL;
</I>&gt;<i> -	fields[3].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(4, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -254,40 +254,40 @@
</I>&gt;<i>  	fields[0].out_value = &amp;access_type_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 32;
</I>&gt;<i>  	fields[1].out_value = cp15_opcode_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[1].in_handler = NULL;
</I>&gt;<i> -	fields[1].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[2].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[2].num_bits = 6;
</I>&gt;<i>  	fields[2].out_value = &amp;reg_addr_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[2].in_value = NULL;
</I>&gt;<i> -	fields[2].in_check_value = NULL;
</I>&gt;<i> -	fields[2].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[2].in_handler = NULL;
</I>&gt;<i> -	fields[2].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[3].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[3].num_bits = 1;
</I>&gt;<i>  	fields[3].out_value = &amp;nr_w_buf;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[3].in_value = NULL;
</I>&gt;<i> -	fields[3].in_check_value = NULL;
</I>&gt;<i> -	fields[3].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[3].in_handler = NULL;
</I>&gt;<i> -	fields[3].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(4, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> Index: src/target/arm7tdmi.c
</I>&gt;<i> ===================================================================
</I>&gt;<i> --- src/target/arm7tdmi.c	(revision 1608)
</I>&gt;<i> +++ src/target/arm7tdmi.c	(working copy)
</I>&gt;<i> @@ -113,20 +113,20 @@
</I>&gt;<i>  		fields[0].out_value = NULL;
</I>&gt;<i>  		
</I>&gt;<i>  		fields[0].in_value = &breakpoint;
</I>&gt;<i> -		fields[0].in_check_value = NULL;
</I>&gt;<i> -		fields[0].in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		fields[0].in_handler = NULL;
</I>&gt;<i> -		fields[0].in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		fields[1].tap = arm7_9-&gt;jtag_info.tap;
</I>&gt;<i>  		fields[1].num_bits = 32;
</I>&gt;<i>  		fields[1].out_value = NULL;
</I>&gt;<i>  		
</I>&gt;<i>  		fields[1].in_value = databus;
</I>&gt;<i> -		fields[1].in_check_value = NULL;
</I>&gt;<i> -		fields[1].in_check_mask = NULL;
</I>&gt;<i> +		
</I>&gt;<i> +		
</I>&gt;<i>  		fields[1].in_handler = NULL;
</I>&gt;<i> -		fields[1].in_handler_priv = NULL;
</I>&gt;<i> +		
</I>&gt;<i>  
</I>&gt;<i>  		if((retval = arm_jtag_scann(&amp;arm7_9-&gt;jtag_info, 0x1)) != ERROR_OK)
</I>&gt;<i>  		{
</I>&gt;<i> @@ -200,10 +200,10 @@
</I>&gt;<i>  	fields[0].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 32;
</I>&gt;<i> @@ -212,8 +212,8 @@
</I>&gt;<i>  	fields[1].in_value = NULL;
</I>&gt;<i>  	fields[1].in_handler = arm_jtag_buf_to_u32_flip; /* deprecated! invoke this from user code! */
</I>&gt;<i>  	fields[1].in_handler_priv = in;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(2, fields, TAP_INVALID);
</I>&gt;<i>  
</I>&gt;<i> @@ -261,10 +261,10 @@
</I>&gt;<i>  	fields[0].out_value = NULL;
</I>&gt;<i>  	
</I>&gt;<i>  	fields[0].in_value = NULL;
</I>&gt;<i> -	fields[0].in_check_value = NULL;
</I>&gt;<i> -	fields[0].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  	fields[0].in_handler = NULL;
</I>&gt;<i> -	fields[0].in_handler_priv = NULL;
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	fields[1].tap = jtag_info-&gt;tap;
</I>&gt;<i>  	fields[1].num_bits = 32;
</I>&gt;<i> @@ -284,8 +284,8 @@
</I>&gt;<i>  			break;
</I>&gt;<i>  	}
</I>&gt;<i>  	fields[1].in_handler_priv = in;
</I>&gt;<i> -	fields[1].in_check_value = NULL;
</I>&gt;<i> -	fields[1].in_check_mask = NULL;
</I>&gt;<i> +	
</I>&gt;<i> +	
</I>&gt;<i>  
</I>&gt;<i>  	jtag_add_dr_scan(2, fields, TAP_INVALID);
</I>&gt;<i>  
</I>
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006132.html">[Openocd-development] Retire out_mask in JTAG API
</A></li>
	<LI>Next message: <A HREF="006122.html">[Openocd-development] JTAG API cleanup
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6120">[ date ]</a>
              <a href="thread.html#6120">[ thread ]</a>
              <a href="subject.html#6120">[ subject ]</a>
              <a href="author.html#6120">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
