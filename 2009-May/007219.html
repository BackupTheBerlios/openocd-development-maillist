<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Correct script to flash the lpc-2148
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Correct%20script%20to%20flash%20the%20lpc-2148&In-Reply-To=%3Ca276da400905241914r1998a44bp449b1168e891a926%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007270.html">
   <LINK REL="Next"  HREF="007180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Correct script to flash the lpc-2148</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Correct%20script%20to%20flash%20the%20lpc-2148&In-Reply-To=%3Ca276da400905241914r1998a44bp449b1168e891a926%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Correct script to flash the lpc-2148">xiaofanc at gmail.com
       </A><BR>
    <I>Mon May 25 04:14:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007270.html">[Openocd-development] Correct script to flash the lpc-2148
</A></li>
        <LI>Next message: <A HREF="007180.html">[Openocd-development] New trunk 1906
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7219">[ date ]</a>
              <a href="thread.html#7219">[ thread ]</a>
              <a href="subject.html#7219">[ subject ]</a>
              <a href="author.html#7219">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, May 24, 2009 at 7:03 PM, Michael Fischer &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">fischermi at t-online.de</A>&gt; wrote:
&gt;<i> Now I take a look in the openocd manual and found the following
</I>&gt;<i> information:
</I>&gt;<i>
</I>&gt;<i> 13.2.2.1 lpc2000 options
</I>&gt;<i> flash bank lpc2000 &lt;base&gt; &lt;size&gt; 0 0 &lt;target&gt; &lt;variant&gt; &lt;clock&gt; [calc
</I>&gt;<i> checksum]
</I>&gt;<i>
</I>&gt;<i> ...and the optional keyword calc checksum, telling the
</I>&gt;<i> driver to calculate a valid checksum for the exception vector table.
</I>&gt;<i>
</I>&gt;<i> If I use now the calc_checksum options in my cfg file:
</I>&gt;<i> The new checksum was calculated, and the program is working.
</I>
Yes I think this is working now with your updated cfg file.

&gt;<i> An other solution is, to change the startup code like:
</I>&gt;<i>
</I>&gt;<i> _vectors: &#160; &#160; &#160; ldr &#160; &#160; PC, Reset_Addr
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ldr &#160; &#160; PC, Undef_Addr
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ldr &#160; &#160; PC, SWI_Addr
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ldr &#160; &#160; PC, PAbt_Addr
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;ldr &#160; &#160; PC, DAbt_Addr
</I>&gt;<i> &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;.word 0xb9205f84
</I>&gt;<i>
</I>&gt;<i> In this case the correct checksum is set, and the program should work too.
</I>&gt;<i>
</I>It seems to me this is not preferred in real life. The checksum will change
every time you change the program and you do not want to change
your startup code every time. All the examples I have use the similar
startup codes without setting the checksum.

-- 
Xiaofan <A HREF="http://mcuee.blogspot.com">http://mcuee.blogspot.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007270.html">[Openocd-development] Correct script to flash the lpc-2148
</A></li>
	<LI>Next message: <A HREF="007180.html">[Openocd-development] New trunk 1906
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7219">[ date ]</a>
              <a href="thread.html#7219">[ thread ]</a>
              <a href="subject.html#7219">[ subject ]</a>
              <a href="author.html#7219">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
