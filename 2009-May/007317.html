<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] RFC: uint32_t vrs u32 - et al
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20uint32_t%20vrs%20u32%20-%20et%20al&In-Reply-To=%3C1243291026.18441.807.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007313.html">
   <LINK REL="Next"  HREF="007319.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] RFC: uint32_t vrs u32 - et al</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20RFC%3A%20uint32_t%20vrs%20u32%20-%20et%20al&In-Reply-To=%3C1243291026.18441.807.camel%40localhost%3E"
       TITLE="[Openocd-development] RFC: uint32_t vrs u32 - et al">zw at superlucidity.net
       </A><BR>
    <I>Tue May 26 00:37:06 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007313.html">[Openocd-development] RFC: uint32_t vrs u32 - et al
</A></li>
        <LI>Next message: <A HREF="007319.html">[Openocd-development] RFC: uint32_t vrs u32 - et al
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7317">[ date ]</a>
              <a href="thread.html#7317">[ thread ]</a>
              <a href="subject.html#7317">[ subject ]</a>
              <a href="author.html#7317">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, 2009-05-25 at 15:02 -0700, Rick Altherr wrote:
&gt;<i> On May 25, 2009, at 2:50 PM, Zach Welch wrote:
</I>&gt;<i> 
</I>&gt;<i> &gt; On Mon, 2009-05-25 at 14:38 -0700, Rick Altherr wrote:
</I>&gt;<i> &gt;&gt; On May 25, 2009, at 2:24 PM, Zach Welch wrote:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; Further, you can argue with the following assertions -- only if  
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; you
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; can
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; show me a patch that proves them wrong:
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Show me your patch, or let me commit mine.  This debate is silly.
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Cheers,
</I>&gt;<i> &gt;&gt;&gt;
</I>&gt;<i> &gt;&gt;&gt; Zach
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; It's interesting that every time a discussion about preferences comes
</I>&gt;<i> &gt;&gt; up, it typically ends with &quot;Here's my patch.  This is silly.  My  
</I>&gt;<i> &gt;&gt; patch
</I>&gt;<i> &gt;&gt; already works, let's just commit it.&quot;  It's not like discussion is
</I>&gt;<i> &gt;&gt; painful or this issue is causing problems for anyone.  We're better
</I>&gt;<i> &gt;&gt; off coming up with an answer that everyone is OK with rather than  
</I>&gt;<i> &gt;&gt; just
</I>&gt;<i> &gt;&gt; defaulting to whatever patch shows up first.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Actually, these kinds of issues are very frustrating to me personally,
</I>&gt;<i> &gt; because they always end up being counterproductive.  This is why I am
</I>&gt;<i> &gt; maintaining the Style Guide.  I desperately want to hereafter resolve
</I>&gt;<i> &gt; this debate by shouting &quot;RTFM and STFU&quot;; anything else is time wasted.
</I>&gt;<i> &gt; The burden of proof lies on the person that lacks a patch in-hand.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Until these matters are fully resolved, the discussion does cause a
</I>&gt;<i> &gt; problem because it prevents us from moving forward with genuinely
</I>&gt;<i> &gt; productive work on the system.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> It isn't counterproductive the first time the discussion happens.   
</I>&gt;<i> It's counterproductive when someone wants to go against the  
</I>&gt;<i> established convention.  The burden is always on the person who is  
</I>&gt;<i> arguing for something different that the convention.  In this case,  
</I>&gt;<i> it's both of us.
</I>
True.  However, I have been thinking about the bigger context: 0.2.0.

&gt;<i> &gt;&gt; The opposing patch is attached.  As I already mentioned, it is large,
</I>&gt;<i> &gt;&gt; but the changes were done entirely with the following commands:
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; find . -name \*.[ch] -exec sed -i .old -e 's/u8/uint8_t/g' {} \;
</I>&gt;<i> &gt;&gt; find . -name \*.[ch] -exec sed -i .old -e 's/u16/uint16_t/g' {} \;
</I>&gt;<i> &gt;&gt; find . -name \*.[ch] -exec sed -i .old -e 's/u32/uint32_t/g' {} \;
</I>&gt;<i> &gt;&gt; find . -name \*.[ch] -exec sed -i .old -e 's/u64/uint64_t/g' {} \;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; find . -name \*.[ch] -exec sed -i .old -e 's/_uint8_t/_uint8/g' {} \;
</I>&gt;<i> &gt;&gt; find . -name \*.[ch] -exec sed -i .old -e 's/_uint16_t/_uint16/ 
</I>&gt;<i> &gt;&gt; g' {} \;
</I>&gt;<i> &gt;&gt; find . -name \*.[ch] -exec sed -i .old -e 's/_uint32_t/_uint32/ 
</I>&gt;<i> &gt;&gt; g' {} \;
</I>&gt;<i> &gt;&gt; find . -name \*.[ch] -exec sed -i .old -e 's/_uint64_t/_uint64/ 
</I>&gt;<i> &gt;&gt; g' {} \;
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; The first set just do a bulk rename of the types, but it also changes
</I>&gt;<i> &gt;&gt; function names.  Since it looks odd to include the _t in a function
</I>&gt;<i> &gt;&gt; name, the second set changes the pattern used for function names to
</I>&gt;<i> &gt;&gt; not include the _t.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; I hate it.  You seriously want to make all of the functions that
</I>&gt;<i> &gt; referred to u16 or u32 to now refer to uint16 and uint32???  This was
</I>&gt;<i> &gt; _exactly_ what I meant when I said a patch would be hard to create.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> It wasn't hard to create at all.  Eight find and replaces is all it  
</I>&gt;<i> took.  Less than 10 minutes.
</I>
It was incomplete and would probably raise objections from others.

&gt;<i> &gt; Also, you do realize that the scope of these changes is _much_ more
</I>&gt;<i> &gt; likely to be disruptive to anyone with out-of-tree changes in  
</I>&gt;<i> &gt; progress?
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> Yup.  It is.  Sadly until we decide on all these various conventions,  
</I>&gt;<i> things are always going to be disruptive to those with out-of-tree  
</I>&gt;<i> changes.  At least in this case, syncing with ToT is relatively  
</I>&gt;<i> simple.  Using minimal change as an argument for is dangerous.   
</I>&gt;<i> Consider the local minimum effect.  To get to a better solution, you  
</I>&gt;<i> might need to stir things up a bit in the short term.  The question we  
</I>&gt;<i> need to be asking is &quot;Do we do a big change now, or do we live with a  
</I>&gt;<i> non-standard type system?&quot;
</I>
We are talking about 0.2.0.  Would you like to perform the risk/reward
analysis of my patch versus yours, focusing on the impact they will each
have on fixes being developed for the release?

A local minimum would be better than no change and much better than your
proposed big change.  It would better to have and stick to a convention
that we can change later, minimizing the cost to everyone today.

I cleaned up the code to the current convention because it is the right
thing to do _today_.  Period.  Tomorrow is a different story, and you
should definitely be aware that I am open to a patch like yours someday.
Just not for 0.2.0, okay?

&gt;<i> &gt; Are you insane or merely sadistic? :)
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> Neither and the smiley doesn't really help your case either. You're  
</I>&gt;<i> taking this _way_ too personal for something that is a relatively  
</I>&gt;<i> mundane discussion.  
</I>
The smiley meant to frame the rhetorical question as humorous.  Clearly,
this was not the time or place for that, so I must wonder if I am not
alone in fitting your further assertion.

&gt;<i> The two sides have chimed in, patches have been  
</I>&gt;<i> provided, and a fair number of developers have commented.  It's up to  
</I>&gt;<i> the majority to decide which way to go.
</I>
Okay, I waited to pull the consensus card, but the majority of others
have already expressed their opinion that the shorthand status quo would
be acceptable (if not preferred).  I think even Duane is okay with it.
While you thus represent the minority, I have entertained this argument
because your earlier point was essentially correct: both of our proposed
standards are perfectly valid conventions in their own right.

If anything, my frustration derives from the fact that -- as a
maintainer yourself -- you should have been looking at the consensus
that was already being expressed by the community and let it drop sooner
than this (nevermind 0.2.0 considerations).  As a project leader, I see
these kinds of debates as detrimental to being effective in a community,
as it appears the individuals are unable resolve their points in an
efficient and effective manner.

This is why I have come to prefer &quot;benevolent dictators&quot; in open source.
Right and wrong are too frequently subjective subjects, and it would
just be better for someone must step in end the argument with a
decision.  Successive &quot;wrong&quot; decisions are met with forks, but those
that think them &quot;right&quot; will all be moving in harmony towards their next
project milestone.  I think this project could use more of that.

Please correct me if I am wrong on these points.

Cheers,

Zach


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007313.html">[Openocd-development] RFC: uint32_t vrs u32 - et al
</A></li>
	<LI>Next message: <A HREF="007319.html">[Openocd-development] RFC: uint32_t vrs u32 - et al
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7317">[ date ]</a>
              <a href="thread.html#7317">[ thread ]</a>
              <a href="subject.html#7317">[ subject ]</a>
              <a href="author.html#7317">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
