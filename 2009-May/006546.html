<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] jtag perl scripts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20jtag%20perl%20scripts&In-Reply-To=%3C1242337187.4730.904.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006569.html">
   <LINK REL="Next"  HREF="006548.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] jtag perl scripts</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20jtag%20perl%20scripts&In-Reply-To=%3C1242337187.4730.904.camel%40localhost%3E"
       TITLE="[Openocd-development] jtag perl scripts">zw at superlucidity.net
       </A><BR>
    <I>Thu May 14 23:39:47 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006569.html">[Openocd-development] 0.2.0 release process?
</A></li>
        <LI>Next message: <A HREF="006548.html">[Openocd-development] load_file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6546">[ date ]</a>
              <a href="thread.html#6546">[ thread ]</a>
              <a href="subject.html#6546">[ subject ]</a>
              <a href="author.html#6546">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,

I spent a few hours** playing with Perl and followed through with a
couple of ideas that had floated through the list in the past.  The
results of that work are attached.  Share and enjoy.

The first file, JTAG.pm, is a Perl module that defines the TAP state
machine and provides routines for accessing and traversing it.  These
were loosely modeled on the existing OpenOCD APIs and could probably
stand to be improved and extended.

The second script, jtag_state_graph.pl, will create a SVG image of the
state machine using the GraphViz perl module (jtag_state_machine.svg).
It too needs a little clean-up, as I seem to have exposed a bug with the
'rank' node attributes that creates a phantom 'node17'.  Annoying, but
this graph would suffice for the JTAG Primer after some post-processing.

The third file, jtag_state_table.pl, creates a C source file that
contains the complete TAP transition table and associated path lengths.
The generated code file contains replacements for existing functions of
the same name; however, this is _NOT_ intended for immediate integration
into the system (maybe for 0.3.0).  I have not even tried to compile it.
It is proof-of-concept for an idea posted on this list in the past few
months by another contributor, but I cannot find that reference now.

The last file is a trivial Makefile used for testing purposes.

I am thinking about adding these scripts in the tree (in tools/), but I
would like to hear some feedback about them first.

Cheers,

Zach

** I did this work before turning to project management tasks, but I
thought it still worth providing a constructive diversion. :)
-------------- next part --------------
A non-text attachment was scrubbed...
Name: JTAG.pm
Type: application/x-perl
Size: 3486 bytes
Desc: 
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090514/e381cea6/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090514/e381cea6/attachment.bin</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: jtag_state_graph.pl
Type: application/x-perl
Size: 1456 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090514/e381cea6/attachment-0001.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090514/e381cea6/attachment-0001.bin</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: jtag_state_table.pl
Type: application/x-perl
Size: 1863 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090514/e381cea6/attachment-0002.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090514/e381cea6/attachment-0002.bin</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: Makefile
Type: text/x-makefile
Size: 148 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090514/e381cea6/attachment-0003.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090514/e381cea6/attachment-0003.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006569.html">[Openocd-development] 0.2.0 release process?
</A></li>
	<LI>Next message: <A HREF="006548.html">[Openocd-development] load_file
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6546">[ date ]</a>
              <a href="thread.html#6546">[ thread ]</a>
              <a href="subject.html#6546">[ subject ]</a>
              <a href="author.html#6546">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
