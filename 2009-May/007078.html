<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] SVF patch according to Johann's test
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20SVF%20patch%20according%20to%20Johann%27s%20test&In-Reply-To=%3C200905230205228430467%40SimonQian.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007076.html">
   <LINK REL="Next"  HREF="007138.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] SVF patch according to Johann's test</H1>
    <B>SimonQian</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20SVF%20patch%20according%20to%20Johann%27s%20test&In-Reply-To=%3C200905230205228430467%40SimonQian.com%3E"
       TITLE="[Openocd-development] SVF patch according to Johann's test">simonqian at SimonQian.com
       </A><BR>
    <I>Fri May 22 20:05:24 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007076.html">[Openocd-development] SVF patch according to Johann's test
</A></li>
        <LI>Next message: <A HREF="007138.html">[Openocd-development] SVF patch according to Johann's test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7078">[ date ]</a>
              <a href="thread.html#7078">[ thread ]</a>
              <a href="subject.html#7078">[ subject ]</a>
              <a href="author.html#7078">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I think we can commit this patch, it only changes svf_check_tdo function, 
which is used to check tdo output with desired values.
The patch will call buf_cmp_mask function to do the comparation instead of 
writing the loop code. The patch also fix a bug when data length is 32 bit(equal to sizeof(int)).

Attached patch remove other modifications except for svf_check_tdo function.


2009-05-23 



Best Regards, Simon Qian

SimonQian(<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">simonqian at SimonQian.com</A>) ---- www.SimonQian.com



&#21457;&#20214;&#20154;&#65306; Rick Altherr 
&#21457;&#36865;&#26102;&#38388;&#65306; 2009-05-23  01:44:54 
&#25910;&#20214;&#20154;&#65306; SimonQian 
&#25220;&#36865;&#65306; 'openocd-development' 
&#20027;&#39064;&#65306; Re: [Openocd-development] SVF patch according to Johann's test 
 
Are we waiting on testing results?


Rick




On May 21, 2009, at 7:57 AM, SimonQian wrote:


Johann,
I found the svf_check_tdo has been modified in the SVN HEAD.
Can you check it on your target?
Attachment is my patch to use buf_cmp_mask when compare data, please check it too.

A problem in svf.c and xsvf.c:
xsvf.c: In function `handle_xsvf_command':
xsvf.c:1025: warning: long int format, different type arg (arg 4)
svf.c: In function `handle_svf_command':
svf.c:333: warning: int format, different type arg (arg 3)
They should be the same problem.

2009-05-21



Best Regards, Simon Qian

SimonQian(<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">simonqian at SimonQian.com</A>) ---- www.SimonQian.com



&#21457;&#20214;&#20154;&#65306; SimonQian
&#21457;&#36865;&#26102;&#38388;&#65306; 2009-05-21  20:57:02
&#25910;&#20214;&#20154;&#65306; Rick Altherr
&#25220;&#36865;&#65306; 'openocd-development'
&#20027;&#39064;&#65306; Re: [Openocd-development] SVF patch according to Johann's test
I'll check it out this week.


2009-05-21



Best Regards, Simon Qian

SimonQian(<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">simonqian at SimonQian.com</A>) ---- www.SimonQian.com



&#21457;&#20214;&#20154;&#65306; Rick Altherr
&#21457;&#36865;&#26102;&#38388;&#65306; 2009-05-21  13:32:22
&#25910;&#20214;&#20154;&#65306; SimonQian
&#25220;&#36865;&#65306; 'openocd-development'
&#20027;&#39064;&#65306; Re: [Openocd-development] SVF patch according to Johann's test
This doesn't seem to be applied to trunk, nor does it apply cleanly.  Is there an updated version available?


Rick




On Apr 3, 2009, at 6:11 AM, SimonQian wrote:


So the patch in this mail is enough.
It fix only the svf_check_tdo function.


2009-04-03



Best Regards, Simon Qian

SimonQian(<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">simonqian at SimonQian.com</A>) ---- www.SimonQian.com



&#21457;&#20214;&#20154;&#65306; Spencer Oliver
&#21457;&#36865;&#26102;&#38388;&#65306; 2009-04-03  20:41:39
&#25910;&#20214;&#20154;&#65306; 'SimonQian'; 'openocd-development'
&#25220;&#36865;&#65306;
&#20027;&#39064;&#65306; Re: [Openocd-development] SVF patch according to Johann's test

&gt;<i> Fix:
</I>&gt;<i> 1. As Johann suggested, max line width is 80 characters, 
</I>&gt;<i> according to GNU coding standard.
</I>This is not a requirement of openocd
Theses are the openocd coding rules, they were part of the old readme but
need adding to the texi:
This is from the old readme - needs adding to the docs again
5. Coding Style
The following rules try to describe formatting and naming conventions that
should be followed to make the whole OpenOCD code look more consistent.
The ultimate goal of coding style should be readability, and these rules may
be ignored for a particular (small) piece of code if that makes it more
readable.
Formatting rules:
- remove any trailing white space
- use TAB characters for indentation, not spaces
- displayed TAB width is 4 characters
- make sure NOT to use DOS '\r\n' line feeds
- do not add more than 2 empty lines to source files
- do not add trailing empty lines to source files
- do not use C++ style comments (//)
- lines may be reasonably wide - there's no anachronistic 80 characters
limit
Naming rules:
- identifiers use lower-case letters only
- identifiers consisting of multiple words use underline characters between
consecutive words
- macros use upper-case letters only
- structure names shall be appended with '_s'
- typedefs shall be appended with '_t'
Function calls:
- function calls have no space between the functions name and the parameter
list: my_func(param1, param2, ...)
Cheers
Spen
_______________________________________________
Openocd-development mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
&lt;svf.patch&gt;
_______________________________________________
Openocd-development mailing list
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>



--
Rick Altherr
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>


&quot;He said he hadn't had a byte in three days. I had a short, so I split it with him.&quot;
 -- Unsigned






&lt;svf.diff&gt;


--
Rick Altherr
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>


&quot;He said he hadn't had a byte in three days. I had a short, so I split it with him.&quot;
 -- Unsigned
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090523/8df9cc12/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20090523/8df9cc12/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: svf.diff
Type: application/octet-stream
Size: 2069 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090523/8df9cc12/attachment.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090523/8df9cc12/attachment.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007076.html">[Openocd-development] SVF patch according to Johann's test
</A></li>
	<LI>Next message: <A HREF="007138.html">[Openocd-development] SVF patch according to Johann's test
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7078">[ date ]</a>
              <a href="thread.html#7078">[ thread ]</a>
              <a href="subject.html#7078">[ subject ]</a>
              <a href="author.html#7078">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
