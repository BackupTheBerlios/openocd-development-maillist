<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] TMS470 Scripts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20TMS470%20Scripts&In-Reply-To=%3Ca276da400905251648p50c38ca1t5e57c6e53ce92c3%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="007325.html">
   <LINK REL="Next"  HREF="007343.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] TMS470 Scripts</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20TMS470%20Scripts&In-Reply-To=%3Ca276da400905251648p50c38ca1t5e57c6e53ce92c3%40mail.gmail.com%3E"
       TITLE="[Openocd-development] TMS470 Scripts">xiaofanc at gmail.com
       </A><BR>
    <I>Tue May 26 01:48:37 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="007325.html">[Openocd-development] [patch] reset configuration doc updates
</A></li>
        <LI>Next message: <A HREF="007343.html">[Openocd-development] TMS470 Scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7321">[ date ]</a>
              <a href="thread.html#7321">[ thread ]</a>
              <a href="subject.html#7321">[ subject ]</a>
              <a href="author.html#7321">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Does anyone have the device cfg file for TMS470 chips, like TMS470R1A256?
I searched the mailing list archive and it seems that it should work. But I
could not find a cfg file for it. How should I write the cfg file for it?

For the V6 Jlink (my V3 does not seem to work) and the IAR Kickstart board
for TMS470R1A256, the following is the output from Segger's Linux utility.

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/jlink$ ./start
SEGGER J-Link Commander V4.03a ('?' for help)
Compiled Feb  2 2009 11:34:21
Updating firmware:  J-Link ARM V6 compiled Jan 15 2009 11:58:34
Replacing firmware: J-Link ARM V6 compiled Dec 03 2007 17:34:18
Waiting for new firmware to boot
New firmware booted successfully

****** Error: Communication timed out after firmware update
DLL version V4.03a, compiled Feb  2 2009 11:34:13
Unable to retrieve firmware info !
S/N : 156007287
OEM : IAR
Feature(s) : RDI, FlashDL, GDBFull, FlashBP, JFlash
VTarget = 3.138V
Info: TotalIRLen = 4, IRPrint = 0x01

WARNING: Identified core does not match configuration. (Found: ARM7,
Configured: None)
Found 1 JTAG device, Total IRLen = 4:
 Id of device #0: 0x3100E02F
Found ARM with core Id 0x3100E02F (ARM7)
JTAG speed: 5 kHz
J-Link&gt;?
J-Link&gt;hwinfo
HWInfo[00] = Target power is enabled
HWInfo[02] = 12mA	(ITarget)
HWInfo[03] = 19mA	(ITargetPeak)
HWInfo[04] = 19mA	(ITargetPeakOperation)
HWInfo[10] = 0ms	(ITargetMaxTime0)
HWInfo[11] = 0ms	(ITargetMaxTime1)
HWInfo[12] = 0ms	(ITargetMaxTime2)
J-Link&gt;halt
J-Link&gt;i
JTAG Id: 0x3100E02F  Version: 0x3 Part no: 0x100e Man. Id: 0017
J-Link&gt;st
VTarget=3.138V
ITarget=1mA
TCK=1 TDI=0 TDO=0 TMS=0 TRES=1 TRST=1
Supported JTAG speeds:
 - 48 MHz/n, (n&gt;=4). =&gt; 12000kHz, 9600kHz, 8000kHz, ...
 - Adaptive clocking
J-Link&gt;is
JTAG scan length: 4
J-Link&gt;mr
RTCK did not react
J-Link&gt;ms
Syntax: ms &lt;scan chain&gt;
J-Link&gt;ms 1
Length of scan chain [1] = 33
J-Link&gt;ms 0
Length of scan chain [0] = 105
J-Link&gt;ms 2
Length of scan chain [2] = 38
J-Link&gt;ms 3
Length of scan chain [3] = 2
J-Link&gt;ms 4
Length of scan chain [4] = 157

Thanks in advance.

-- 
Xiaofan <A HREF="http://mcuee.blogspot.com">http://mcuee.blogspot.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="007325.html">[Openocd-development] [patch] reset configuration doc updates
</A></li>
	<LI>Next message: <A HREF="007343.html">[Openocd-development] TMS470 Scripts
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#7321">[ date ]</a>
              <a href="thread.html#7321">[ thread ]</a>
              <a href="subject.html#7321">[ subject ]</a>
              <a href="author.html#7321">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
