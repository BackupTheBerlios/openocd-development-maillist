<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Compile issue on mingw on current svn
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Compile%20issue%20on%20mingw%20on%20current%20svn&In-Reply-To=%3CE1M4Cgo-0006qC-W7%40localhost.plus.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="006591.html">
   <LINK REL="Next"  HREF="006471.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Compile issue on mingw on current svn</H1>
    <B>Spencer Oliver</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Compile%20issue%20on%20mingw%20on%20current%20svn&In-Reply-To=%3CE1M4Cgo-0006qC-W7%40localhost.plus.net%3E"
       TITLE="[Openocd-development] Compile issue on mingw on current svn">spen at spen-soft.co.uk
       </A><BR>
    <I>Wed May 13 13:32:28 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="006591.html">[Openocd-development] Compile issue on mingw on current svn
</A></li>
        <LI>Next message: <A HREF="006471.html">[Openocd-development] verify_jtag disable/enable command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6474">[ date ]</a>
              <a href="thread.html#6474">[ thread ]</a>
              <a href="subject.html#6474">[ subject ]</a>
              <a href="author.html#6474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE> 
&gt;<i> 4) This one is blocking, during the compilation of openocd.c, 
</I>&gt;<i> there is a syntax error around  -DPKGBLDDATE=\&quot;`date +%F-%R`\&quot;
</I>&gt;<i> I am not sure how to fix it ...
</I>&gt;<i> 
</I>&gt;<i>  mingw32-make[3]: Entering directory `c:/Workspace-1/openocd/src'
</I>&gt;<i> C:/cygwin/bin/sh.exe ../libtool --tag=CC   --mode=compile mingw32-gcc
</I>&gt;<i> -std=gnu99 -DHAVE_CONFIG_H -I. -I..  
</I>&gt;<i> -DPKGLIBDIR=\&quot;/usr/local/lib/open ocd\&quot; -DPKGBLDDATE=\&quot;`date 
</I>&gt;<i> +%F-%R`\&quot;  -DRELSTR=\&quot;svn:\&quot;
</I>&gt;<i> -DPKGBLDREV=\&quot;`../guess-rev.sh ..`\&quot; -I../src -I../src/helper 
</I>&gt;<i> -I../src/jtag -I../src /target -I../src/xsvf -I../src/svf 
</I>&gt;<i> -I../src/server -I../src/flash -I../src/pld 
</I>&gt;<i> -IC:/libusb-win32-device-bin-0.1.12.1/include
</I>&gt;<i> -IC:/libusb-win
</I>&gt;<i> 32-device-bin-0.1.12.1/include  -g -O2 -Ic:/ftdi-2.04.06 
</I>&gt;<i> -Wall -Wstrict-prototypes -Wformat-security -Wextra 
</I>&gt;<i> -Wno-unused-parameter -Wbad-fun ction-cast -Wcast-align 
</I>&gt;<i> -Wredundant-decls -Werror -MT libopenocd_la-openocd.lo -MD 
</I>&gt;<i> -MP -MF .deps/libopenocd_la-openocd.Tpo -c -o libopenocd_ 
</I>&gt;<i> la-openocd.lo `test -f 'openocd.c' || echo './'`openocd.c
</I>&gt;<i> /usr/bin/sh: \: command not found
</I>&gt;<i> libtool: compile:  mingw32-gcc -std=gnu99 -DHAVE_CONFIG_H -I. -I..
</I>&gt;<i> &quot;-DPKGLIBDIR=\\/usr/local/lib/openocd\\ -DPKGBLDDATE=\\\`date&quot;
</I>&gt;<i> &quot;+%F-%R\\
</I>&gt;<i> -I../src&quot; -I../src/helper -I../src/jtag -I../src/target 
</I>&gt;<i> -I../src/xsvf -I../src/svf -I../src/server -I../src/flash 
</I>&gt;<i> -I../src/pld -IC:/libusb-w in32-device-bin-0.1.12.1/include 
</I>&gt;<i> -IC:/libusb-win32-device-bin-0.1.12.1/include -g -O2 
</I>&gt;<i> -Ic:/ftdi-2.04.06 -Wall -Wstrict-prototypes -Wformat-s 
</I>&gt;<i> ecurity -Wextra -Wno-unused-parameter -Wbad-function-cast 
</I>&gt;<i> -Wcast-align -Wredundant-decls -Werror -MT 
</I>&gt;<i> libopenocd_la-openocd.lo -MD -MP -MF .d 
</I>&gt;<i> eps/libopenocd_la-openocd.Tpo -c openocd.c  -DDLL_EXPORT 
</I>&gt;<i> -DPIC -o .libs/libopenocd_la-openocd.o
</I>&gt;<i> mingw32-gcc.exe: +%F-%R\ -I../src : No such file or directory
</I>&gt;<i> openocd.c: In function 'handle_version_command':
</I>&gt;<i> openocd.c:75: erreur: expected ')' before 'PKGBLDDATE'
</I>&gt;<i> openocd.c: In function 'setup_command_handler':
</I>&gt;<i> openocd.c:213: erreur: expected ')' before 'PKGBLDDATE'
</I>&gt;<i> mingw32-make[3]: *** [libopenocd_la-openocd.lo] Error 1
</I>&gt;<i> mingw32-make[3]: Leaving directory `c:/Workspace-1/openocd/src'
</I>&gt;<i> mingw32-make[2]: *** [all-recursive] Error 1
</I>&gt;<i> mingw32-make[2]: Leaving directory `c:/Workspace-1/openocd/src'
</I>&gt;<i> mingw32-make[1]: *** [all-recursive] Error 1
</I>&gt;<i> mingw32-make[1]: Leaving directory `c:/Workspace-1/openocd'
</I>&gt;<i> mingw32-make: *** [all] Error 2
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Keep up the good work ...
</I>&gt;<i> 
</I>
It looks to me that your are trying to mix cygwin and native build tools.
I would recommend you either use cygwin to build and pass
CFLAGS='-mno-cygwin' to configure or setup a working msys enviroment.

Cheers
Spen

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="006591.html">[Openocd-development] Compile issue on mingw on current svn
</A></li>
	<LI>Next message: <A HREF="006471.html">[Openocd-development] verify_jtag disable/enable command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6474">[ date ]</a>
              <a href="thread.html#6474">[ thread ]</a>
              <a href="subject.html#6474">[ subject ]</a>
              <a href="author.html#6474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
