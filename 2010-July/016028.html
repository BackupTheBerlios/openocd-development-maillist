<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Requesting Help: How to add memory mapped I/O registers?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Requesting%20Help%3A%20How%20to%20add%20memory%20mapped%0A%20I/O%20registers%3F&In-Reply-To=%3CBAY155-w41460FCD671397AEB4844ED9B40%40phx.gbl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016026.html">
   <LINK REL="Next"  HREF="016027.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Requesting Help: How to add memory mapped I/O registers?</H1>
    <B>Robert Lee</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Requesting%20Help%3A%20How%20to%20add%20memory%20mapped%0A%20I/O%20registers%3F&In-Reply-To=%3CBAY155-w41460FCD671397AEB4844ED9B40%40phx.gbl%3E"
       TITLE="[Openocd-development] Requesting Help: How to add memory mapped I/O registers?">zotheneq at hotmail.com
       </A><BR>
    <I>Thu Jul  8 18:27:20 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016026.html">[Openocd-development] Requesting Help: How to add memory mapped	I/O registers?
</A></li>
        <LI>Next message: <A HREF="016027.html">[Openocd-development] Requesting Help: How to add memory mapped	I/O registers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16028">[ date ]</a>
              <a href="thread.html#16028">[ thread ]</a>
              <a href="subject.html#16028">[ subject ]</a>
              <a href="author.html#16028">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hey David, 

Thanks for the reply.  Let me back up a bit and say that currently my only knowledge of OpenOCD, GDB, and GDBserver is from a user's perspective, and a GDB GUI user perspective at that.  I run OpenOCD, connect to the GDB port from my GDB client launched by my debugger GUI (Eclipse or DDD).  My end goal is to have peripheral registers show up automatically in the GUI register window without any client side modifications.  Just like the CPU registers show up for the different cores without the client side knowing much about the target, initially. 

I am vaguely aware of the web port connection as me and a colleague read it about once when initially building and using OpenOCD.  It sounds like the method you and Oyvind are describing would give access to peripheral registers via some command prompt, but not in an already existing window in the various GDB GUI's that exist.  Is that correct?  If so, it may be just as easy to run some script on the GDB client side and let it just pass the memory read/write commands to the GDBserver?

Disclaimer: Please excuse my OpenOCD ignorance!

Thanks,
Rob



Date: Thu, 8 Jul 2010 09:09:18 -0700
From: <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>
Subject: Re: [Openocd-development] Requesting Help: How to add memory mapped I/O registers?
To: <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">oyvind.harboe at zylin.com</A>; <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">zotheneq at hotmail.com</A>
CC: <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development at lists.berlios.de</A>


I'm guessing that if I wanted to try to contribute to OpenOCD to add this support, there would be a very steep learning curve. 

Maybe.  The TCL bits, plus whatever display technique
is used -- ideally, through the web server.  The TCL stuff
is easy and you'll want to know that if you work much at
all with OpenOCD.

 If anyone could point me to a good starting point to learn the system well enough to add this support, I could try looking into it.


The basic TCL access is easy; you could look for one
example at the davinci clock setup logic for how to read
and write such registers, and tthere are also some utils
somewhere in the tcl library.

What I've done sometimes is just
 print the values via TCL, when debugging setup code, lots of one-off logic
to get at modules that I need.

 		 	   		  
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20100708/01656e5a/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20100708/01656e5a/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016026.html">[Openocd-development] Requesting Help: How to add memory mapped	I/O registers?
</A></li>
	<LI>Next message: <A HREF="016027.html">[Openocd-development] Requesting Help: How to add memory mapped	I/O registers?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16028">[ date ]</a>
              <a href="thread.html#16028">[ thread ]</a>
              <a href="subject.html#16028">[ subject ]</a>
              <a href="author.html#16028">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
