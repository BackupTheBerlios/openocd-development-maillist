<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] LPC1343 ISP trouble
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20LPC1343%20ISP%20trouble&In-Reply-To=%3CAANLkTikT1zTgMkPryKGNN09ZbQXup%3DEmPYXn5%2BH4R4%2Bt%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016129.html">
   <LINK REL="Next"  HREF="016004.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] LPC1343 ISP trouble</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20LPC1343%20ISP%20trouble&In-Reply-To=%3CAANLkTikT1zTgMkPryKGNN09ZbQXup%3DEmPYXn5%2BH4R4%2Bt%40mail.gmail.com%3E"
       TITLE="[Openocd-development] LPC1343 ISP trouble">xiaofanc at gmail.com
       </A><BR>
    <I>Tue Jul 27 07:29:36 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016129.html">[Openocd-development] LPC1343 ISP trouble
</A></li>
        <LI>Next message: <A HREF="016004.html">[Openocd-development] [PATCH] transport: fix segfault in	setup_command_handler()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16130">[ date ]</a>
              <a href="thread.html#16130">[ thread ]</a>
              <a href="subject.html#16130">[ subject ]</a>
              <a href="author.html#16130">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Jul 27, 2010 at 2:14 AM, Peter Stuge &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">peter at stuge.se</A>&gt; wrote:
&gt;<i> I know this isn't strictly related to OpenOCD, but maybe someone has
</I>&gt;<i> an idea anyway..
</I>&gt;<i>
</I>&gt;<i> The USB ISP procedure is to delete that file and then copy another
</I>&gt;<i> file into the directory, the name is not important. That file will
</I>&gt;<i> then be flashed over the previous firmware, and booted on next reset.
</I>&gt;<i>
</I>&gt;<i> However - there's a problem somewhere..
</I>&gt;<i>
</I>&gt;<i> The NXP LPC1343 User Manual specs in bold that this procedure only
</I>&gt;<i> works on Windows, but although I don't see why that should be the
</I>&gt;<i> case, it seems that my problem is because of something that Linux
</I>&gt;<i> does a little differently..
</I>&gt;<i>
</I>&gt;<i> I rm, cp, umount and reset the target, but it doesn't blink. Going
</I>&gt;<i> back into USB ISP mode I can read out the firmware that got flashed,
</I>&gt;<i> and it reads back the same as I programmed, except that it now has
</I>&gt;<i> 1024 bytes of 0 prepended to it.
</I>&gt;<i>
</I>&gt;<i> Any ideas? I'll ask usb-storage people too.
</I>&gt;<i>
</I>
I saw you posted to the linux-usb and linux-usb-storage mailing
list. That two should be the right place to ask.

Just a thought, maybe this device is not really adhering to
the USB standard. Maybe you want to run USBCV (under
Windows) from usb.org to see if there are some defects.
Then probably you can figure out the quirks needed under
Linux to work properly with the USB ISP mode.

-- 
Xiaofan <A HREF="http://sourceforge.net/projects/libusb-win32/">http://sourceforge.net/projects/libusb-win32/</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016129.html">[Openocd-development] LPC1343 ISP trouble
</A></li>
	<LI>Next message: <A HREF="016004.html">[Openocd-development] [PATCH] transport: fix segfault in	setup_command_handler()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16130">[ date ]</a>
              <a href="thread.html#16130">[ thread ]</a>
              <a href="subject.html#16130">[ subject ]</a>
              <a href="author.html#16130">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
