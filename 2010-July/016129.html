<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] LPC1343 ISP trouble
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20LPC1343%20ISP%20trouble&In-Reply-To=%3C20100726181457.24616.qmail%40stuge.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015993.html">
   <LINK REL="Next"  HREF="016130.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] LPC1343 ISP trouble</H1>
    <B>Peter Stuge</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20LPC1343%20ISP%20trouble&In-Reply-To=%3C20100726181457.24616.qmail%40stuge.se%3E"
       TITLE="[Openocd-development] LPC1343 ISP trouble">peter at stuge.se
       </A><BR>
    <I>Mon Jul 26 20:14:57 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015993.html">[Openocd-development] committed &quot;transport&quot; framework
</A></li>
        <LI>Next message: <A HREF="016130.html">[Openocd-development] LPC1343 ISP trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16129">[ date ]</a>
              <a href="thread.html#16129">[ thread ]</a>
              <a href="subject.html#16129">[ subject ]</a>
              <a href="author.html#16129">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I know this isn't strictly related to OpenOCD, but maybe someone has
an idea anyway..


Peter Stuge wrote:
&gt;<i> I'm interested in LPC1343, and looking closer at it now, it can be
</I>&gt;<i> in-system-programmed via USB or UART, besides via SWD.
</I>
I have the lpcXpresso board and I'm trying to get it to run the Blinky
example from 32bitmicro off google code. I've used
lpc1343codebase/tools/lpcrc to fix up the interrupt vector checksum.

The board starts fine in USB ISP mode. I can mount it and there's a
firmware.bin which I backed up, it's some sample application by
Embedded Artists who designed the board.

The USB ISP procedure is to delete that file and then copy another
file into the directory, the name is not important. That file will
then be flashed over the previous firmware, and booted on next reset.

However - there's a problem somewhere..

The NXP LPC1343 User Manual specs in bold that this procedure only
works on Windows, but although I don't see why that should be the
case, it seems that my problem is because of something that Linux
does a little differently..

I rm, cp, umount and reset the target, but it doesn't blink. Going
back into USB ISP mode I can read out the firmware that got flashed,
and it reads back the same as I programmed, except that it now has
1024 bytes of 0 prepended to it.

Any ideas? I'll ask usb-storage people too.

If you have a working LPC1343 setup then feel free to test my
Blinky binary on your board; <A HREF="http://stuge.se/blinky_demo.elf.bin">http://stuge.se/blinky_demo.elf.bin</A>
It's supposed to blink P0.7 active high at 1Hz.


//Peter

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015993.html">[Openocd-development] committed &quot;transport&quot; framework
</A></li>
	<LI>Next message: <A HREF="016130.html">[Openocd-development] LPC1343 ISP trouble
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16129">[ date ]</a>
              <a href="thread.html#16129">[ thread ]</a>
              <a href="subject.html#16129">[ subject ]</a>
              <a href="author.html#16129">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
