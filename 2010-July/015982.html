<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] single stepping problem with at91rm9200 in thumb mode with openocd 0.4.0
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20single%20stepping%20problem%20with%20at91rm9200%20in%0A%20thumb%20mode%20with%20openocd%200.4.0&In-Reply-To=%3CE882CC1A52736E4CB17E42E12E9029D4348C7BF845%40EXCH2007VS.HYPERCOM.COM%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015981.html">
   <LINK REL="Next"  HREF="015983.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] single stepping problem with at91rm9200 in thumb mode with openocd 0.4.0</H1>
    <B>Matthias Meixner</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20single%20stepping%20problem%20with%20at91rm9200%20in%0A%20thumb%20mode%20with%20openocd%200.4.0&In-Reply-To=%3CE882CC1A52736E4CB17E42E12E9029D4348C7BF845%40EXCH2007VS.HYPERCOM.COM%3E"
       TITLE="[Openocd-development] single stepping problem with at91rm9200 in thumb mode with openocd 0.4.0">mmeixner at hypercom.com
       </A><BR>
    <I>Fri Jul  2 09:01:18 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015981.html">[Openocd-development] Driver installation for libusb-win32 and	WinUSB
</A></li>
        <LI>Next message: <A HREF="015983.html">[Openocd-development] [RFC,	PATCH 2/2] ft2232: simplify ft2232_read_scan
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15982">[ date ]</a>
              <a href="thread.html#15982">[ thread ]</a>
              <a href="subject.html#15982">[ subject ]</a>
              <a href="author.html#15982">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
Hello all!

I have compiled and set up openocd 0.4.0 for an at91rm9200. 
The things that work are:
- connecting to the target
- setting hardware breakpoints
- running the executable
- single stepping in arm mode
- resetting the target
- disassembling the code in flash

Therefore, I think most things are set up correct and the hardware is working. However, I can not
single step in thumb mode. Removing the breakpoint does not help. The PC just does not increase.
As soon as I switch to arm mode single stepping starts to work (although it does not make sense
to single step in arm mode over code that has been compiled in thumb mode).

Therefore, what is going wrong?

This is my configuration:

======
reset_config trst_and_srst
source [find interface/olimex-jtag-tiny.cfg]
source [find target/at91rm9200.cfg]
flash bank xip cfi 0x400000 0xC00000 2 2 $_TARGETNAME
arm7_9 fast_memory_access enable
telnet_port 4444
gdb_port 3333
init
reset init
======


Regards,

Matthias Meixner

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015981.html">[Openocd-development] Driver installation for libusb-win32 and	WinUSB
</A></li>
	<LI>Next message: <A HREF="015983.html">[Openocd-development] [RFC,	PATCH 2/2] ft2232: simplify ft2232_read_scan
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15982">[ date ]</a>
              <a href="thread.html#15982">[ thread ]</a>
              <a href="subject.html#15982">[ subject ]</a>
              <a href="author.html#15982">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
