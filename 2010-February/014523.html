<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] STR7x flash protect information is broken
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20STR7x%20flash%20protect%20information%20is%20broken&In-Reply-To=%3C4B66E867.1030602%40spen-soft.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014522.html">
   <LINK REL="Next"  HREF="014524.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] STR7x flash protect information is broken</H1>
    <B>Spencer Oliver</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20STR7x%20flash%20protect%20information%20is%20broken&In-Reply-To=%3C4B66E867.1030602%40spen-soft.co.uk%3E"
       TITLE="[Openocd-development] STR7x flash protect information is broken">spen at spen-soft.co.uk
       </A><BR>
    <I>Mon Feb  1 15:42:47 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014522.html">[Openocd-development] STR7x flash protect information is broken
</A></li>
        <LI>Next message: <A HREF="014524.html">[Openocd-development] STR7x flash protect information is broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14523">[ date ]</a>
              <a href="thread.html#14523">[ thread ]</a>
              <a href="subject.html#14523">[ subject ]</a>
              <a href="author.html#14523">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Edgar Grimberg wrote:
&gt;&gt;<i> The str7 write protection is a bit quirky as once set can only be removed
</I>&gt;&gt;<i> temporarily anyway - until the next reset.
</I>&gt;<i> 
</I>&gt;<i> I'm thinking more of this situation:
</I>&gt;<i> 
</I>&gt;<i> * I reset and try to write something to the flash
</I>&gt;<i> * It will fail, since the protection is on.
</I>&gt;<i> * I check the flash, with flash info 0, I see the protection on
</I>&gt;<i> * I issue flash protect 0 0 last off
</I>&gt;<i> * I check to see if the operation was OK, by looking at &quot;flash info 0&quot;
</I>&gt;<i> * At this point, the information I see is invalid. If I don't trust
</I>&gt;<i> OpenOCD, I just
</I>&gt;<i> move on and write to flash.
</I>&gt;<i> * If I trust OpenOCD, I start wasting time investigating what went wrong.
</I>&gt;<i> 
</I>
I see what you are saying, but if the user runs the default script then 
the write protection will always be removed.

this assumes you are reseting with reset init.

Cheers
Spen

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014522.html">[Openocd-development] STR7x flash protect information is broken
</A></li>
	<LI>Next message: <A HREF="014524.html">[Openocd-development] STR7x flash protect information is broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14523">[ date ]</a>
              <a href="thread.html#14523">[ thread ]</a>
              <a href="subject.html#14523">[ subject ]</a>
              <a href="author.html#14523">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
