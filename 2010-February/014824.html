<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] SVF player - fail to run command
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20SVF%20player%20-%20fail%20to%20run%20command&In-Reply-To=%3C63034c041002160303h3bf71e3bx564fcc46a1e263e5%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014819.html">
   <LINK REL="Next"  HREF="014827.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] SVF player - fail to run command</H1>
    <B>simon qian</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20SVF%20player%20-%20fail%20to%20run%20command&In-Reply-To=%3C63034c041002160303h3bf71e3bx564fcc46a1e263e5%40mail.gmail.com%3E"
       TITLE="[Openocd-development] SVF player - fail to run command">simonqian.openocd at gmail.com
       </A><BR>
    <I>Tue Feb 16 12:03:42 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014819.html">[Openocd-development] SVF player - fail to run command
</A></li>
        <LI>Next message: <A HREF="014827.html">[Openocd-development] SVF player - fail to run command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14824">[ date ]</a>
              <a href="thread.html#14824">[ thread ]</a>
              <a href="subject.html#14824">[ subject ]</a>
              <a href="author.html#14824">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>If the svf file is generated by the xilinx tools, then 1MHz should be OK.
Does JTAG pins have too long latency?
I'll check the speed later when my board arrived.

2010/2/16 Vaclav Peroutka &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">vaclavpe at seznam.cz</A>&gt;

&gt;<i> Hello Simon,
</I>&gt;<i>
</I>&gt;<i> yes, lowering the TCK frequency helped! Default TCK speed of 1MHz made
</I>&gt;<i> problems, but now I use 500kHz and programming is ok.
</I>&gt;<i>
</I>&gt;<i> Thank you for help,
</I>&gt;<i> Vaclav
</I>&gt;<i>
</I>&gt;<i> &gt; ----------------------------------------
</I>&gt;<i> &gt; According to the log file, the svf parser should be running OK.
</I>&gt;<i> &gt; The command below can run success with the right TDO value:
</I>&gt;<i> &gt; SDR 32 TDI  (00000000)  SMASK  (FFFFFFFF)  TDO  (F9604093)  MASK
</I>&gt;<i>  (0FFFFFFF)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; But one command after that will fail, not fail to do JTAG, but fail to
</I>&gt;<i> &gt; receive the right TDO value from the target.
</I>&gt;<i> &gt; To check the reason why it fails, you will have to log the waveform on
</I>&gt;<i> the
</I>&gt;<i> &gt; JTAG pins.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; BTW: You can try a slower speed first.
</I>&gt;<i> &gt; 2010/2/15 Vaclav Peroutka
</I>&gt;<i> &gt;
</I>&gt;<i>  &gt; &gt; Hello Simon,
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; attached is log1.log and the SVF file itself.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Thank you for help, hop[efully you find what is going wrong.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; ----------------------------------------
</I>&gt;<i> &gt; &gt; &gt; Try adding '-d3' option, and post the log info.
</I>&gt;<i> &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;  &gt; &gt; Hello all,
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; I compiled git HEAD revision of openocd today and try to program
</I>&gt;<i> XC9572
</I>&gt;<i> &gt; &gt; &gt; &gt; with SVF generated by Xilinx ISE 10.1. I use following openocd.cfg:
</I>&gt;<i> &gt; &gt; &gt; &gt; telnet_port 4444
</I>&gt;<i> &gt; &gt; &gt; &gt; gdb_port 3333
</I>&gt;<i> &gt; &gt; &gt; &gt; interface ft2232
</I>&gt;<i> &gt; &gt; &gt; &gt; ft2232_device_desc &quot;Dual Device A&quot;
</I>&gt;<i> &gt; &gt; &gt; &gt; ft2232_layout usbjtag
</I>&gt;<i> &gt; &gt; &gt; &gt; ft2232_vid_pid 0x0403 0x6001
</I>&gt;<i> &gt; &gt; &gt; &gt; jtag_khz 500
</I>&gt;<i> &gt; &gt; &gt; &gt; jtag newtap xc9572 tap -irlen 8 -expected-id  0x59604093
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; I run openocd and then telnet to the port 4444. Then I use &quot;svf
</I>&gt;<i> &gt; &gt; &gt; &gt; project.svf&quot; and result is below. Does anybody know, what is going
</I>&gt;<i> &gt; &gt; wrong ?
</I>&gt;<i> &gt; &gt; &gt; &gt; XC9572 is already programmed. I did it with xc3sprog. But it can
</I>&gt;<i> not
</I>&gt;<i> &gt; &gt; erase
</I>&gt;<i> &gt; &gt; &gt; &gt; the CPLD, thus I am looking for some another method how to program
</I>&gt;<i> it.
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt; &gt; &gt; Thank you in advance,
</I>&gt;<i> &gt; &gt; &gt; &gt; Vaclav
</I>&gt;<i> &gt; &gt; &gt; &gt;
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --
</I>&gt;<i> &gt; Best Regards, SimonQian
</I>&gt;<i> &gt; <A HREF="http://www.SimonQian.com">http://www.SimonQian.com</A> &lt;<A HREF="http://www.simonqian.com/">http://www.simonqian.com/</A>&gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i>
</I>


-- 
Best Regards, SimonQian
<A HREF="http://www.SimonQian.com">http://www.SimonQian.com</A>
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20100216/7bdb8aa9/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20100216/7bdb8aa9/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014819.html">[Openocd-development] SVF player - fail to run command
</A></li>
	<LI>Next message: <A HREF="014827.html">[Openocd-development] SVF player - fail to run command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14824">[ date ]</a>
              <a href="thread.html#14824">[ thread ]</a>
              <a href="subject.html#14824">[ subject ]</a>
              <a href="author.html#14824">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
