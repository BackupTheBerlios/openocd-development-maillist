<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Nasty problem with target_write_memory()
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Nasty%20problem%20with%20target_write_memory%28%29&In-Reply-To=%3Cc09652431002090651n15cf46fcu5552b6140eefcee9%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014647.html">
   <LINK REL="Next"  HREF="014649.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Nasty problem with target_write_memory()</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Nasty%20problem%20with%20target_write_memory%28%29&In-Reply-To=%3Cc09652431002090651n15cf46fcu5552b6140eefcee9%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Nasty problem with target_write_memory()">oyvind.harboe at zylin.com
       </A><BR>
    <I>Tue Feb  9 15:51:41 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014647.html">[PATCH] str730.cfg: fix incorrect mem regions
</A></li>
        <LI>Next message: <A HREF="014649.html">[Openocd-development] Nasty problem with target_write_memory()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14645">[ date ]</a>
              <a href="thread.html#14645">[ thread ]</a>
              <a href="subject.html#14645">[ subject ]</a>
              <a href="author.html#14645">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>The prototype below is problematic.... I would like to have
seen buffer defined as &quot;const void *&quot; and added the requirement
that &quot;buffer&quot; should be aligned to match &quot;size&quot;....

int target_write_memory(struct target *target,
		uint32_t address, uint32_t size, uint32_t count, uint8_t *buffer);

I'm looking at arm11 memory writes when I ran into this.

The other confusing things is what this fn is supposed to do when
the target and host endian does not match.... My interpretation is
that it is that the data in the host memory is stored in the targets
endianess... seems to match the existing behavior...

-- 
&#216;yvind Harboe

Visit us at Embedded World, March 2nd-4th. IS2T's stand, HALL 10 - 118
<A HREF="http://www.zylin.com/events_embeddedworld.html">http://www.zylin.com/events_embeddedworld.html</A>

US toll free 1-866-980-3434 / International +47 51 63 25 00
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014647.html">[PATCH] str730.cfg: fix incorrect mem regions
</A></li>
	<LI>Next message: <A HREF="014649.html">[Openocd-development] Nasty problem with target_write_memory()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14645">[ date ]</a>
              <a href="thread.html#14645">[ thread ]</a>
              <a href="subject.html#14645">[ subject ]</a>
              <a href="author.html#14645">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
