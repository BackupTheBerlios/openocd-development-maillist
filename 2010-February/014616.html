<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] str9x.c: take2: Removed the	optimization when erasing the whole bank
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20str9x.c%3A%20take2%3A%20Removed%0A%20the%09optimization%20when%20erasing%20the%20whole%20bank&In-Reply-To=%3COF88EB2687.F126664E-ONC12576C0.0051490F-C12576C0.0052D3E7%40securitasdirect.se%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014580.html">
   <LINK REL="Next"  HREF="014555.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] str9x.c: take2: Removed the	optimization when erasing the whole bank</H1>
    <B>Fredrik Hederstierna</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20str9x.c%3A%20take2%3A%20Removed%0A%20the%09optimization%20when%20erasing%20the%20whole%20bank&In-Reply-To=%3COF88EB2687.F126664E-ONC12576C0.0051490F-C12576C0.0052D3E7%40securitasdirect.se%3E"
       TITLE="[Openocd-development] [PATCH] str9x.c: take2: Removed the	optimization when erasing the whole bank">fredrik.hederstierna at securitas-direct.com
       </A><BR>
    <I>Thu Feb  4 16:07:16 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014580.html">[Openocd-development] [PATCH] str9x.c: take2: Removed the	optimization when erasing the whole bank
</A></li>
        <LI>Next message: <A HREF="014555.html">[PATCH 1/3] ARM semihosting: split do_semihosting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14616">[ date ]</a>
              <a href="thread.html#14616">[ thread ]</a>
              <a href="subject.html#14616">[ subject ]</a>
              <a href="author.html#14616">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> &#216;yvind Harboe wrote:
</I>&gt;<i> &gt; On Tue, Feb 2, 2010 at 6:59 PM, David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt; 
</I>wrote:
&gt;<i> &gt;&gt; On Tuesday 02 February 2010, Fredrik Hederstierna wrote:
</I>&gt;<i> &gt;&gt;&gt; This is the patch that fix the timeout issue:
</I>&gt;<i> &gt;&gt; I think we'll hold this until the 0.5 merge window opens,
</I>&gt;<i> &gt;&gt; to make sure it gets enough testing.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; I'm loathe to add codepaths to particular targets unless there
</I>&gt;<i> &gt; is a *huge* upside and it is sure to get enough testing...
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; W.r.t. testing there is evidence that this target does not
</I>&gt;<i> &gt; get enough testing to justify the luxury of extra optimized
</I>&gt;<i> &gt; codepaths... especially for some aging part.... perhaps
</I>&gt;<i> &gt; a rock solid &amp; slow code path is the way to go while this
</I>&gt;<i> &gt; part rides into the sunset?
</I>&gt;<i> &gt; 
</I>&gt;<i> 
</I>&gt;<i> The str9 gets quite a bit of testing, i mentioned in the previous bugfix 
</I>
&gt;<i> that the time-outs were probably to blame for the error's edgar saw.
</I>&gt;<i> 
</I>&gt;<i> I am guessing but it may be that your silicon has had a few erases and 
</I>&gt;<i> as such the erase time has extended a little.
</I>&gt;<i> 
</I>&gt;<i> But there is no harm in waiting for the next release before merging this 
</I>
&gt;<i> patch.
</I>
I can submit patch again later, no problem.
Unfortunately I'm stuck with crap Lotus Notes mail client here at work, 
that's why I submitted patch as both (formatted) text + attachment.
The patch attachment should be still ok, no?

Also I think the patch is valuable, for example when we manufacture 
products in factory, time is money.
If we can decrease production erasing/flashing time ~10 secs its very 
valuable, the factory yield is important and cost alot of money for 
professional use.

And yes the testing is problematic, we dont have any STR912 test farm to 
rely on, but we are several developers here flashing several times a day, 
and it seems work fine every time. But I cannot guarantee everything is 
100.0%, I guess we need ST Micro self do the code in this case...
I think another issue is the ST xpec driver that we need to change boot 
banks, unlocking etc, its not working very well all times. Maybe the ST912 
drivers could be merged or one could replace the other? Its not really 
required to have 2 drivers, no?

Thanks &amp; Regards,

Fredrik Hederstierna
Securitas Direct AB
Malmoe Sweden
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20100204/af821e3d/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20100204/af821e3d/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014580.html">[Openocd-development] [PATCH] str9x.c: take2: Removed the	optimization when erasing the whole bank
</A></li>
	<LI>Next message: <A HREF="014555.html">[PATCH 1/3] ARM semihosting: split do_semihosting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14616">[ date ]</a>
              <a href="thread.html#14616">[ thread ]</a>
              <a href="subject.html#14616">[ subject ]</a>
              <a href="author.html#14616">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
