<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 3/7] armv7m: add missing command chain
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%203/7%5D%20armv7m%3A%20add%20missing%20command%0A%20chain&In-Reply-To=%3C4B885BA3.9020903%40spen-soft.co.uk%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015007.html">
   <LINK REL="Next"  HREF="015009.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 3/7] armv7m: add missing command chain</H1>
    <B>Spencer Oliver</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%203/7%5D%20armv7m%3A%20add%20missing%20command%0A%20chain&In-Reply-To=%3C4B885BA3.9020903%40spen-soft.co.uk%3E"
       TITLE="[Openocd-development] [PATCH 3/7] armv7m: add missing command chain">spen at spen-soft.co.uk
       </A><BR>
    <I>Sat Feb 27 00:39:15 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015007.html">[Openocd-development] [PATCH 3/7] armv7m: add missing command	chain
</A></li>
        <LI>Next message: <A HREF="015009.html">[Openocd-development] [PATCH 3/7] armv7m: add missing command	chain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15008">[ date ]</a>
              <a href="thread.html#15008">[ thread ]</a>
              <a href="subject.html#15008">[ subject ]</a>
              <a href="author.html#15008">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 26/02/2010 18:04, David Brownell wrote:
&gt;<i> On Friday 26 February 2010, Spencer Oliver wrote:
</I>&gt;&gt;<i> On 26/02/2010 02:36, David Brownell wrote:
</I>&gt;&gt;&gt;<i> On Thursday 25 February 2010, Spencer Oliver wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> +		.chain = arm_command_handlers,
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> NAK on this one since those command handlers don't know
</I>&gt;&gt;&gt;<i> how to cope wih v7-m cores yet, and plus there's the
</I>&gt;&gt;&gt;<i> command duplication for disassembly.
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> I think most of the command handlers in that chain can
</I>&gt;&gt;&gt;<i> easily be modified ... just look at the core_type to
</I>&gt;&gt;&gt;<i> see if it's an M-profile core, and if so then do the
</I>&gt;&gt;&gt;<i> relevant thing.  Examples:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I will have a look.
</I>&gt;&gt;<i> For the time being i may just add a cortex_m3 semihosting cmd
</I>&gt;<i>
</I>&gt;<i> That'd be another &quot;expedient&quot; solution.  Not unlike the one
</I>&gt;<i> which led us to &quot;cortex_m3 disassemble&quot; ... except that there
</I>&gt;<i> was no &quot;core_type&quot; mechanism at the time I added that.  :)
</I>&gt;<i>
</I>
I have made a few tweaks that enable the armv7m to use the generic
arm cmd group.

semihosting and disassemble cmds now use the generic arm cmds.

rather than posting lots of patches, here is my repo address.
latest 4 are of interest.

<A HREF="http://repo.or.cz/w/openocd/ntfreak.git/shortlog/refs/heads/wip">http://repo.or.cz/w/openocd/ntfreak.git/shortlog/refs/heads/wip</A>

Cheers
Spen

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015007.html">[Openocd-development] [PATCH 3/7] armv7m: add missing command	chain
</A></li>
	<LI>Next message: <A HREF="015009.html">[Openocd-development] [PATCH 3/7] armv7m: add missing command	chain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15008">[ date ]</a>
              <a href="thread.html#15008">[ thread ]</a>
              <a href="subject.html#15008">[ subject ]</a>
              <a href="author.html#15008">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
