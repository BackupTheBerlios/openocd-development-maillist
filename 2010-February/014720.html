<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [bisected] Re: arm920t regression cache	support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5Bbisected%5D%20Re%3A%20arm920t%20regression%20cache%0A%09support&In-Reply-To=%3C201002120832.06090.marc.pignat%40hevs.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014719.html">
   <LINK REL="Next"  HREF="014721.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [bisected] Re: arm920t regression cache	support</H1>
    <B>Marc Pignat</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5Bbisected%5D%20Re%3A%20arm920t%20regression%20cache%0A%09support&In-Reply-To=%3C201002120832.06090.marc.pignat%40hevs.ch%3E"
       TITLE="[Openocd-development] [bisected] Re: arm920t regression cache	support">marc.pignat at hevs.ch
       </A><BR>
    <I>Fri Feb 12 08:32:06 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014719.html">[Openocd-development] [bisected] Re: arm920t regression cache	support
</A></li>
        <LI>Next message: <A HREF="014721.html">[Openocd-development] [bisected] Re: arm920t regression cache	support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14720">[ date ]</a>
              <a href="thread.html#14720">[ thread ]</a>
              <a href="subject.html#14720">[ subject ]</a>
              <a href="author.html#14720">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Friday 12 February 2010 08:24:01 you wrote:
&gt;<i> On Fri, Feb 12, 2010 at 8:23 AM, Marc Pignat &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">marc.pignat at hevs.ch</A>&gt; wrote:
</I>&gt;<i> &gt; On Thursday 11 February 2010 17:30:42 you wrote:
</I>&gt;<i> &gt;&gt; &gt;&gt; If it works it fixes a bug as well as adds a new feature.
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; Error: arm920_virt2phys: not implemented
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt;
</I>&gt;<i> &gt;&gt; &gt; I tried to copy virtphys from 926ejs, the debugged software still crashes.
</I>&gt;<i> &gt;&gt;
</I>&gt;<i> &gt;&gt; Could you provide a patch for a tested virtphys implementation for arm920?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Here it is, this is a copy of the 926ejs function. I have tested it only using
</I>&gt;<i> &gt; my rtems application (where virtual address mapping == physical).
</I>&gt;<i> 
</I>&gt;<i> How did you test? Did it work?
</I>
I tested it using:
LOG_USER(&quot;arm920_virt2phys virt=0x%08x -&gt; phys = 0x%08x&quot;, virt, *phys);

just before the return statement.

It printed physical == virtural, so in my case at least, it is working ;)

I mean the vir2phys function is working, the cache flush still crashes my app.



About the data cache flush, I'm pretty sure this instruction is not in the data
cache. What happens when we flush an address that is not in the data cache?



Regards

Marc

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014719.html">[Openocd-development] [bisected] Re: arm920t regression cache	support
</A></li>
	<LI>Next message: <A HREF="014721.html">[Openocd-development] [bisected] Re: arm920t regression cache	support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14720">[ date ]</a>
              <a href="thread.html#14720">[ thread ]</a>
              <a href="subject.html#14720">[ subject ]</a>
              <a href="author.html#14720">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
