<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 6/6] cortex_a9: move dap_ap_select to arm_avi_v5
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%206/6%5D%20cortex_a9%3A%20move%20dap_ap_select%0A%20to%20arm_avi_v5&In-Reply-To=%3CAANLkTi%3DFuhZ8G%3DTV11rtKStbnf%2Bpd%3DPGk_3hEQBP1ETF%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018162.html">
   <LINK REL="Next"  HREF="018175.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 6/6] cortex_a9: move dap_ap_select to arm_avi_v5</H1>
    <B>Tomek CEDRO</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%206/6%5D%20cortex_a9%3A%20move%20dap_ap_select%0A%20to%20arm_avi_v5&In-Reply-To=%3CAANLkTi%3DFuhZ8G%3DTV11rtKStbnf%2Bpd%3DPGk_3hEQBP1ETF%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH 6/6] cortex_a9: move dap_ap_select to arm_avi_v5">tomek.cedro at gmail.com
       </A><BR>
    <I>Sat Feb 12 17:22:21 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="018162.html">[Openocd-development] [PATCH 6/6] cortex_a9: move dap_ap_select to	arm_avi_v5
</A></li>
        <LI>Next message: <A HREF="018175.html">[Openocd-development] [PATCH 6/6] cortex_a9: move dap_ap_select to arm_avi_v5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18163">[ date ]</a>
              <a href="thread.html#18163">[ thread ]</a>
              <a href="subject.html#18163">[ subject ]</a>
              <a href="author.html#18163">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello Luca!

On Sat, Feb 12, 2011 at 12:54 PM, Luca Ellero &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">lroluk at gmail.com</A>&gt; wrote:
&gt;<i> dap_ap_select was used in the code at various points, but that can lead to
</I>&gt;<i> confusion, without any knowledge of what AP is really selected at some
</I>&gt;<i> points. (...)
</I>
This is also somehow related with the TRANSPORT and DP system that
interconnects the interface/cable and the DAP (Debug Access Port).
Transport is related with DAP in case of ARM because ARM DAP has SW-DP
and JTAG-DP that both provide access to the AHB-AP... however in
different manner - JTAG has its own registers while SWD use different
&quot;addressing&quot; [1]. New Cortex from TI have even something that delects
the DAP that makes things more complicated. I think it could be nice
to clearly separate those structures (INTERFACE, TRANSPORT, PICK, DP,
DAP, AP (bus), FLASH, ...) and work through their instance on the real
hardware by using functions to change instance value/state. I am
working on such model with (not yet functional) libswd [2] - what is
more there is even a context that keeps all those instances separated,
so maybe it would be possible to use many interfaces-targets at once..
work in progress... :-)

Best regards,
Tomek

[1] <A HREF="http://stm32primer2swd.sf.net/">http://stm32primer2swd.sf.net/</A>
[2] <A HREF="http://libswd.sf.net">http://libswd.sf.net</A>

-- 
CeDeROM, SQ7MHZ, <A HREF="http://www.tomek.cedro.info">http://www.tomek.cedro.info</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018162.html">[Openocd-development] [PATCH 6/6] cortex_a9: move dap_ap_select to	arm_avi_v5
</A></li>
	<LI>Next message: <A HREF="018175.html">[Openocd-development] [PATCH 6/6] cortex_a9: move dap_ap_select to arm_avi_v5
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18163">[ date ]</a>
              <a href="thread.html#18163">[ thread ]</a>
              <a href="subject.html#18163">[ subject ]</a>
              <a href="author.html#18163">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
