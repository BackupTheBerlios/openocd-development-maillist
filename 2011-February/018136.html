<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Correct definition of JTAG_INSTR_CLAMP in	dsp563xx_once.c
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Correct%20definition%20of%20JTAG_INSTR_CLAMP%20in%0A%09dsp563xx_once.c&In-Reply-To=%3C149162.86432.qm%40web33502.mail.mud.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018135.html">
   <LINK REL="Next"  HREF="018137.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Correct definition of JTAG_INSTR_CLAMP in	dsp563xx_once.c</H1>
    <B>Phil Fong</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Correct%20definition%20of%20JTAG_INSTR_CLAMP%20in%0A%09dsp563xx_once.c&In-Reply-To=%3C149162.86432.qm%40web33502.mail.mud.yahoo.com%3E"
       TITLE="[Openocd-development] Correct definition of JTAG_INSTR_CLAMP in	dsp563xx_once.c">fongpwf at yahoo.com
       </A><BR>
    <I>Thu Feb 10 20:25:36 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="018135.html">[Openocd-development] current and maximum jtag queue size for jtag hardware ?
</A></li>
        <LI>Next message: <A HREF="018137.html">[Openocd-development] Correct definition of JTAG_INSTR_CLAMP in	dsp563xx_once.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18136">[ date ]</a>
              <a href="thread.html#18136">[ thread ]</a>
              <a href="subject.html#18136">[ subject ]</a>
              <a href="author.html#18136">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,
  I've been working on Rodrigo on adding support to flash Freescale dsp56800e devices and have been looking at the dsp563xx code.  I think the define for the JTAG CLAMP instruction in dsp563xx_once.c is incorrect.  It should be 0x05 according the Freescale AN2074 (and is also 0x05 in the dsp568xx according to AN1935).  It won't actually change anything in OpenOCD since this define is not used anywhere (as far as I can tell).
  The patch below fixes this.


Phil


---
 src/target/dsp563xx_once.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/src/target/dsp563xx_once.c b/src/target/dsp563xx_once.c
index b7443fa..1d04e89 100644
--- a/src/target/dsp563xx_once.c
+++ b/src/target/dsp563xx_once.c
@@ -37,8 +37,8 @@
 #define JTAG_INSTR_EXTEST        0x00
 #define JTAG_INSTR_SAMPLE_PRELOAD    0x01
 #define JTAG_INSTR_IDCODE        0x02
-#define JTAG_INSTR_CLAMP        0x03
 #define JTAG_INSTR_HIZ            0x04
+#define JTAG_INSTR_CLAMP        0x05
 #define JTAG_INSTR_ENABLE_ONCE        0x06
 #define JTAG_INSTR_DEBUG_REQUEST    0x07
 #define JTAG_INSTR_BYPASS        0x0F
-- 
1.7.0.4



      

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018135.html">[Openocd-development] current and maximum jtag queue size for jtag hardware ?
</A></li>
	<LI>Next message: <A HREF="018137.html">[Openocd-development] Correct definition of JTAG_INSTR_CLAMP in	dsp563xx_once.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18136">[ date ]</a>
              <a href="thread.html#18136">[ thread ]</a>
              <a href="subject.html#18136">[ subject ]</a>
              <a href="author.html#18136">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
