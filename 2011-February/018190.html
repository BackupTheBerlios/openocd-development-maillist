<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] gdb startup from eclipse failue
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20gdb%20startup%20from%20eclipse%20failue&In-Reply-To=%3CAANLkTi%3DiU6ZaPXnrr2XH_gfLkYCY_KvNdR25rWHR_8Qr%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018172.html">
   <LINK REL="Next"  HREF="018192.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] gdb startup from eclipse failue</H1>
    <B>Bernard Mentink</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20gdb%20startup%20from%20eclipse%20failue&In-Reply-To=%3CAANLkTi%3DiU6ZaPXnrr2XH_gfLkYCY_KvNdR25rWHR_8Qr%40mail.gmail.com%3E"
       TITLE="[Openocd-development] gdb startup from eclipse failue">bmentink at gmail.com
       </A><BR>
    <I>Mon Feb 14 21:56:36 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="018172.html">[Openocd-development] gdb startup from eclipse failue
</A></li>
        <LI>Next message: <A HREF="018192.html">[Openocd-development] gdb startup from eclipse failue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18190">[ date ]</a>
              <a href="thread.html#18190">[ thread ]</a>
              <a href="subject.html#18190">[ subject ]</a>
              <a href="author.html#18190">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi Guys,

Andrew, yes, I have checked all the settings in the Debug Configuration
settings and they all point to the correct files, and I have the correct
file in my load command, but gdb is crashing even before it connects to
openocd.
I also cannot find the &quot;verbose console mode&quot;  checkbox in the debugger tab
in Debug configurations dialog, do you have a different version? I am
running eclipse version: Version: Helios Release Build id: 20100617-1415
And openocd is Open On-Chip Debugger 0.5.0-dev  version ..

&#216;yvind, the command line doesn't crash .... so not sure what eclipse/gdb is
doing.

It seems my executable is the problem, because when I replace the &quot;good&quot;
project elf file with the &quot;bad&quot; project elf, the good project fails as well
...

To duplicate the project, I just did a copy/paste within the eclipse IDE and
everything built ok .... really confused why this object file crashes the
debugger ..

Cheers,
Bernie

On Mon, Feb 14, 2011 at 5:00 PM, Andrew Leech &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">coronasensei at gmail.com</A>&gt;wrote:

&gt;<i> On Mon, Feb 14, 2011 at 12:48 PM, Bernard Mentink &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">bmentink at gmail.com</A>&gt;
</I>&gt;<i> wrote:
</I>&gt;<i> &gt; Hi All,
</I>&gt;<i> &gt; I apologize for posting a somewhat openocd off-topic question, but I am
</I>&gt;<i> in a
</I>&gt;<i> &gt; bind.
</I>&gt;<i> &gt; I have been using openocd and gdb from within eclipse quite happily,
</I>&gt;<i> until I
</I>&gt;<i> &gt; duplicated a project to start a new one, and tried debugging it.
</I>&gt;<i> &gt; When gdb launches from within eclipse, I get a windoze crash dialog box,
</I>&gt;<i> &gt; then the following error:
</I>&gt;<i> &gt; &quot;Error in final launch sequence
</I>&gt;<i> &gt; Connection is shut down&quot;
</I>&gt;<i> &gt; However if I launch gdb from the old project it is fine. The debug
</I>&gt;<i> settings
</I>&gt;<i> &gt; between projects are identical .... apart from the object code ..
</I>&gt;<i> &gt; If I copy the &quot;good&quot; object code into the new project location ... I
</I>&gt;<i> still
</I>&gt;<i> &gt; get the error, so doesn't look like the object code is the issue ..
</I>&gt;<i> &gt; Anyone offer any suggestions?
</I>&gt;<i>
</I>&gt;<i> The only thing that comes to mind is checking to be sure that the
</I>&gt;<i> debug configuration settings are all referencing the new files in the
</I>&gt;<i> new project. On the main tab of debug configurations ensure the new
</I>&gt;<i> project is selected, and that the c/c++ application is set to the new
</I>&gt;<i> object file. Then on the startup tab that the image and symbols are
</I>&gt;<i> either set manually to the new one or to project binary (which has
</I>&gt;<i> just been checked).
</I>&gt;<i>
</I>&gt;<i> And/or, if your object file is loaded with openocd (I load mine
</I>&gt;<i> through gdb) check that your openocd script is pointing to the new
</I>&gt;<i> object/bin file.
</I>&gt;<i>
</I>&gt;<i> &gt; I don't know how to get more info from gdb as to what is going on ..
</I>&gt;<i>
</I>&gt;<i> Depends on whether the problem is arising from gdb or openocd. openocd
</I>&gt;<i> script can be changed to add --debug &lt;0-3&gt; to its command line.
</I>&gt;<i> For GDP I've got a &quot;verbose console mode&quot; checkbox on the Debugger tab
</I>&gt;<i> of debug configurations (just under the popup of protocol version)
</I>&gt;<i> that when enabled gives a heap of extra console output.
</I>&gt;<i>
</I>&gt;<i> For reference I'm using Eclipse helios sr1 with GDB Hardware
</I>&gt;<i> Debugging, yagarto for gcc/gdb and git trunk openocd.
</I>&gt;<i>
</I>&gt;<i> I know  what you mean about this being somewhat off topic, but I feel
</I>&gt;<i> your pain, there doesn't seem to be a particularly good place to
</I>&gt;<i> discuss issues relating to the overall open source toolchain setup.
</I>&gt;<i> Similarly I've got serious issues getting pipe openocd working
</I>&gt;<i> properly in helios. It'd be great to have running, but in the rare
</I>&gt;<i> configurations it actually connects to the target correctly, it debugs
</I>&gt;<i> (ie step, read regs, etc) at such an abysmally slow pace it's
</I>&gt;<i> unusable, whereas the traditional method of external tool openocd and
</I>&gt;<i> sockets works fine. This in on windows too, so it's quite possibly
</I>&gt;<i> just that pipes on windows are a bit of a hack? Either way I've given
</I>&gt;<i> up on pipe for now.
</I>&gt;<i>
</I>&gt;<i> Andrew
</I>&gt;<i>
</I>


-- 
You always have believers and scepticts.. A True inventor is always a
believer..
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20110215/66b4cc51/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20110215/66b4cc51/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018172.html">[Openocd-development] gdb startup from eclipse failue
</A></li>
	<LI>Next message: <A HREF="018192.html">[Openocd-development] gdb startup from eclipse failue
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18190">[ date ]</a>
              <a href="thread.html#18190">[ thread ]</a>
              <a href="subject.html#18190">[ subject ]</a>
              <a href="author.html#18190">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
