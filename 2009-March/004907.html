<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Reset, Halt,	and Init Problems with AT91SAM9G20
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Reset%2C%20Halt%2C%0A%09and%20Init%20Problems%20with%20AT91SAM9G20&In-Reply-To=%3C49B141D2.3040306%40duaneellis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004902.html">
   <LINK REL="Next"  HREF="004949.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Reset, Halt,	and Init Problems with AT91SAM9G20</H1>
    <B>Duane Ellis</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Reset%2C%20Halt%2C%0A%09and%20Init%20Problems%20with%20AT91SAM9G20&In-Reply-To=%3C49B141D2.3040306%40duaneellis.com%3E"
       TITLE="[Openocd-development] Reset, Halt,	and Init Problems with AT91SAM9G20">openocd at duaneellis.com
       </A><BR>
    <I>Fri Mar  6 16:31:30 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004902.html">[Openocd-development] Reset, Halt, and Init Problems with AT91SAM9G20
</A></li>
        <LI>Next message: <A HREF="004949.html">[Openocd-development] Reset, Halt, and Init Problems with AT91SAM9G20
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4907">[ date ]</a>
              <a href="thread.html#4907">[ thread ]</a>
              <a href="subject.html#4907">[ subject ]</a>
              <a href="author.html#4907">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Pieter Conradie wrote:
&gt;<i> Hi Rob,
</I>&gt;<i>
</I>&gt;<i> I have found that if the jtag_khz setting is decreased to 1 kHz, then OpenOCD behaves better, but it is still not 100%.
</I>&gt;<i>
</I>&gt;<i> I have connected a signal analyser to capture the JTAG signals between OpenOCD rev 1399 and an AT91SAM9260 target using a Olimex JTAG-TINY-A. The jtag_khz setting was 5 kHz. See attached screenshots. There is an anomaly with RTCK on the first TCK pulse (see &quot;ScreenShot0004.png&quot;), but I don't know if this is a problem.
</I>&gt;<i>   
</I>
Pieter,

See FAQ #1 in the documentation

        <A HREF="http://openocd.berlios.de/doc/FAQ.html#FAQ">http://openocd.berlios.de/doc/FAQ.html#FAQ</A>

I see two anomalies,

(1) a small pulse on rtck when reset is released - To be expected,  
(screenshot 002)

(2) What is this pulse on NRST? about at about 25% of the screen?

But you speak about screen shot 004 -  The clock TCK/RTCK sequence shown 
in screenshot004 seems border line.
The left side of the screen seems ok...

You might set your timing analyzer up to look for this error condition,

     ((rising TCK) and (high RTCK))  *or*  ((falling TCK) and (low RTCK))

And sample at some *HIGH* speed - ie: 1mhz w/5khz jtag clock.

Q: who makes your timing analyzer? It seems better then the cheap one I 
purchased.

-Duane.





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004902.html">[Openocd-development] Reset, Halt, and Init Problems with AT91SAM9G20
</A></li>
	<LI>Next message: <A HREF="004949.html">[Openocd-development] Reset, Halt, and Init Problems with AT91SAM9G20
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4907">[ date ]</a>
              <a href="thread.html#4907">[ thread ]</a>
              <a href="subject.html#4907">[ subject ]</a>
              <a href="author.html#4907">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
