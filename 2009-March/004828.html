<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] OMAP3 JTAG
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OMAP3%20JTAG&In-Reply-To=%3Ce5e16330903012324p11444b18ib313eae6eed1fc0c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004824.html">
   <LINK REL="Next"  HREF="004830.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] OMAP3 JTAG</H1>
    <B>Kees Jongenburger</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OMAP3%20JTAG&In-Reply-To=%3Ce5e16330903012324p11444b18ib313eae6eed1fc0c%40mail.gmail.com%3E"
       TITLE="[Openocd-development] OMAP3 JTAG">kees.jongenburger at gmail.com
       </A><BR>
    <I>Mon Mar  2 08:24:45 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004824.html">[Openocd-development] OMAP3 JTAG
</A></li>
        <LI>Next message: <A HREF="004830.html">[Openocd-development] OMAP3 JTAG
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4828">[ date ]</a>
              <a href="thread.html#4828">[ thread ]</a>
              <a href="subject.html#4828">[ subject ]</a>
              <a href="author.html#4828">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sun, Mar 1, 2009 at 11:53 PM, Rick Altherr &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>&gt; wrote:
&gt;<i> On Mar 1, 2009, at 12:08 AM, Dirk Behme wrote:
</I>&gt;&gt;<i> The first and easiest idea is to add something like
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> #ifdef OMAP3_SUPPORT
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;/* Do 10 TCK in RESET state to enable OMAP3 jtag */
</I>&gt;&gt;<i> &#160; &#160; &#160; &#160;omap3_init()
</I>&gt;&gt;<i> #endif
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> to jtag_init_inner(). But this is quite hackish. There doesn't seem to be
</I>&gt;&gt;<i> an interface to add processor specific pre-init functionality to
</I>&gt;&gt;<i> jtag_init_inner() ?
</I>&gt;&gt;<i>
</I>&gt;<i>
</I>&gt;<i> I'm not fond of device-specific code in C. &#160;The 'run_test' command available
</I>&gt;<i> in TCL should let you run any number of clocks in IDLE today. &#160;We have
</I>&gt;<i> talked about changing it to add an optional state argument, so you could do
</I>&gt;<i> something like 'run_test 10 RESET' and have it do 10 TCK in RESET. &#160;Then you
</I>&gt;<i> can use the reset-init event (exposed in TCL via the target event hooks) to
</I>&gt;<i> do that when OpenOCD does a reset.
</I>
While I do think this is clearly possible I think we are hitting a
well known problem in computer history
called the borken abstraction. A developer creates an abstraction but
that does not work all the time.
When an other developer hits a problem he needs to &quot;break&quot; in the
abstraction to understand what is going wrong.
A third developer who does  understand the lower level jtag protocol
gets even less satisfaction. He knows what he wants
but can't. A fourth developers who want's to add support for this new
piece of hardware not only has to understand the hardware and the
TCL/openocd way of doing things but apparently also needs how to add
TCL commands :p

Anyway , it would be nice to understand what was discussed what will
be picked up by core developers.
IMHO it would be better to expose the CORE api's to TCL so anything IS
possible v.s. what the developers needed at the time.
 I think that for the omap the svf based aproach might be easier to
get working. I will try this next


Greetings

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004824.html">[Openocd-development] OMAP3 JTAG
</A></li>
	<LI>Next message: <A HREF="004830.html">[Openocd-development] OMAP3 JTAG
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4828">[ date ]</a>
              <a href="thread.html#4828">[ thread ]</a>
              <a href="subject.html#4828">[ subject ]</a>
              <a href="author.html#4828">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
