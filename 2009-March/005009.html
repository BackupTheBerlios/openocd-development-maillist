<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] =?ISO-8859-2?Q?Re: Re: &quot;EmbeddedICE handling might be broken&quot; with A=
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%3D%3FISO-8859-2%3FQ%3FRe%3A%20Re%3A%20%22EmbeddedICE%0A%20handling%20might%20be%20broken%22%20with%20A%3D&In-Reply-To=%3C49BA4338.5030604%40duaneellis.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005007.html">
   <LINK REL="Next"  HREF="005010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] =?ISO-8859-2?Q?Re: Re: &quot;EmbeddedICE handling might be broken&quot; with A=</H1>
    <B>Duane Ellis</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%3D%3FISO-8859-2%3FQ%3FRe%3A%20Re%3A%20%22EmbeddedICE%0A%20handling%20might%20be%20broken%22%20with%20A%3D&In-Reply-To=%3C49BA4338.5030604%40duaneellis.com%3E"
       TITLE="[Openocd-development] =?ISO-8859-2?Q?Re: Re: &quot;EmbeddedICE handling might be broken&quot; with A=">openocd at duaneellis.com
       </A><BR>
    <I>Fri Mar 13 12:27:52 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005007.html">[Openocd-development] =?ISO-8859-2?Q?Re: Re: &quot;EmbeddedICE handling might be broken&quot; with A=
</A></li>
        <LI>Next message: <A HREF="005010.html">[Openocd-development] JLink + MC1322x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5009">[ date ]</a>
              <a href="thread.html#5009">[ thread ]</a>
              <a href="subject.html#5009">[ subject ]</a>
              <a href="author.html#5009">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Kevin &gt;  Error: JTAG tap: lpc2478.cpu got: 0x4f1f0f0f (mfg: 0x787, part: 
0xf1f0, ver: 0x4)

freddie&gt;  put that value (0x4f1f0f0f) in your config file at the top:
freddie&gt; set CPUTAPID 0x4f1f0f0f
freddie&gt; 0xFFFFFFFF is the default value used to cause the error, so 
that you can get the right value.

Close - the idea here is there should be a &quot;nxp-lpc2478.cfg&quot; file.

And - in this case, since we did not know the TAPID of *THAT* specific 
chip... we use 0xFFFFFFFF to flag the warning, with the hope that the 
user(victim) will post the details about the chip to the mailing list.  
It worked exactly as planned :-)

Now if somebody can create a 'nxp-lpc2478.cfg' file and post it as a 
patch - we'll commit it.

====

Some background/history...

Some chips have a single tap - ie: arm7tdmi type micro controllers.

Others - have multiple taps, in a chain. Others have a 
&quot;test/configuration&quot; jumper, in one mode, the debug works, in the other 
&quot;boundary scan work&quot; - example: see the at91rm9200.cfg file.

This causes a bit of end-user(victim) confusion.  By inserting this 
&quot;tapid&quot; check - has actually helped quite a bit.  It is sort of the 
&quot;blinky-green-light&quot; *THIS*IS*WRONG*, the &quot;blinky-red-light&quot; 
*THIS*IS*CORRECT*.

In this case, exactly as planned: The blinky-yellow-light: 
*WARNING*WE*ARE*NOT*SURE*HERE*

-Duane


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005007.html">[Openocd-development] =?ISO-8859-2?Q?Re: Re: &quot;EmbeddedICE handling might be broken&quot; with A=
</A></li>
	<LI>Next message: <A HREF="005010.html">[Openocd-development] JLink + MC1322x
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5009">[ date ]</a>
              <a href="thread.html#5009">[ thread ]</a>
              <a href="subject.html#5009">[ subject ]</a>
              <a href="author.html#5009">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
