<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] another STM32 problems with RLink
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20another%20STM32%20problems%20with%20RLink&In-Reply-To=%3C20090306191955.GE13529%40gumby.local%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004906.html">
   <LINK REL="Next"  HREF="004912.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] another STM32 problems with RLink</H1>
    <B>lou.openocd012 at fixit.nospammail.net</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20another%20STM32%20problems%20with%20RLink&In-Reply-To=%3C20090306191955.GE13529%40gumby.local%3E"
       TITLE="[Openocd-development] another STM32 problems with RLink">lou.openocd012 at fixit.nospammail.net
       </A><BR>
    <I>Fri Mar  6 20:19:55 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004906.html">[Openocd-development] another STM32 problems with RLink
</A></li>
        <LI>Next message: <A HREF="004912.html">[Openocd-development] another STM32 problems with RLink
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4910">[ date ]</a>
              <a href="thread.html#4910">[ thread ]</a>
              <a href="subject.html#4910">[ subject ]</a>
              <a href="author.html#4910">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Mar 06, 2009 at 12:36:52PM +0100, <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">freddie_chopin at op.pl</A> wrote:
&gt;<i> I'm using openocd-0.1.0 for Windows
</I>&gt;<i> 
</I>&gt;<i> I got the STM32F10X-128k-EVAL board with the original RLink. I can debug the primer1, which has the Rlink embedded. I connect to the current board with the same command
</I>&gt;<i> 
</I>&gt;<i> openocd -f interface/rlink.cfg -f board/stm32f10x_128k_eval.cfg
</I>
[...]

&gt;<i> the problem is, that the target is held in reset no matter what I do.
</I>

Uh-oh.  The rlink driver was created based on the schematic for the
Primer1, which contains an Rlink chip.  The standalone Rlink device has
circuitry that the Primer does not.  I made the best guesses I could,
based on USB traffic traces, to accomodate the additional unknown
hardware.

Unfortunately, I do not have a standalone RLink dongle which I could use
for testing or to open up to trace out the missing parts of the
circuit.  I recall Rob saying he was getting one with which to do some
testing, but I haven't been in contact with him in awhile.

The good news is that the part of the driver that twiddles the non TAP
lines is not too hard to understand.  The bad news is that there may be
some driver (or level shifter) enable that I have no idea about, and
which obviously isn't present in the Primer.

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004906.html">[Openocd-development] another STM32 problems with RLink
</A></li>
	<LI>Next message: <A HREF="004912.html">[Openocd-development] another STM32 problems with RLink
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4910">[ date ]</a>
              <a href="thread.html#4910">[ thread ]</a>
              <a href="subject.html#4910">[ subject ]</a>
              <a href="author.html#4910">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
