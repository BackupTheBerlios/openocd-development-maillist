<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [Openocd-svn] r1393 -	trunk/src/target/interface
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BOpenocd-svn%5D%20r1393%20-%0A%09trunk/src/target/interface&In-Reply-To=%3CB151B96B-2C48-4C96-8F6E-ACC56A85FB90%40kc8apf.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004827.html">
   <LINK REL="Next"  HREF="004833.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [Openocd-svn] r1393 -	trunk/src/target/interface</H1>
    <B>Rick Altherr</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BOpenocd-svn%5D%20r1393%20-%0A%09trunk/src/target/interface&In-Reply-To=%3CB151B96B-2C48-4C96-8F6E-ACC56A85FB90%40kc8apf.net%3E"
       TITLE="[Openocd-development] [Openocd-svn] r1393 -	trunk/src/target/interface">kc8apf at kc8apf.net
       </A><BR>
    <I>Mon Mar  2 08:45:26 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004827.html">[Openocd-development] [Openocd-svn] r1393 -	trunk/src/target/interface
</A></li>
        <LI>Next message: <A HREF="004833.html">[Openocd-development] [Openocd-svn] r1393 -	trunk/src/target/interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4831">[ date ]</a>
              <a href="thread.html#4831">[ thread ]</a>
              <a href="subject.html#4831">[ subject ]</a>
              <a href="author.html#4831">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On Mar 1, 2009, at 11:19 PM, &#216;yvind Harboe wrote:

&gt;&gt;<i> Ugh.  Can we fix this once and for all?  Win32 adds the A, Linux  
</I>&gt;&gt;<i> and OS X do
</I>&gt;&gt;<i> not.  Perhaps we should just introduce a global variable in the TCL  
</I>&gt;&gt;<i> that
</I>&gt;&gt;<i> defines the platform type.  Similar to __LINUX__, __WIN32__,  
</I>&gt;&gt;<i> __DARWIN__ that
</I>&gt;&gt;<i> gcc emits.  Then the problematic devices can use the appropriate  
</I>&gt;&gt;<i> value
</I>&gt;&gt;<i> automatically.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Thoughts?
</I>&gt;<i>
</I>&gt;<i> I don't particularly like the idea of opening up for communication
</I>&gt;<i> between the OS
</I>&gt;<i> and Tcl. Where will it end?
</I>&gt;<i>
</I>&gt;<i> Separate config files for same hardware depending on host OS?
</I>&gt;<i>
</I>&gt;<i> Stuff can be shared between config files if need be using &quot;source&quot;.
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> -- 
</I>&gt;<i> &#216;yvind Harboe
</I>&gt;<i> PayBack incident management system
</I>&gt;<i> Reduce costs and increase quality, free Starter Edition
</I>&gt;<i> <A HREF="http://www.payback.no/index_en.html">http://www.payback.no/index_en.html</A>
</I>

The intent is to provide a way for cases like this to be handled.   
Having someone contribute a patch every few months that changes it  
isn't effective.  Instead, we could have a single config file for this  
dongle that works regardless of OS.

I'm not sure why you think this would lead to separate config files  
for the same hardware on different OSes.  In most cases, there isn't a  
need to know what OS you are on.  This only applies to those cases  
where it does matter.

This isn't a matter of sharing data.  It's a matter of knowing which  
commands to run depending on the host OS.  The end user need not know  
that the JTAGkey needs a different command for windows versus linux.   
They just need to include the jtagkey.cfg and have it to do the right  
thing.

TCL already supports if-then-else, so we would just need to publish a  
set of builtin globals.

If you have an alternate solution that doesn't involve the end user  
knowing there is a difference, I'd be happy to hear it.

--
Rick Altherr
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>

&quot;He said he hadn't had a byte in three days. I had a short, so I split  
it with him.&quot;
  -- Unsigned



-------------- next part --------------
A non-text attachment was scrubbed...
Name: smime.p7s
Type: application/pkcs7-signature
Size: 2446 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090301/6ca76830/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20090301/6ca76830/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004827.html">[Openocd-development] [Openocd-svn] r1393 -	trunk/src/target/interface
</A></li>
	<LI>Next message: <A HREF="004833.html">[Openocd-development] [Openocd-svn] r1393 -	trunk/src/target/interface
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4831">[ date ]</a>
              <a href="thread.html#4831">[ thread ]</a>
              <a href="subject.html#4831">[ subject ]</a>
              <a href="author.html#4831">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
