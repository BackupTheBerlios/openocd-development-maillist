<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] OpenOCD flash programming STR9-comStick
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20flash%20programming%20STR9-comStick&In-Reply-To=%3C4E405D1B3E2D944BB29D40921738B93E2DB7CF14CB%40EXCHANGE-UK.ad.mathworks.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005065.html">
   <LINK REL="Next"  HREF="005069.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] OpenOCD flash programming STR9-comStick</H1>
    <B>David Lange</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20flash%20programming%20STR9-comStick&In-Reply-To=%3C4E405D1B3E2D944BB29D40921738B93E2DB7CF14CB%40EXCHANGE-UK.ad.mathworks.com%3E"
       TITLE="[Openocd-development] OpenOCD flash programming STR9-comStick">David.Lange at mathworks.de
       </A><BR>
    <I>Thu Mar 19 09:09:59 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005065.html">[Openocd-development] OpenOCD flash programming STR9-comStick
</A></li>
        <LI>Next message: <A HREF="005069.html">[Openocd-development] OpenOCD flash programming STR9-comStick
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5066">[ date ]</a>
              <a href="thread.html#5066">[ thread ]</a>
              <a href="subject.html#5066">[ subject ]</a>
              <a href="author.html#5066">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

thanks for your reply. 

The following is the approach I currently working on. I use MATLAB and Simulink for 
algorithm development. Using Simulink and Real-Time Workshop Embedded Coder
(tool to automate C-Code generation from Simulink models) I generate code and 
compile and link it within MATLAB to get the *.elf product. 
However I always need to launch the external IDE from Hitex to download the product
on the target. The reason I want to use OpenOCD is  to automate the entire workflow.

However before I start working on OpenOCD I need to get an idea about the
complexity and if it really will result in an easy to use download command line interface.

This is what I need to investigate first. 

Every comments welcome.

Best,
-David
&#160;

-----Original Message-----
From: Uwe Hermann [mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">uwe at hermann-uwe.de</A>] 
Sent: Thursday, March 19, 2009 3:00 AM
To: David Lange
Cc: Subject: Re: [Openocd-development] OpenOCD flash programming STR9-comStick

Hi,

On Mon, Mar 16, 2009 at 12:01:44PM +0000, David Lange wrote:
&gt;<i> I found OpenOCD to be a free and command based flash programming tool. I currently have a project running using the Hitex USB stick STR9-comStick.
</I>&gt;<i> However so far I only was able to download the application using the IDE HiTop. What I am looking for is a tool to automate this via the command line.
</I>&gt;<i> In the OpenOCD pdf-documentation I found that on page 9 the link to the comstick is exactly the device that I use.
</I>&gt;<i> 
</I>&gt;<i> Does anyone have experiences using OpenOCD in combination with the STR9-comStick?
</I>
I have such a device here, but didn't test much so far.

What you generally want is to start OpenOCD like this (for example):

$ openocd -f /usr/lib/openocd/interface/str9-comstick.cfg -f /usr/lib/openocd/target/str9comstick.cfg 
Open On-Chip Debugger 1.0 (2009-03-12-01:10) svn:r1409

BUGS? Read /usr/share/doc/openocd/BUGS

$URL: <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/src/openocd.c">http://svn.berlios.de/svnroot/repos/openocd/trunk/src/openocd.c</A> $
3000 kHz
Runtime error, file &quot;/usr/lib/openocd/target/str9comstick.cfg&quot;, line 19:
    can't read &quot;_CHIPNAME&quot;: no such variable


However, as you can see this currently results in an error (as of
r1409), I guess this needs to be fixed in svn. I didn't have the time
to investigate the issue further, yet.

Assuming the OpenOCD connection works, you use 'telnet localhost 4444'
to connect to OpenOCD via telnet, where you can the use all commands
available.


HTH, Uwe.
-- 
<A HREF="http://www.hermann-uwe.de">http://www.hermann-uwe.de</A>  | <A HREF="http://www.holsham-traders.de">http://www.holsham-traders.de</A>
<A HREF="http://www.crazy-hacks.org">http://www.crazy-hacks.org</A> | <A HREF="http://www.unmaintained-free-software.org">http://www.unmaintained-free-software.org</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005065.html">[Openocd-development] OpenOCD flash programming STR9-comStick
</A></li>
	<LI>Next message: <A HREF="005069.html">[Openocd-development] OpenOCD flash programming STR9-comStick
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5066">[ date ]</a>
              <a href="thread.html#5066">[ thread ]</a>
              <a href="subject.html#5066">[ subject ]</a>
              <a href="author.html#5066">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
