<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] SRST/TRST Question
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20SRST/TRST%20Question&In-Reply-To=%3CC6800FA8.3513%25gcarlson%40carlson-minot.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009504.html">
   <LINK REL="Next"  HREF="009507.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] SRST/TRST Question</H1>
    <B>Gary Carlson</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20SRST/TRST%20Question&In-Reply-To=%3CC6800FA8.3513%25gcarlson%40carlson-minot.com%3E"
       TITLE="[Openocd-development] SRST/TRST Question">gcarlson at carlson-minot.com
       </A><BR>
    <I>Mon Jul 13 07:09:44 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009504.html">[Openocd-development] SRST/TRST Question
</A></li>
        <LI>Next message: <A HREF="009507.html">[Openocd-development] SRST/TRST Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9508">[ date ]</a>
              <a href="thread.html#9508">[ thread ]</a>
              <a href="subject.html#9508">[ subject ]</a>
              <a href="author.html#9508">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
On 7/12/09 5:01 PM, &quot;Xiaofan Chen&quot; &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">xiaofanc at gmail.com</A>&gt; wrote:

&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> I do not know anything about svn-bisect. But I just used Google for
</I>&gt;&gt;&gt;<i> 5 minutes to locate the svn commit for the above lines.
</I>&gt;&gt;&gt;<i> 
</I>&gt;&gt;&gt;<i> 1) r1507 by Zach to fix J-Link reset
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openocd-svn/2009-April/000291.html">https://lists.berlios.de/pipermail/openocd-svn/2009-April/000291.html</A>
</I>&gt;&gt;&gt;<i> + &#160;jlink_end_state(TAP_RESET);
</I>&gt;&gt;&gt;<i> + &#160;jlink_state_move();
</I>&gt;&gt;&gt;<i> 2) r1616 by mlu
</I>&gt;&gt;&gt;<i> + &#160;jtag_sleep(5000);
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> Hmmmm!!! &#160;I wonder if this has any relationship to the first part of my V2
</I>&gt;&gt;<i> patch that I recently addressed. &#160;If you recall I found that the j-link
</I>&gt;&gt;<i> dongle would ignore the first reset command intermittently immediately after
</I>&gt;&gt;<i> the USB session was started, but worked subsequently. &#160;I speculated that the
</I>&gt;&gt;<i> j-link dongle was doing something critical and dropped the ball on occasion
</I>&gt;&gt;<i> (probably a bug inside the dongle itself). &#160;The physical outcome I observed
</I>&gt;&gt;<i> if the reset didn't occur was that the JTAG port was messed up afterwards.
</I>&gt;&gt;<i> 
</I>&gt;&gt;<i> I guess we will need to ask Zach or Oyvind about this one. &#160;Hopefully they
</I>&gt;&gt;<i> can shed some light on it.
</I>&gt;<i> 
</I>&gt;<i> Need to go back to this after the git-svn side topic. It seems to me this
</I>&gt;<i> needs sometime to get fixed and may be not ready for 0.2 release...
</I>&gt;<i> 
</I>&gt;<i> Still Spen could commit Gary's V3 J-Link patch to fix the problem
</I>&gt;<i> for Windows users.
</I>&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openocd-development/2009-July/009438.html">https://lists.berlios.de/pipermail/openocd-development/2009-July/009438.html</A>
</I>&gt;<i> 
</I>&gt;<i> 
</I>
Technically it would be the V4 patch, but that is a minor detail.  :)

As for the problem above, I agree that it will not be possible to get this
finished for the 0.2 release.  While we tentatively now know what is causing
one problem with &quot;reset run&quot; the other reset conditions involving halt and
init are still broken at least on my target (and possibly others).  Those
problems will require additional troubleshooting to identify and correct.

The benefit of forgoing the 0.2 release is that it will also give us more
time to better test any proposed fixes.  I personally worry when patches are
rushed because expediency usually introduces as many problems as it
corrects.

Gary





</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009504.html">[Openocd-development] SRST/TRST Question
</A></li>
	<LI>Next message: <A HREF="009507.html">[Openocd-development] SRST/TRST Question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9508">[ date ]</a>
              <a href="thread.html#9508">[ thread ]</a>
              <a href="subject.html#9508">[ subject ]</a>
              <a href="author.html#9508">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
