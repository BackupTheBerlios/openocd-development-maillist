<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] amtjtagaccel reports incorrect chip ID's
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20amtjtagaccel%20reports%20incorrect%20chip%20ID%27s&In-Reply-To=%3C1246833926.14269.1105.camel%40localhost%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009133.html">
   <LINK REL="Next"  HREF="009665.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] amtjtagaccel reports incorrect chip ID's</H1>
    <B>Zach Welch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20amtjtagaccel%20reports%20incorrect%20chip%20ID%27s&In-Reply-To=%3C1246833926.14269.1105.camel%40localhost%3E"
       TITLE="[Openocd-development] amtjtagaccel reports incorrect chip ID's">zw at superlucidity.net
       </A><BR>
    <I>Mon Jul  6 00:45:26 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009133.html">[Openocd-development] amtjtagaccel reports incorrect chip ID's
</A></li>
        <LI>Next message: <A HREF="009665.html">[Openocd-development] Compile Error on Cygwin in arm_disassembler.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9134">[ date ]</a>
              <a href="thread.html#9134">[ thread ]</a>
              <a href="subject.html#9134">[ subject ]</a>
              <a href="author.html#9134">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Given this explanation, I am tempted to take your original patch (w/
optimization), as John Devereux tested it and reported his success.  

I think some additional reasoning supports this decision.  If the
optimization had resulted from other motives, I would be more skeptical;
the fact that it derived from a bug hunt reflects reasonable motivation.
Since the minimal patch has been confirmed to fix a long-outstanding
bug, the very presence of such a bug (and the correctness of the fix)
lends credibility to the notion that the optimization will be correct.
In any event, the consequences will be limited to this one interface and
will be easy to revert, if it is proven to be wrong.

With all of this in mind, I am willing to wager that your patch is
correct in its entirety and accept it for 0.2.0.  Since I am still
working out details relating to the release process, I will give this
patch a little more time to percolate before committing it.

Does anyone find fault in my assessment of the situation, to the extent
that you object to taking the original patch as it was posted by
Ferdinand on Friday?

Cheers,

Zach

On Mon, 2009-07-06 at 00:18 +0200, Ferdinand Postema wrote:
&gt;<i> Sorry, I have to learn to post messages as plaint-text and not as html!
</I>&gt;<i> 
</I>&gt;<i> It is not possible to match the private table to the table used by other 
</I>&gt;<i> interfaces, because the code can only send 5 or 10 bits. I think my 
</I>&gt;<i> patch (including the optimization) brings the private table closer to 
</I>&gt;<i> the table used by other interfaces. The best option is to change the 
</I>&gt;<i> code to use the same table as the other interfaces. I am working on that 
</I>&gt;<i> option, but I think it will not be finished and tested before the 0.2.0 
</I>&gt;<i> release.
</I>&gt;<i> 
</I>&gt;<i> Comparison of the TMS bitstreams:
</I>&gt;<i> from  to      std.    opt.  min.change
</I>&gt;<i> ----- ------- ------- ----- ----------
</I>&gt;<i> RESET DRSHIFT 0010111 00101 0100001010
</I>&gt;<i> IDLE  DRSHIFT 001     00100 0100000101
</I>&gt;<i> IDLE  IRSHIFT 0011    00110 0100001011
</I>&gt;<i> 
</I>&gt;<i> Cheers,
</I>&gt;<i> 
</I>&gt;<i> Ferdinand Postema
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> Zach Welch schreef:
</I>&gt;<i> &gt; Can some folks do a quick comparisons of the two tables and tell me
</I>&gt;<i> &gt; which patch (minimal or w/ optimization) brings the private table closer
</I>&gt;<i> &gt; in alignment with the main table?
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; At minimum, it seems like we should take the minimal patch for 0.2.0;
</I>&gt;<i> &gt; however, the additional optimization should be included too, if that
</I>&gt;<i> &gt; change makes the private table match the table used by other interfaces.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Cheers,
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Zach
</I>[snip]

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009133.html">[Openocd-development] amtjtagaccel reports incorrect chip ID's
</A></li>
	<LI>Next message: <A HREF="009665.html">[Openocd-development] Compile Error on Cygwin in arm_disassembler.c
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9134">[ date ]</a>
              <a href="thread.html#9134">[ thread ]</a>
              <a href="subject.html#9134">[ subject ]</a>
              <a href="author.html#9134">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
