<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] USBprog interface regression
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20USBprog%20interface%20regression&In-Reply-To=%3CPine.LNX.4.64.0907111042251.6844%40marshadder.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009471.html">
   <LINK REL="Next"  HREF="009475.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] USBprog interface regression</H1>
    <B>Peter Denison</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20USBprog%20interface%20regression&In-Reply-To=%3CPine.LNX.4.64.0907111042251.6844%40marshadder.org%3E"
       TITLE="[Openocd-development] [PATCH] USBprog interface regression">openwrt at marshadder.org
       </A><BR>
    <I>Sat Jul 11 11:51:22 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009471.html">[Openocd-development] [PATCH] USBprog interface regression
</A></li>
        <LI>Next message: <A HREF="009475.html">[Openocd-development] [PATCH] USBprog interface regression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9474">[ date ]</a>
              <a href="thread.html#9474">[ thread ]</a>
              <a href="subject.html#9474">[ subject ]</a>
              <a href="author.html#9474">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, 11 Jul 2009, &#216;yvind Harboe wrote:

&gt;<i> On Sat, Jul 11, 2009 at 10:24 AM, Peter Denison&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openwrt at marshadder.org</A>&gt; wrote:
</I>&gt;&gt;<i> On Sat, 11 Jul 2009, &#216;yvind Harboe wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If I could return to the original point of this thread - getting the USBprog
</I>&gt;&gt;<i> adapter to work at all - in the light of the other comments, are you going
</I>&gt;&gt;<i> to let the one-line &quot;make it work for now&quot; fix in before 0.2?
</I>&gt;<i>
</I>&gt;<i> The downside to slipping in this fix is that it will be harder
</I>&gt;<i> to retire the undocumented tms_sequence command
</I>&gt;<i> and who's going to put in the work to fix it on the C side now?
</I>
In return for putting the quick fix in, I will volunteer to step up to the 
plate for that. It will take some time though, because it will need to be 
coordinated with the USBprog firmware development.

&gt;<i> Also, I find it strange, but I'm not going to dive into USBprog,
</I>&gt;<i> that it is possible to support pathmove, but not short
</I>&gt;<i> sequences...
</I>
Pathmove is done by sending the individual TMS and TCK line transitions. 
&quot;Normal&quot; state transitions are done by the TMS_CHAIN command, which does 
multiples of 7 bits.

Now I'm fairly sure that the only reason USBprog did sets of 7 bits is 
because that was how OpenOCD originally did it internally, so the whole 
thing is ripe for improvement (along with other things such as abstracting 
runtest, and pushing that down as a single command, etc.). However, it 
will need careful interface versioning, and agreement from both sides.

There is also plenty of scope for batching up commands as is done on other 
adapters. I will start the process of planning this with USBprog 
developers.

-- 
Peter
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009471.html">[Openocd-development] [PATCH] USBprog interface regression
</A></li>
	<LI>Next message: <A HREF="009475.html">[Openocd-development] [PATCH] USBprog interface regression
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9474">[ date ]</a>
              <a href="thread.html#9474">[ thread ]</a>
              <a href="subject.html#9474">[ subject ]</a>
              <a href="author.html#9474">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
