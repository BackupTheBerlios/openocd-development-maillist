<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] ARM-USB-OCD + LPC-H2148 openOCD Issue
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ARM-USB-OCD%20%2B%20LPC-H2148%20openOCD%20Issue&In-Reply-To=%3Ca276da400907290604l4bd9edf8hbde2803147b4ebf6%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009858.html">
   <LINK REL="Next"  HREF="009805.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] ARM-USB-OCD + LPC-H2148 openOCD Issue</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20ARM-USB-OCD%20%2B%20LPC-H2148%20openOCD%20Issue&In-Reply-To=%3Ca276da400907290604l4bd9edf8hbde2803147b4ebf6%40mail.gmail.com%3E"
       TITLE="[Openocd-development] ARM-USB-OCD + LPC-H2148 openOCD Issue">xiaofanc at gmail.com
       </A><BR>
    <I>Wed Jul 29 15:04:46 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009858.html">[Openocd-development] ARM-USB-OCD + LPC-H2148 openOCD Issue
</A></li>
        <LI>Next message: <A HREF="009805.html">[Openocd-development] ARM-USB-OCD + LPC-H2148 openOCD Issue - SOLVED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9796">[ date ]</a>
              <a href="thread.html#9796">[ thread ]</a>
              <a href="subject.html#9796">[ subject ]</a>
              <a href="author.html#9796">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jul 29, 2009 at 2:33 AM, Kevin Ames&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kcasms at rit.edu</A>&gt; wrote:
&gt;<i> Products Used: &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; ARM-USB-OCD
</I>&gt;<i> (<A HREF="http://www.olimex.com/dev/arm-usb-ocd.html">http://www.olimex.com/dev/arm-usb-ocd.html</A>)
</I>&gt;<i>
</I>&gt;<i> LPC-H2148 (<A HREF="http://www.olimex.com/dev/lpc-h2148.html">http://www.olimex.com/dev/lpc-h2148.html</A>)
</I>&gt;<i>
</I>&gt;<i> Further, I have also downloaded and set up the 0.2.0 release in hopes that
</I>&gt;<i> this issue would be resolved, but similar circumstances still occur (i.e.
</I>&gt;<i> changing memory addresses at the same location after multiple reads).&#160; If
</I>&gt;<i> anyone could assist in any way possible, it would be greatly appreciated as
</I>&gt;<i> many hours have been spent attempting to remedy these issues, and hopefully
</I>&gt;<i> help others who may be having similar issues as well.
</I>
I can not help you much. But I just tried similar test and I do not have issues.
Products Used: IAR J-Link V3
Olimex LPC-P2148
Flashed with OpenOCD using the lpcusb isochronous transfer example.

OpenOCD svn 2570 under Ubuntu 9.04.

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~$ telnet localhost 4444
Trying ::1...
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
Open On-Chip Debugger
&gt;<i> reset halt
</I>JTAG tap: lpc2148.cpu tap/device found: 0x4f1f0f0f (mfg: 0x787, part:
0xf1f0, ver: 0x4)
JTAG Tap/device matched
srst pulls trst - can not reset into halted mode. Issuing halt after reset.
target state: halted
target halted in ARM state due to debug-request, current mode: System
cpsr: 0x2000005f pc: 0x00000864
&gt;<i> armv4_5 disassemble 0x00000000 16
</I>0x00000000	0xe59ff018	LDR r15, [r15, #0x18]
0x00000004	0xe59ff018	LDR r15, [r15, #0x18]
0x00000008	0xe59ff018	LDR r15, [r15, #0x18]
0x0000000c	0xe59ff018	LDR r15, [r15, #0x18]
0x00000010	0xe59ff018	LDR r15, [r15, #0x18]
0x00000014	0xb9205f84	STMLTDB r0!, {r2, r7, r8, r9, r10, r11, r12, r14}
0x00000018	0xe51ffff0	LDR r15, [r15, #-0xff0]
0x0000001c	0xe59ff014	LDR r15, [r15, #0x14]
0x00000020	0x00000040	ANDEQ r0, r0, r0, ASR #0x20
0x00000024	0x000000e4	ANDEQ r0, r0, r4, ROR #0x1
0x00000028	0x000000e0	ANDEQ r0, r0, r0, ROR #0x1
0x0000002c	0x000000e4	ANDEQ r0, r0, r4, ROR #0x1
0x00000030	0x000000e4	ANDEQ r0, r0, r4, ROR #0x1
0x00000034	0x000000d8	LDREQD r0, [r0], -r8
0x00000038	0x000000dc	LDREQD r0, [r0], -r12
0x0000003c	0x00000000	ANDEQ r0, r0, r0
&gt;<i> mdh 0x00000000 8
</I>0x00000000: f018 e59f f018 e59f f018 e59f f018 e59f
&gt;<i> mdh 0x00000000 8
</I>0x00000000: f018 e59f f018 e59f f018 e59f f018 e59f
&gt;<i> mdh 0x00000000 8
</I>0x00000000: f018 e59f f018 e59f f018 e59f f018 e59f
&gt;<i>
</I>&gt;<i> exit
</I>Connection closed by foreign host.
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~$ telnet localhost 4444
Trying ::1...
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
Open On-Chip Debugger
&gt;<i> init
</I>&gt;<i> reset halt
</I>JTAG tap: lpc2148.cpu tap/device found: 0x4f1f0f0f (mfg: 0x787, part:
0xf1f0, ver: 0x4)
JTAG Tap/device matched
srst pulls trst - can not reset into halted mode. Issuing halt after reset.
target state: halted
target halted in ARM state due to debug-request, current mode: System
cpsr: 0x8000005f pc: 0x00000880
&gt;<i> soft_reset_halt
</I>requesting target halt and executing a soft reset
target state: halted
target halted in ARM state due to debug-request, current mode: Supervisor
cpsr: 0x800000d3 pc: 0x00000000
&gt;<i> armv4_5 disassemble 0x00000000 16
</I>0x00000000	0xe59ff018	LDR r15, [r15, #0x18]
0x00000004	0xe59ff018	LDR r15, [r15, #0x18]
0x00000008	0xe59ff018	LDR r15, [r15, #0x18]
0x0000000c	0xe59ff018	LDR r15, [r15, #0x18]
0x00000010	0xe59ff018	LDR r15, [r15, #0x18]
0x00000014	0xb9205f84	STMLTDB r0!, {r2, r7, r8, r9, r10, r11, r12, r14}
0x00000018	0xe51ffff0	LDR r15, [r15, #-0xff0]
0x0000001c	0xe59ff014	LDR r15, [r15, #0x14]
0x00000020	0x00000040	ANDEQ r0, r0, r0, ASR #0x20
0x00000024	0x000000e4	ANDEQ r0, r0, r4, ROR #0x1
0x00000028	0x000000e0	ANDEQ r0, r0, r0, ROR #0x1
0x0000002c	0x000000e4	ANDEQ r0, r0, r4, ROR #0x1
0x00000030	0x000000e4	ANDEQ r0, r0, r4, ROR #0x1
0x00000034	0x000000d8	LDREQD r0, [r0], -r8
0x00000038	0x000000dc	LDREQD r0, [r0], -r12
0x0000003c	0x00000000	ANDEQ r0, r0, r0
&gt;<i> mdh 0x00000000 8
</I>0x00000000: f018 e59f f018 e59f f018 e59f f018 e59f
&gt;<i> mdh 0x00000000 8
</I>0x00000000: f018 e59f f018 e59f f018 e59f f018 e59f
&gt;<i> mdh 0x00000000 8
</I>0x00000000: f018 e59f f018 e59f f018 e59f f018 e59f
&gt;<i>
</I>
<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/jlinkv3$ cat lpc-p2148.cfg
#
# Olimex LPC-P2148 eval board
#
# <A HREF="http://www.olimex.com/dev/lpc-p2148.html">http://www.olimex.com/dev/lpc-p2148.html</A>
#

source [find target/lpc2148.cfg]
source [find interface/jlink.cfg]

#----------- Daemon Configuration

telnet_port     4444
gdb_port        3333
tcl_port	6666


# Tell gdb that you can use us to program the device (requires GDB
&gt;<i>=6.7 and libexapt)
</I>gdb_memory_map    enable
gdb_flash_program enable





-- 
Xiaofan <A HREF="http://mcuee.blogspot.com">http://mcuee.blogspot.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009858.html">[Openocd-development] ARM-USB-OCD + LPC-H2148 openOCD Issue
</A></li>
	<LI>Next message: <A HREF="009805.html">[Openocd-development] ARM-USB-OCD + LPC-H2148 openOCD Issue - SOLVED
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9796">[ date ]</a>
              <a href="thread.html#9796">[ thread ]</a>
              <a href="subject.html#9796">[ subject ]</a>
              <a href="author.html#9796">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
