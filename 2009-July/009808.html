<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] EK-LM3S1968 Configuration File
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20EK-LM3S1968%20Configuration%20File&In-Reply-To=%3Ca276da400907310456u1d91becanbcf72e8373d1d505%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009807.html">
   <LINK REL="Next"  HREF="009812.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] EK-LM3S1968 Configuration File</H1>
    <B>Xiaofan Chen</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20EK-LM3S1968%20Configuration%20File&In-Reply-To=%3Ca276da400907310456u1d91becanbcf72e8373d1d505%40mail.gmail.com%3E"
       TITLE="[Openocd-development] EK-LM3S1968 Configuration File">xiaofanc at gmail.com
       </A><BR>
    <I>Fri Jul 31 13:56:35 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009807.html">[Openocd-development] EK-LM3S1968 Configuration File
</A></li>
        <LI>Next message: <A HREF="009812.html">[Openocd-development] EK-LM3S1968 Configuration File
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9808">[ date ]</a>
              <a href="thread.html#9808">[ thread ]</a>
              <a href="subject.html#9808">[ subject ]</a>
              <a href="author.html#9808">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, Jul 31, 2009 at 7:41 PM, Xiaofan Chen&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">xiaofanc at gmail.com</A>&gt; wrote:
&gt;<i> On Thu, Jul 30, 2009 at 10:23 PM, Xiaofan Chen&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">xiaofanc at gmail.com</A>&gt; wrote:
</I>&gt;<i> I am also having problem with J-Link with the EK-LM3S1968. It
</I>&gt;<i> is not able to flash the flash. I've tried V3 and V6 IAR OEM version of
</I>&gt;<i> J-Link. Take note the on-board ftdi interface works fine with the same
</I>&gt;<i> svn version 2570.
</I>&gt;<i>
</I>
Not really. It seems that some Ubuntu 9.04 updates yesterday messed up with
OpenOCD now. Actually it crashed now with ftdi interface.

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/lm3s1968$ openocd -f
interface/luminary.cfg -f lm3s1968.cfg
Open On-Chip Debugger 0.3.0-in-development (2009-07-31-19:50) svn:2570
$URL: <A HREF="svn://svn.berlios.de/openocd/trunk/src/openocd.c">svn://svn.berlios.de/openocd/trunk/src/openocd.c</A> $
For bug reports, read <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS">http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS</A>
3000 kHz
jtag_nsrst_delay: 100
jtag_ntrst_delay: 100
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched
Info : accepting 'telnet' connection from 0
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched
target state: halted
target halted due to debug-request, current mode: Thread
xPSR: 0x01000000 pc: 0x00000470 msp: 0x20000198
auto erase enabled
Info : Algorithm flash write 1710 words to 0x0, 1710 remaining
Segmentation fault

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">mcuee at ubuntu904</A>:~/Desktop/build/openocd/lm3s1968$ gdb --args openocd
-f interface/luminary.cfg -f lm3s1968.cfg
GNU gdb 6.8-debian
Copyright (C) 2008 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later &lt;<A HREF="http://gnu.org/licenses/gpl.html">http://gnu.org/licenses/gpl.html</A>&gt;
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.  Type &quot;show copying&quot;
and &quot;show warranty&quot; for details.
This GDB was configured as &quot;i486-linux-gnu&quot;...
(gdb) run
Starting program: /usr/local/bin/openocd -f interface/luminary.cfg -f
lm3s1968.cfg
Open On-Chip Debugger 0.3.0-in-development (2009-07-31-19:50) svn:2570
$URL: <A HREF="svn://svn.berlios.de/openocd/trunk/src/openocd.c">svn://svn.berlios.de/openocd/trunk/src/openocd.c</A> $
For bug reports, read <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS">http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS</A>
3000 kHz
jtag_nsrst_delay: 100
jtag_ntrst_delay: 100
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched
Info : accepting 'telnet' connection from 0
Info : JTAG tap: lm3s1968.cpu tap/device found: 0x3ba00477 (mfg:
0x23b, part: 0xba00, ver: 0x3)
Info : JTAG Tap/device matched
target state: halted
target halted due to debug-request, current mode: Thread
xPSR: 0x01000000 pc: 0x00000470 msp: 0x20000198
auto erase enabled
Info : Algorithm flash write 1710 words to 0x0, 1710 remaining

Program received signal SIGSEGV, Segmentation fault.
armv7m_run_algorithm (target=0x8561910, num_mem_params=0, mem_params=0x0,
    num_reg_params=3, reg_params=0xbf8aba70, entry_point=536870912,
    exit_point=536870942, timeout_ms=10000, arch_info=0xbf8abaa0)
    at ../../../trunk/src/target/armv7m.c:461
461			if (regvalue != context[i])
(gdb) bt
#0  armv7m_run_algorithm (target=0x8561910, num_mem_params=0, mem_params=0x0,
    num_reg_params=3, reg_params=0xbf8aba70, entry_point=536870912,
    exit_point=536870942, timeout_ms=10000, arch_info=0xbf8abaa0)
    at ../../../trunk/src/target/armv7m.c:461
#1  0x080c33a1 in stellaris_write (bank=0x8566670,
    buffer=0x8580d40 &quot;\230\001&quot;, offset=0, count=6840)
    at ../../../trunk/src/flash/stellaris.c:804
#2  0x0805a50b in flash_driver_write (bank=0x8566670,
    buffer=0xbf8aba08 &quot;\036&quot;, offset=0, count=6840)
    at ../../../trunk/src/flash/flash.c:94
#3  0x0805afc0 in flash_write (target=0x8561910, image=0xbf8abbe4,
    written=0xbf8abc18, erase=1) at ../../../trunk/src/flash/flash.c:1138
#4  0x0805bbad in handle_flash_write_image_command (cmd_ctx=0x8576478,
    cmd=0x8574a68 &quot;write_image&quot;, args=0x857fa40, argc=1)
    at ../../../trunk/src/flash/flash.c:699
#5  0x0809542c in run_command (context=0x8576478, c=0x8574a78,
    words=0x857fa38, num_words=3) at ../../../trunk/src/helper/command.c:415
#6  0x080956d2 in script_command (interp=0x8548020, argc=3, argv=0xbf8abd00)
    at ../../../trunk/src/helper/command.c:142
#7  0x080a5182 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x857f7e8)
    at ../../../trunk/src/helper/jim.c:8708
#8  0x080aace7 in Jim_EvalCoreCommand (interp=0x8548020, argc=3,
    argv=0xbf8abdc0) at ../../../trunk/src/helper/jim.c:10846
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#9  0x080a5182 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x857f4b8)
    at ../../../trunk/src/helper/jim.c:8708
#10 0x080a968f in Jim_CatchCoreCommand (interp=0x8548020, argc=2,
    argv=0xbf8abe80) at ../../../trunk/src/helper/jim.c:11413
#11 0x080a5182 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x857f2f8)
    at ../../../trunk/src/helper/jim.c:8708
#12 0x080a6843 in Jim_EvalExpression (interp=0x8548020, exprObjPtr=0x857f078,
    exprResultPtrPtr=0xbf8abfdc) at ../../../trunk/src/helper/jim.c:6927
#13 0x080a75c1 in Jim_GetBoolFromExpr (interp=0x8548020,
    exprObjPtr=0x857f078, boolPtr=0xbf8ac018)
    at ../../../trunk/src/helper/jim.c:7210
#14 0x080ac434 in Jim_IfCoreCommand (interp=0x8548020, argc=5,
    argv=0xbf8ac080) at ../../../trunk/src/helper/jim.c:10297
#15 0x080a5182 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x8576138)
    at ../../../trunk/src/helper/jim.c:8708
#16 0x080a584b in JimCallProcedure (interp=0x8548020, cmd=0x85762e8, argc=2,
    argv=0xbf8ac170) at ../../../trunk/src/helper/jim.c:8857
#17 0x080a5526 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x85772c0)
    at ../../../trunk/src/helper/jim.c:8714
#18 0x080a5182 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x85649d0)
    at ../../../trunk/src/helper/jim.c:8708
#19 0x080a5242 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x8563fe0)
    at ../../../trunk/src/helper/jim.c:8654
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#20 0x080ac53d in Jim_IfCoreCommand (interp=0x8548020, argc=3,
    argv=0xbf8ac360) at ../../../trunk/src/helper/jim.c:10319
#21 0x080a5182 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x85635d8)
    at ../../../trunk/src/helper/jim.c:8708
#22 0x080ac53d in Jim_IfCoreCommand (interp=0x8548020, argc=3,
    argv=0xbf8ac430) at ../../../trunk/src/helper/jim.c:10319
#23 0x080a5182 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x854eb38)
    at ../../../trunk/src/helper/jim.c:8708
#24 0x080a584b in JimCallProcedure (interp=0x8548020, cmd=0x85540d8, argc=4,
    argv=0xbf8ac51c) at ../../../trunk/src/helper/jim.c:8857
#25 0x080a5b00 in Jim_EvalObjVector (interp=0x8548020, objc=5,
    objv=0xbf8ac51c) at ../../../trunk/src/helper/jim.c:8424
#26 0x080a5bf8 in JimUnknown (interp=0x8548020, argc=4, argv=0xbf8ac5a0)
    at ../../../trunk/src/helper/jim.c:8383
#27 0x080a5587 in Jim_EvalObj (interp=0x8548020, scriptObjPtr=0x8556ce8)
    at ../../../trunk/src/helper/jim.c:8723
#28 0x080a6322 in Jim_Eval_Named (interp=0x8548020,
    script=0x8576630 &quot;flash write_image erase
./StellarisWare/boards/ek-lm3s1968/graphics/gcc/graphics.bin&quot;,
filename=0x810b762 &quot;command.c&quot;, lineno=469)
    at ../../../trunk/src/helper/jim.c:8901
#29 0x08095342 in command_run_line (context=0x8576478,
    line=0x8576630 &quot;flash write_image erase
./StellarisWare/boards/ek-lm3s1968/graphics/gcc/graphics.bin&quot;) at
../../../trunk/src/helper/command.c:469
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
#30 0x08091e4d in telnet_input (connection=0x855eca8)
    at ../../../trunk/src/server/telnet_server.c:330
#31 0x0808d330 in server_loop (command_context=0x8548008)
    at ../../../trunk/src/server/server.c:433
#32 0x0804a5ac in openocd_main (argc=5, argv=0xbf8acd54)
    at ../../trunk/src/openocd.c:283
#33 0x0804a302 in main (argc=Cannot access memory at address 0x7b206669
) at ../../trunk/src/main.c:39
(gdb)




-- 
Xiaofan <A HREF="http://mcuee.blogspot.com">http://mcuee.blogspot.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009807.html">[Openocd-development] EK-LM3S1968 Configuration File
</A></li>
	<LI>Next message: <A HREF="009812.html">[Openocd-development] EK-LM3S1968 Configuration File
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9808">[ date ]</a>
              <a href="thread.html#9808">[ thread ]</a>
              <a href="subject.html#9808">[ subject ]</a>
              <a href="author.html#9808">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
