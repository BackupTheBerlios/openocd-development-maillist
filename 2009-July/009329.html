<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] GDB connect/disconnect writeup
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20GDB%20connect/disconnect%20writeup&In-Reply-To=%3Cc09652430907072257q368cb6bfvd73380931b202d99%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="009317.html">
   <LINK REL="Next"  HREF="009293.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] GDB connect/disconnect writeup</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20GDB%20connect/disconnect%20writeup&In-Reply-To=%3Cc09652430907072257q368cb6bfvd73380931b202d99%40mail.gmail.com%3E"
       TITLE="[Openocd-development] GDB connect/disconnect writeup">oyvind.harboe at zylin.com
       </A><BR>
    <I>Wed Jul  8 07:57:41 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="009317.html">[Openocd-development] GDB connect/disconnect writeup
</A></li>
        <LI>Next message: <A HREF="009293.html">[Openocd-development] retire trst_pulls_srst?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9329">[ date ]</a>
              <a href="thread.html#9329">[ thread ]</a>
              <a href="subject.html#9329">[ subject ]</a>
              <a href="author.html#9329">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jul 8, 2009 at 12:54 AM, David Brownell&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt; wrote:
&gt;<i> On Tuesday 07 July 2009, &#370;yvind Harboe wrote:
</I>&gt;&gt;<i> The problem is that GDB will assume that the target
</I>&gt;&gt;<i> is in the halted state and query for registers.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd like to see a model where OpenOCD allows a
</I>&gt;&gt;<i> connect and enters a state where it returns dummy
</I>&gt;&gt;<i> values for register queries(this happens today to
</I>&gt;&gt;<i> an extent). A faux halted state.
</I>&gt;<i>
</I>&gt;<i> Wouldn't a better fix be for GDB to actually *CHECK* the
</I>&gt;<i> target state?
</I>
No.

Also we can't change GDB. We've tried pushing fixes
upstream, to no avail in the past. Perhaps some day....

The problem is that GDB command line model is kinda busted,
the command line prompt is unavailable *while* the target
is running. This is why it's not that uncommon to have a telnet
prompt running next to GDB...

(I think there are more esoteric communication protocols
that are better able to handle these concepts available in GDB,
but I don't know that they are for human  beings)

Even if we changed GDB, that wouldn't change all the
GUI's out there.

What I'm suggesting is that we need a few choice white
lies and we can get GDB+GUI's out there working just
like we need/want to.

-- 
&#216;yvind Harboe
Embedded software and hardware consulting services
<A HREF="http://www.zylin.com">http://www.zylin.com</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="009317.html">[Openocd-development] GDB connect/disconnect writeup
</A></li>
	<LI>Next message: <A HREF="009293.html">[Openocd-development] retire trst_pulls_srst?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#9329">[ date ]</a>
              <a href="thread.html#9329">[ thread ]</a>
              <a href="subject.html#9329">[ subject ]</a>
              <a href="author.html#9329">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
