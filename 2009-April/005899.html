<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Strange flash problem. Only 1/2	theinformation is right (and flash is hosed) :(
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Strange%20flash%20problem.%20Only%201/2%0A%09theinformation%20is%20right%20%28and%20flash%20is%20hosed%29%20%3A%28&In-Reply-To=%3CAE37CDDF7D55EB4AB77E0D63F38594CBF479%40ny2545.corp.bloomberg.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005898.html">
   <LINK REL="Next"  HREF="005903.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Strange flash problem. Only 1/2	theinformation is right (and flash is hosed) :(</H1>
    <B>Chris Zimman</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Strange%20flash%20problem.%20Only%201/2%0A%09theinformation%20is%20right%20%28and%20flash%20is%20hosed%29%20%3A%28&In-Reply-To=%3CAE37CDDF7D55EB4AB77E0D63F38594CBF479%40ny2545.corp.bloomberg.com%3E"
       TITLE="[Openocd-development] Strange flash problem. Only 1/2	theinformation is right (and flash is hosed) :(">czimman at bloomberg.com
       </A><BR>
    <I>Wed Apr 29 03:17:43 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005898.html">[Openocd-development] Strange flash problem. Only 1/2 the	information is right (and flash is hosed) :(
</A></li>
        <LI>Next message: <A HREF="005903.html">[Openocd-development] Strange flash problem. Only 1/2	theinformation is right (and flash is hosed) :(
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5899">[ date ]</a>
              <a href="thread.html#5899">[ thread ]</a>
              <a href="subject.html#5899">[ subject ]</a>
              <a href="author.html#5899">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Well I bricked a $15k board today :)
</I>&gt;<i> 
</I>&gt;<i> The Flash on this ARM926EJ-S core board is 2 512Mbit NOR Spansion
</I>&gt;<i> S29GL512N-11F chips arranged 32M x 32bit.
</I>
If you paid $15K for an ARM926EJ-S board, it sounds like you got screwed --
but because I now feel bad for you, I'm totally willing to sell you another
for half price :)

&gt;<i> I was reading &amp; writing to a blank sector just to test out my configs and
</I>&gt;<i> I noticed that when I did any fill command (b,h,w) to flash, when I read
</I>&gt;<i> back I didn't get the same results.
</I>&gt;<i> 
</I>&gt;<i> Here is what a flash fillb 0x20000000 0xaa 128 looks like:
</I>&gt;<i> 0x20030000: ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaa
</I>ffffaaaa
&gt;<i> 0x20030020: ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa
</I>&gt;<i> ffffaaaa
</I>&gt;<i> 0x20030040: ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa
</I>&gt;<i> ffffaaaa
</I>&gt;<i> 0x20030060: ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa ffffaaaa
</I>&gt;<i> ffffaaaa
</I>
Looks like you have the chip select configured wrong.  Without knowing
anything else about your processor, it seems as though the access width is
configured incorrectly based on what you show here.

&gt;<i> But that wasn't the bad news ... when I rebooted ... no u-boot.
</I>&gt;<i> Displaying memory where uboot &quot;was&quot; showed that half the words of the
</I>&gt;<i> address where it lived were filled with 0xffff so something went crazy and
</I>&gt;<i> hosed my flash in areas I wasn't even messing with.
</I>
That could also be explained by having a bad config for your peripheral bus.

--Chris

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005898.html">[Openocd-development] Strange flash problem. Only 1/2 the	information is right (and flash is hosed) :(
</A></li>
	<LI>Next message: <A HREF="005903.html">[Openocd-development] Strange flash problem. Only 1/2	theinformation is right (and flash is hosed) :(
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5899">[ date ]</a>
              <a href="thread.html#5899">[ thread ]</a>
              <a href="subject.html#5899">[ subject ]</a>
              <a href="author.html#5899">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
