<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Help with communication problems - old config	file translation
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Help%20with%20communication%20problems%20-%20old%20config%0A%09file%20translation&In-Reply-To=%3C21d5f26f0904071816o145927f4g7c937b4e683358b7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005245.html">
   <LINK REL="Next"  HREF="005247.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Help with communication problems - old config	file translation</H1>
    <B>Jesus Sanchez-Palencia</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Help%20with%20communication%20problems%20-%20old%20config%0A%09file%20translation&In-Reply-To=%3C21d5f26f0904071816o145927f4g7c937b4e683358b7%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Help with communication problems - old config	file translation">jesus.palencia at openbossa.org
       </A><BR>
    <I>Wed Apr  8 03:16:27 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005245.html">[Openocd-development] AU1100 (MIPS) problems
</A></li>
        <LI>Next message: <A HREF="005247.html">[Openocd-development] Help with communication problems - old config	file translation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5246">[ date ]</a>
              <a href="thread.html#5246">[ thread ]</a>
              <a href="subject.html#5246">[ subject ]</a>
              <a href="author.html#5246">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hey guys,

I'm trying to &quot;translate&quot; and old config file for LPC-E2124 (Olimex),
because it has some deprecated functions. I'm sending attached both config
files, the old one and the one I'm working on right now.

I've already managed to communicate with the board, but something still
seems to be wrong. This is my first experience with OpenOCD, but as soon as
this cfg file becames ready I intend to send it to your svn. (yes, I'll
clean it a little bit)

So, I can start OpenOCD and can connect to its GDB server but at this point
I already have some warnings. If I give some &quot;monitor step&quot; or &quot;monitor
resume&quot; everything just go fine. I can even set a BP, with just some &quot;data
abort&quot; message. But if I try to do some &quot;monitor reset [anything]&quot; I have
some errors, and have to do a hard-reset at the board (reset button).

Below are the messages from OpenOCD with the steps above mentioned. What do
you think ?!
Anything wrong with my new config file ?


------------------------ CUT -----------------------------------------

<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">jeez at andaluzia</A> ~/dev/openocd/trunk/src $ sudo ./openocd -f
lpc2124+armjtag.cfg
Open On-Chip Debugger 1.0 (2009-04-06-19:24) svn:1435


BUGS? Read <A HREF="http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS">http://svn.berlios.de/svnroot/repos/openocd/trunk/BUGS</A>


$URL: <A HREF="svn://svn.berlios.de/openocd/trunk/src/openocd.c">svn://svn.berlios.de/openocd/trunk/src/openocd.c</A> $
jtag_speed: 0
Info : JTAG tap: lpc2124.cpu tap/device found: 0x4f1f0f0f (Manufacturer:
0x787, Part: 0xf1f0, Version: 0x4)
Info : JTAG Tap/device matched
Warn : no tcl port specified, using default port 6666
Info : accepting 'gdb' connection from 0
target state: halted
target halted in Thumb state due to debug-request, current mode: System
cpsr: 0x600000ff pc: 0x00003e58
Warn : acknowledgment received, but no packet pending
Warn : memory read caused data abort (address: 0x08080808, size: 0x4, count:
0x2)
Warn : memory read caused data abort (address: 0x08080808, size: 0x4, count:
0x1)


target state: halted
target halted in Thumb state due to single-step, current mode: System
cpsr: 0x600000ff pc: 0x00003e5a
target state: halted
target halted in Thumb state due to single-step, current mode: System
cpsr: 0x800000ff pc: 0x00003e5c
Warn : memory read caused data abort (address: 0x20000000, size: 0x2, count:
0x1)
breakpoint added at address 0x20000000


Info : JTAG tap: lpc2124.cpu tap/device found: 0x4f1f0f0f (Manufacturer:
0x787, Part: 0xf1f0, Version: 0x4)
Info : JTAG Tap/device matched
Error: invalid mode value encountered
Error: cpsr contains invalid mode value - communication failure


------------------------ CUT -----------------------------------------




Thanks in advance,
jesus
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090407/d7c03f97/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20090407/d7c03f97/attachment.html</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: lpc2124+armjtag.cfg
Type: application/octet-stream
Size: 1387 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090407/d7c03f97/attachment.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090407/d7c03f97/attachment.obj</A>&gt;
-------------- next part --------------
A non-text attachment was scrubbed...
Name: old_lpc2124.cfg
Type: application/octet-stream
Size: 1017 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090407/d7c03f97/attachment-0001.obj">https://lists.berlios.de/pipermail/openocd-development/attachments/20090407/d7c03f97/attachment-0001.obj</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005245.html">[Openocd-development] AU1100 (MIPS) problems
</A></li>
	<LI>Next message: <A HREF="005247.html">[Openocd-development] Help with communication problems - old config	file translation
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5246">[ date ]</a>
              <a href="thread.html#5246">[ thread ]</a>
              <a href="subject.html#5246">[ subject ]</a>
              <a href="author.html#5246">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
