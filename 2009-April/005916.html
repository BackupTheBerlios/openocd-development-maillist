<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] CMake
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20CMake&In-Reply-To=%3C49F86D86.7040107%40softplc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005910.html">
   <LINK REL="Next"  HREF="005922.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] CMake</H1>
    <B>Dick Hollenbeck</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20CMake&In-Reply-To=%3C49F86D86.7040107%40softplc.com%3E"
       TITLE="[Openocd-development] [PATCH] CMake">dick at softplc.com
       </A><BR>
    <I>Wed Apr 29 17:08:54 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005910.html">[Openocd-development] [PATCH] CMake
</A></li>
        <LI>Next message: <A HREF="005922.html">[Openocd-development] [PATCH] CMake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5916">[ date ]</a>
              <a href="thread.html#5916">[ thread ]</a>
              <a href="subject.html#5916">[ subject ]</a>
              <a href="author.html#5916">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i> I tried that and it seems IS_CYGWIN is not set correctly on cygwin. Any idea ?
</I>&gt;<i>
</I>&gt;<i> Michael
</I>&gt;<i>
</I>&gt;<i>   
</I>Michael,


Thanks for trying this.


How do you build openocd on windows, does it require CYGWIN or is there 
another way? 

Using CMake on Windows, a reasonable goal would be to ween ourselves of 
the requirement for Cygwin.  However to achieve this, there are probably 
runtime issues in the code and also build issues to deal with.  The 
first may require source code modifications.   I have no experience with 
OpenOCD on windows. 

And I am allergic to Windows, so there will need to be a &quot;CMake on 
Windows&quot; champion to step up and take this bull by the horns.

--------------------------------------

You can defer that goal and get yourself running on Cygwin for now.  I 
would look at these links and modify the src/CMakeLists.txt file 
accordingly:

<A HREF="http://www.cmake.org/cmake/help/cmake2.6docs.html#section_Generators">http://www.cmake.org/cmake/help/cmake2.6docs.html#section_Generators</A>

At line 299 there is the if(CYGWIN) test.  I believe by using the proper 
command line option to cmake, namely the -G option, you essentially can 
tell Cmake that you are on cygwin.  Then it sets the CYGWIN variable, 
which in turn sets our IS_CYGWIN at line 300.

Try poking around the cmake mailing list.  This question has been asked 
and answered I'm sure.

Dick




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005910.html">[Openocd-development] [PATCH] CMake
</A></li>
	<LI>Next message: <A HREF="005922.html">[Openocd-development] [PATCH] CMake
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5916">[ date ]</a>
              <a href="thread.html#5916">[ thread ]</a>
              <a href="subject.html#5916">[ subject ]</a>
              <a href="author.html#5916">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
