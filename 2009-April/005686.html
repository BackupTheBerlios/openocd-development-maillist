<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] STM32 &quot;reset halt&quot; appears broken
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20STM32%20%22reset%20halt%22%20appears%20broken&In-Reply-To=%3C49F0FEA2.80309%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005693.html">
   <LINK REL="Next"  HREF="005694.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] STM32 &quot;reset halt&quot; appears broken</H1>
    <B>Michel Catudal</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20STM32%20%22reset%20halt%22%20appears%20broken&In-Reply-To=%3C49F0FEA2.80309%40gmail.com%3E"
       TITLE="[Openocd-development] STM32 &quot;reset halt&quot; appears broken">michelcatudal at gmail.com
       </A><BR>
    <I>Fri Apr 24 01:49:54 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005693.html">[Openocd-development] STM32 &quot;reset halt&quot; appears broken
</A></li>
        <LI>Next message: <A HREF="005694.html">[Openocd-development] STM32 &quot;reset halt&quot; appears broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5686">[ date ]</a>
              <a href="thread.html#5686">[ thread ]</a>
              <a href="subject.html#5686">[ subject ]</a>
              <a href="author.html#5686">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&#216;yvind Harboe a &#233;crit :
&gt;&gt;<i> resetting first
</I>&gt;&gt;<i> the jtag, and this rsets my target also, and then a little later
</I>&gt;&gt;<i> resetting the Cortex core giving two rests in quick succeion. It works
</I>&gt;&gt;<i> but I dont like it. For my old LM2S811 reset does not work well, but I
</I>&gt;&gt;<i> have not had time to really dig in to this, just noticed the dual rsets
</I>&gt;&gt;<i> and used the onboard reset button, works great all the time :) .
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> Perhaps the target script or cortex should override the default
</I>&gt;<i> ocd_process_reset script.... i.e. by default resetting the entire
</I>&gt;<i> chain was considered a clever idea, but for cortex, it might not
</I>&gt;<i> be such a great thing...
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i>   
</I>It depends. WIth IAR If I don't reset the device correctly it programs
garbage. What I found out was that the DMA was still running
and wiping out some RAM location used by the downloader. With IAR you
have the option to reset or not reset the peripherals.
Perhaps those kind of options should be available with OpenOCD.

Michel

-- 
Tired of Microsoft's rebootive multitasking?
then it's time to upgrade to Linux.
<A HREF="http://home.comcast.net/~mcatudal">http://home.comcast.net/~mcatudal</A>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005693.html">[Openocd-development] STM32 &quot;reset halt&quot; appears broken
</A></li>
	<LI>Next message: <A HREF="005694.html">[Openocd-development] STM32 &quot;reset halt&quot; appears broken
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5686">[ date ]</a>
              <a href="thread.html#5686">[ thread ]</a>
              <a href="subject.html#5686">[ subject ]</a>
              <a href="author.html#5686">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
