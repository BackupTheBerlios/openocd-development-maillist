<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] LPC flash driver checksum weirdness
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20LPC%20flash%20driver%20checksum%20weirdness&In-Reply-To=%3C19CA9E279FDA5246B7D7A1C91A4AF7F4A61C%40dealogicserver.DEALogic.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005961.html">
   <LINK REL="Next"  HREF="005964.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] LPC flash driver checksum weirdness</H1>
    <B>Nico Coesel</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20LPC%20flash%20driver%20checksum%20weirdness&In-Reply-To=%3C19CA9E279FDA5246B7D7A1C91A4AF7F4A61C%40dealogicserver.DEALogic.nl%3E"
       TITLE="[Openocd-development] LPC flash driver checksum weirdness">ncoesel at DEALogic.nl
       </A><BR>
    <I>Thu Apr 30 12:07:36 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005961.html">[Openocd-development] LPC flash driver checksum weirdness
</A></li>
        <LI>Next message: <A HREF="005964.html">[Openocd-development] LPC flash driver checksum weirdness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5963">[ date ]</a>
              <a href="thread.html#5963">[ thread ]</a>
              <a href="subject.html#5963">[ subject ]</a>
              <a href="author.html#5963">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i>
</I>&gt;<i>-----Oorspronkelijk bericht-----
</I>&gt;<i>Van: <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd-development-bounces at lists.berlios.de</A> namens &#216;yvind Harboe
</I>&gt;<i>Verzonden: do 4/30/09 10:25
</I>&gt;<i>Aan: Openocd-Dev
</I>&gt;<i>Onderwerp: [Openocd-development] LPC flash driver checksum weirdness
</I>&gt;<i>
</I>&gt;<i>I'm thinking that the lpc flash drivers calc_checksum should be retired.
</I>&gt;<i>
</I>&gt;<i>In it's place a warning/info should be printed with the expected
</I>&gt;<i>checksum so that the user can manually write a checksum
</I>&gt;<i>or somehow arrange the developer host PC tools to come up
</I>&gt;<i>with the right checksum.
</I>
I think this is a very very bad idea which basically makes openocd useless as a LPC2000 flash programmer. Very few development tools generate the checksum (hence the checksum errors)! It would be better to:
1) skip the checksum location on the LPC platform or
2) always calculate the checksum in the image before checking or
3) continue checking until there are more than 10 differences detected (which would be more generic). If there are differences, it is usually convenient to know if there is more than one to see if there is a pattern. More than 10 mismatches usually means a serious error.

Nico Coesel
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090430/429d6d15/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20090430/429d6d15/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005961.html">[Openocd-development] LPC flash driver checksum weirdness
</A></li>
	<LI>Next message: <A HREF="005964.html">[Openocd-development] LPC flash driver checksum weirdness
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5963">[ date ]</a>
              <a href="thread.html#5963">[ thread ]</a>
              <a href="subject.html#5963">[ subject ]</a>
              <a href="author.html#5963">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
