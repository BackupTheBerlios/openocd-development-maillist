<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Lost JTAG Communications. Bringing up	AT91SAM9260
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Lost%20JTAG%20Communications.%20Bringing%20up%0A%09AT91SAM9260&In-Reply-To=%3C3d1967ab0904230654y1306ccdfm46e7bf414cabdab0%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005648.html">
   <LINK REL="Next"  HREF="005652.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Lost JTAG Communications. Bringing up	AT91SAM9260</H1>
    <B>Brian Hutchinson</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Lost%20JTAG%20Communications.%20Bringing%20up%0A%09AT91SAM9260&In-Reply-To=%3C3d1967ab0904230654y1306ccdfm46e7bf414cabdab0%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Lost JTAG Communications. Bringing up	AT91SAM9260">b.hutchman at gmail.com
       </A><BR>
    <I>Thu Apr 23 15:54:58 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005648.html">[Openocd-development] [PATCH]Fixed small bug inside	target/wi-9c.cfg
</A></li>
        <LI>Next message: <A HREF="005652.html">[Openocd-development] Lost JTAG Communications. Bringing	up	AT91SAM9260
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5649">[ date ]</a>
              <a href="thread.html#5649">[ thread ]</a>
              <a href="subject.html#5649">[ subject ]</a>
              <a href="author.html#5649">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

I applied the patches that were recently posted for the SST flashes (my
board has SST39VF1601) and I can say they work!  A big thank you!

I'm running SVN 1470M.

I've been able to use my JTAGkey to read/write flash but I flashed a bum
u-boot.bin and now I hosed the board and OpenOCD reports I've lost JTAG
communication.

The board can be boot strapped to boot from dataflash or NAND flash instead
of the NOR flash I've been working with.  When I boot via another flash that
still has a good u-boot that properly boot straps the board, OpenOCD and my
JTAG interface works.

This leads me to believe that I don't have enough in my init-reset routine
to properly boot strap the board.  I thought I could just use the u-boot
source to figure out the right settings to the registers to set up the
clock/PLL, SDRAM etc., but the code that does this isn't in one section, it
is spread out over usb modules, serial modules and even lcd modules.

Anyone got experience with bringing up the AT91SAM9260 based boards and know
what the min init is?  Can I use the working u-boot to probe these registers
and figure out the settings that way?  The board came with EasyICE (which is
a parallel wiggler) and a software tool to reflash the NOR flash, but I've
tried it on two different computers and can't get it to work.  I wish I had
the source to this utility because I'm sure it holds the key to the proper
init sequence of the board.

Thanks!

Brian
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20090423/9edea23c/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20090423/9edea23c/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005648.html">[Openocd-development] [PATCH]Fixed small bug inside	target/wi-9c.cfg
</A></li>
	<LI>Next message: <A HREF="005652.html">[Openocd-development] Lost JTAG Communications. Bringing	up	AT91SAM9260
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5649">[ date ]</a>
              <a href="thread.html#5649">[ thread ]</a>
              <a href="subject.html#5649">[ subject ]</a>
              <a href="author.html#5649">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
