<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] reorder enum tap_state
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20reorder%20enum%20tap_state&In-Reply-To=%3C49EF2343.6030301%40softplc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005560.html">
   <LINK REL="Next"  HREF="005575.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] reorder enum tap_state</H1>
    <B>Dick Hollenbeck</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20reorder%20enum%20tap_state&In-Reply-To=%3C49EF2343.6030301%40softplc.com%3E"
       TITLE="[Openocd-development] [PATCH] reorder enum tap_state">dick at softplc.com
       </A><BR>
    <I>Wed Apr 22 16:01:39 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005560.html">[Openocd-development] [PATCH] reorder enum tap_state
</A></li>
        <LI>Next message: <A HREF="005575.html">[Openocd-development] [PATCH] reorder enum tap_state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5573">[ date ]</a>
              <a href="thread.html#5573">[ thread ]</a>
              <a href="subject.html#5573">[ subject ]</a>
              <a href="author.html#5573">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Magnus Lundin wrote:
&gt;<i> The only reason I can think of for a specic numbering is that it might 
</I>&gt;<i> optimize the gate design in a hardware implementation of the tap state 
</I>&gt;<i> engine.  But this is not a problem for us so thats OK. If we want to 
</I>&gt;<i> follow JTAG documentation standards (ARM ane IEEE) in our code then the 
</I>&gt;<i> state names should also change like:
</I>&gt;<i>
</I>&gt;<i>  TAP_DREXIT2  --&gt; TAP_EXIT2_DR
</I>&gt;<i> etc
</I>&gt;<i> (this will have a greater impact ... )
</I>&gt;<i>   
</I>
Name changes:

Luke warm on this *name* change.


Value changes:

This *should* be safe (as a goal), but I would be only about 90% sure 
that it is at this moment.   I tried to move the code in the direction 
of switch()es instead of arrays which where were dependent on array 
index values matching symbol values.  But I do not know that all such 
situations were corrected.  So I think we should keep an open eye on 
this change for awhile, and keep the goal in mind.



&gt;<i> and finally
</I>&gt;<i>
</I>&gt;<i> TAP_INVALID is used in the target code to mean &quot;TAP DONT CARE&quot; so 
</I>&gt;<i> calling it invalid is  a bit misleading.
</I>&gt;<i>   
</I>
There are places in the code where we have a don't care, and elsewhere 
an invalid or initial undefined state.  So we would need two symbols to 
be perfect.  With that would come unnecessary complexity.   The current 
symbol might be good enough.

I wish to remind the team that next week I will be working on the ft2232 
driver.   This is with or without the patch from Duane.  That is my time 
slot, and it is not movable due to some manufacturing test schedules 
that I have to meet for a new ARM board we are making:


&lt;<A HREF="http://dl.softplc.com/ds_Smartboard.pdf">http://dl.softplc.com/ds_Smartboard.pdf</A>&gt;    
<A HREF="http://dl.softplc.com/ds_Smartboard.pdf">http://dl.softplc.com/ds_Smartboard.pdf</A>


We want to use ARM-USB-OCD to program the boot flash, perform memory 
tests, and program the FPGA all under linux hosted OpenOCD as the boards 
come off the line.

The starting point of my work will be whatever is available at that 
time, patch if available, HEAD if not.  


Duane?


Dick



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005560.html">[Openocd-development] [PATCH] reorder enum tap_state
</A></li>
	<LI>Next message: <A HREF="005575.html">[Openocd-development] [PATCH] reorder enum tap_state
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5573">[ date ]</a>
              <a href="thread.html#5573">[ thread ]</a>
              <a href="subject.html#5573">[ subject ]</a>
              <a href="author.html#5573">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
