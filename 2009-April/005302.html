<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] xsvf patch
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-April/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20xsvf%20patch&In-Reply-To=%3C49E4DABF.8020109%40softplc.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="005214.html">
   <LINK REL="Next"  HREF="005165.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] xsvf patch</H1>
    <B>Dick Hollenbeck</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20xsvf%20patch&In-Reply-To=%3C49E4DABF.8020109%40softplc.com%3E"
       TITLE="[Openocd-development] xsvf patch">dick at softplc.com
       </A><BR>
    <I>Tue Apr 14 20:49:35 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="005214.html">[Openocd-development] xsvf patch
</A></li>
        <LI>Next message: <A HREF="005165.html">[Openocd-development] jtag_get_tms_path() - changes the 7 bit issue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5302">[ date ]</a>
              <a href="thread.html#5302">[ thread ]</a>
              <a href="subject.html#5302">[ subject ]</a>
              <a href="author.html#5302">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Johann F. wrote:
&gt;&gt;&gt;<i> I can't make out the important changes from the gratuitous ones.  Can 
</I>&gt;&gt;&gt;<i> you please revert all the u8 -&gt; uint8_t changes as well as whitespace 
</I>&gt;&gt;&gt;<i> changes?
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> -- 
</I>&gt;&gt;&gt;<i> Rick Altherr
</I>&gt;&gt;&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>
</I>&gt;&gt;&gt;<i>       
</I>&gt;&gt;<i> Its been a week now.  I can boil it down and find the essence of the 
</I>&gt;&gt;<i> changes.  I was going to get back to this code in the next couple of 
</I>&gt;&gt;<i> weeks anyway.  There could be some useful changes in this mess.  If they 
</I>&gt;&gt;<i> are there, I will find them.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Dick
</I>&gt;&gt;<i>
</I>&gt;&gt;<i>     
</I>&gt;<i>
</I>&gt;<i> There are my changes again. I noticed that i forget to handle
</I>&gt;<i> runtest_requires_tck in new function xs_shift.
</I>&gt;<i>
</I>&gt;<i> Johann
</I>&gt;<i>   
</I>
Johann,

I am feeling no love for this patch. 

I do not see where any flow is different than the original code,  other 
than you are multiplying xruntest by 16 on successive attempts.  This 
multiply by 16  is not part of the Xylinx docs or algorithm for the 
intended chip, let alone any other FPGA or arbitrary SVF recipient.   
This xruntest value can be set to a higher number in your toolset which 
generates the xsvf file?

I'll give it another look, I have an FPGA to program here.  Maybe I am 
missing something in the patch, but I went over it line by line.

And yes, we lost the runtest_requires_tck support in your patch also.

In the next several days, I will try my fpga hardware and see if there 
is any general problem persisting.

Troubleshooting things like this are made far easier by my new 
tap_set_state() logging functionality.  However, there are still tap 
state transitions that are not being logged, and I think this is a 
needed enhancement that I would like to correct as soon as I have time 
to.  All state transitions should go through tap_set_state().  When 
logging is turned off, there is no perceptible overhead, since it is a 
compile time off/on option.


Dick


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="005214.html">[Openocd-development] xsvf patch
</A></li>
	<LI>Next message: <A HREF="005165.html">[Openocd-development] jtag_get_tms_path() - changes the 7 bit issue.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#5302">[ date ]</a>
              <a href="thread.html#5302">[ thread ]</a>
              <a href="subject.html#5302">[ subject ]</a>
              <a href="author.html#5302">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
