<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] How to disable MMU in OpenOCD?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20How%20to%20disable%20MMU%20in%20OpenOCD%3F&In-Reply-To=%3Cc09652430809050217o4040c418tb7ed2dc025f404e8%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="003114.html">
   <LINK REL="Next"  HREF="003116.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] How to disable MMU in OpenOCD?</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20How%20to%20disable%20MMU%20in%20OpenOCD%3F&In-Reply-To=%3Cc09652430809050217o4040c418tb7ed2dc025f404e8%40mail.gmail.com%3E"
       TITLE="[Openocd-development] How to disable MMU in OpenOCD?">oyvind.harboe at zylin.com
       </A><BR>
    <I>Fri Sep  5 11:17:15 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="003114.html">[Openocd-development] How to disable MMU in OpenOCD?
</A></li>
        <LI>Next message: <A HREF="003116.html">[Openocd-development] How to disable MMU in OpenOCD?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3115">[ date ]</a>
              <a href="thread.html#3115">[ thread ]</a>
              <a href="subject.html#3115">[ subject ]</a>
              <a href="author.html#3115">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>2008/9/5 dswei &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">dswei99 at sina.com</A>&gt;:
&gt;<i> Thank you, vind_Harboe.
</I>&gt;<i> I don't exactly know what is &quot;srst_pulls_trst&quot; 's mean, but I can disable MMU
</I>&gt;<i>now, that is enough for my urgent task now.
</I>
Would you care to check the datasheets?

Basically some CPUs have, internally, srst tied to trst. This makes it
impossible
to reset the CPU without also resetting the embedded ice registers, making
reset directly into the halted mode impossible.

&gt;<i> I run the openocd command &quot;arm920t cp15 2 0&quot;,  &quot;step&quot;, &quot;poll&quot;, then the MMU is diabled.
</I>&gt;<i> But now I have another question:
</I>&gt;<i> 1. The &quot;help cp15&quot; is:
</I>&gt;<i> arm920t cp15i        display/modify cp15 (interpreted access) &lt;opcode&gt;
</I>&gt;<i>                          [value] [address]
</I>&gt;<i> arm920t cp15        display/modify cp15 register &lt;num&gt; [value]
</I>&gt;<i>
</I>&gt;<i> 2. the format of  ARM instruction mcr and mrc are:
</I>&gt;<i>
</I>&gt;<i> MCR/MRC{cond} P15,opcode_1,Rd,CRn,CRm,opcode_2
</I>&gt;<i>
</I>&gt;<i> 31    28  27 26 25 24   23      21 20  19     16 15    12  11 10 9 8    7        5   4   3        0
</I>&gt;<i> | Cond | 1   1   1   0 | opcode1 | L |    CRn  |    Rd    | 1  1  1  1 | opcode2 | 1 |   CRm  |
</I>&gt;<i>
</I>&gt;<i> What is the relation beteen &quot;arm920t cp15&quot; and ARM instruction mcr and mrc?
</I>&gt;<i> I try &quot;arm920t cp15 0&quot;, &quot;arm920t cp15 1&quot;, &quot;arm920t cp15 2&quot;, and so on, to read the cp15; and then know that &quot;arm920t cp15 2&quot; is for MMU.
</I>&gt;<i> Are there some exact relations between &quot;MCR/MRC{cond} P15,opcode_1,Rd,CRn,CRm,opcode_2&quot; and &quot;arm920t cp15&quot;, &quot;&quot;arm920t cp15i&quot;?
</I>
Could you investigate and post an explanation?


-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="003114.html">[Openocd-development] How to disable MMU in OpenOCD?
</A></li>
	<LI>Next message: <A HREF="003116.html">[Openocd-development] How to disable MMU in OpenOCD?
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#3115">[ date ]</a>
              <a href="thread.html#3115">[ thread ]</a>
              <a href="subject.html#3115">[ subject ]</a>
              <a href="author.html#3115">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
