<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Question about TCL global scope
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Question%20about%20TCL%20global%20scope&In-Reply-To=%3C4C5A2B89.4090207%40newsguy.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016214.html">
   <LINK REL="Next"  HREF="016212.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Question about TCL global scope</H1>
    <B>Mike Dunn</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Question%20about%20TCL%20global%20scope&In-Reply-To=%3C4C5A2B89.4090207%40newsguy.com%3E"
       TITLE="[Openocd-development] Question about TCL global scope">mikedunn at newsguy.com
       </A><BR>
    <I>Thu Aug  5 05:10:01 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016214.html">[Openocd-development] Question about TCL global scope
</A></li>
        <LI>Next message: <A HREF="016212.html">[Openocd-development] Question about &quot;flash erase_check&quot; command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16224">[ date ]</a>
              <a href="thread.html#16224">[ thread ]</a>
              <a href="subject.html#16224">[ subject ]</a>
              <a href="author.html#16224">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 08/04/2010 12:45 AM, Fredrik Hederstierna wrote:
&gt;<i> Then openOCD gives error back that &quot;FLASH_CONFIG_SIZE&quot; is not in
</I>&gt;<i> global scope.
</I>&gt;<i> It seems like main script file is not running in global scope?
</I>&gt;<i> Because if I change variable declaration in &quot;main.cfg&quot; to explicit set
</I>&gt;<i> global namespace, it works!?
</I>Yeah, I've noticed that too.  Intuitively, you would expect vars in the
main config file to automatically be global, but apparently the contents
of main is just another procedure, so declare all vars used elsewhere as
global.  This is true even for procedures defined within the main config
file; i.e., when you invoke that procedure from the command line after
OpenOCD has started, a var will be undefined if it was not declared as
global in the main body, even though it's the same file.

On the subject of Jim-Tcl and its shortcomings... the 'binary' procedure
is not implemented, so there's no way to write a text string into
memory.  Wanted  to write a kernel command line to memory in my
boot_linux procedure.

Mike


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016214.html">[Openocd-development] Question about TCL global scope
</A></li>
	<LI>Next message: <A HREF="016212.html">[Openocd-development] Question about &quot;flash erase_check&quot; command
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16224">[ date ]</a>
              <a href="thread.html#16224">[ thread ]</a>
              <a href="subject.html#16224">[ subject ]</a>
              <a href="author.html#16224">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
