<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Problem with LPC2148 and ARM-USB-TINY-H
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-August/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Problem%20with%20LPC2148%20and%20ARM-USB-TINY-H&In-Reply-To=%3C1281721694.2220.32.camel%40localhost.localdomain%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="016293.html">
   <LINK REL="Next"  HREF="016298.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Problem with LPC2148 and ARM-USB-TINY-H</H1>
    <B>Olof T&#229;ngrot</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Problem%20with%20LPC2148%20and%20ARM-USB-TINY-H&In-Reply-To=%3C1281721694.2220.32.camel%40localhost.localdomain%3E"
       TITLE="[Openocd-development] Problem with LPC2148 and ARM-USB-TINY-H">olof.tangrot at telia.com
       </A><BR>
    <I>Fri Aug 13 19:48:14 CEST 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="016293.html">[Openocd-development] Problem with LPC2148 and ARM-USB-TINY-H / but works with Amontec JTAGkey-2
</A></li>
        <LI>Next message: <A HREF="016298.html">[Openocd-development] Problem with LPC2148 and ARM-USB-TINY-H
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16294">[ date ]</a>
              <a href="thread.html#16294">[ thread ]</a>
              <a href="subject.html#16294">[ subject ]</a>
              <a href="author.html#16294">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Thanks for your concern.
I have wanted a long time now to verify that my target is Ok. That is
is why I made some new efforts with my wiggler clone. In a post some
days ago I described that this test gave the same disappointing result,
reading nothing but zeros.

I had hoped to borrow a BDI2000 from my job over the weekend but as
usual it's occupied in a project for some time and I don't know when I
can get access to it. I don't want to disturb my colleagues work.

I also have two AVR CAN128 boards with JTAG which might be used
to verify that the two interfaces can at least scan the JTAG chain but
the connector layout is different and is take some time to get those
boards powered properly. Nor am I sure that the JTAG interface is
internally enabled on the processors. So there are some problems ahead
with that test too. 

I also started to doubt that openocd actually could work with the
LPC2148 since Macraigor OCDCommander seems to be working at least with
the wiggler clone. And it is strange that proprietary drivers seems to
be the involved your setup. I might give a shot with the AVR boards
anyway. Any tips on how to run openocd properly without any particular
target processor and just scan the JTAG chain is welcome.



On Fri, 2010-08-13 at 20:54 +0800, Xiaofan Chen wrote:
&gt;<i> On Wed, Aug 4, 2010 at 10:23 PM, Olof T&#229;ngrot &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">olof.tangrot at telia.com</A>&gt; wrote:
</I>&gt;<i> &gt; I get the same semi functional result as on Fedora 12 (same hardware)
</I>&gt;<i> &gt; before as shown below. I also observed that not using the '-c &quot;jtag_khz
</I>&gt;<i> &gt; 1000&quot;' locks the (FT2232H ?) hardware somehow. After that my JTAG
</I>&gt;<i> &gt; interface won't respond the correct command line until it has been
</I>&gt;<i> &gt; disconnected and reinsterted. This happens both with Linux and
</I>&gt;<i> &gt; WindowsXP.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> The following may not help you, but just give you some hints.
</I>&gt;<i> 
</I>&gt;<i> I just got an Amontec Amontec JTAGkey2 (FT2232H based)
</I>&gt;<i> and tried it with the Olimex LPC-P2148 board I have. It seems
</I>&gt;<i> to work fine.
</I>&gt;<i> 
</I>&gt;<i> The LPC-P2148 board should be similar to what you have
</I>&gt;<i> (LPC-H2148), just with more stuffs. So maybe it is something
</I>&gt;<i> strange with Olimex ARM-USM-TINY-H JTAG.
</I>&gt;<i> 
</I>&gt;<i> I am using the original OpenOCD binaries from Freddie Chopin
</I>&gt;<i> under 32bit Vista. The driver is the original Amontec driver
</I>&gt;<i> (WHQL, based on FTDI's 2.06.00 version) and libusb-win32
</I>&gt;<i> filter driver 1.2.1.0. The two config files are also unmodified.
</I>&gt;<i> 
</I>&gt;<i> C:\Program Files\OpenOCD\0.4.0\bin&gt;openocd -f interface/jtagkey2.cfg
</I>&gt;<i> -f board/olimex_lpc_h2148.cfg
</I>&gt;<i> Open On-Chip Debugger 0.4.0 (2010-02-22-19:05)
</I>&gt;<i> Licensed under GNU GPL v2
</I>&gt;<i> For bug reports, read
</I>&gt;<i>         <A HREF="http://openocd.berlios.de/doc/doxygen/bugs.html">http://openocd.berlios.de/doc/doxygen/bugs.html</A>
</I>&gt;<i> RCLK - adaptive
</I>&gt;<i> jtag_nsrst_delay: 200
</I>&gt;<i> jtag_ntrst_delay: 200
</I>&gt;<i> trst_and_srst srst_pulls_trst srst_gates_jtag trst_push_pull srst_open_drain
</I>&gt;<i> Info : max TCK change to: 30000 kHz
</I>&gt;<i> Info : RCLK (adaptive clock speed)
</I>&gt;<i> Info : JTAG tap: lpc2148.cpu tap/device found: 0x4f1f0f0f (mfg: 0x787, part: 0xf
</I>&gt;<i> 1f0, ver: 0x4)
</I>&gt;<i> Info : Embedded ICE version 4
</I>&gt;<i> Info : lpc2148.cpu: hardware has 2 breakpoint/watchpoint units
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="016293.html">[Openocd-development] Problem with LPC2148 and ARM-USB-TINY-H / but works with Amontec JTAGkey-2
</A></li>
	<LI>Next message: <A HREF="016298.html">[Openocd-development] Problem with LPC2148 and ARM-USB-TINY-H
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#16294">[ date ]</a>
              <a href="thread.html#16294">[ thread ]</a>
              <a href="subject.html#16294">[ subject ]</a>
              <a href="author.html#16294">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
