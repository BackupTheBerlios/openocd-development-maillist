<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] jtag noob - noob questions
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20jtag%20noob%20-%20noob%20questions&In-Reply-To=%3C20110512165852.GB17661%40w500.taisiya.lukaperkov.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="019020.html">
   <LINK REL="Next"  HREF="019022.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] jtag noob - noob questions</H1>
    <B>Luka Perkov</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20jtag%20noob%20-%20noob%20questions&In-Reply-To=%3C20110512165852.GB17661%40w500.taisiya.lukaperkov.net%3E"
       TITLE="[Openocd-development] jtag noob - noob questions">openocd at lukaperkov.net
       </A><BR>
    <I>Thu May 12 18:58:52 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="019020.html">[Openocd-development] jtag noob - noob questions
</A></li>
        <LI>Next message: <A HREF="019022.html">[Openocd-development] cortex_a :smp feature
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19074">[ date ]</a>
              <a href="thread.html#19074">[ thread ]</a>
              <a href="subject.html#19074">[ subject ]</a>
              <a href="author.html#19074">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Fri, May 06, 2011 at 04:19:07PM -0400, Eric Cooper wrote:
&gt;<i> On Fri, May 06, 2011 at 08:59:37PM +0200, Luka Perkov wrote:
</I>&gt;<i> &gt; as the subject implies I have never used jtag. I would like to replace
</I>&gt;<i> &gt; original uboot from this device:
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; <A HREF="http://wiki.openwrt.org/toh/gigaset/sx76x">http://wiki.openwrt.org/toh/gigaset/sx76x</A>
</I>&gt;<i> 
</I>&gt;<i> Have you already tried connecting a serial cable?  If there's still a
</I>&gt;<i> working u-boot on the device, it would be easier to use that to
</I>&gt;<i> flash a new one.
</I>
I have already bicked one and I would not like to do the same with other
one.

&gt;<i> &gt; 1. I think that is the cable is interface/parport.cfg . Am I correct? If
</I>&gt;<i> &gt; not how my interface config file should look like?
</I>&gt;<i> 
</I>&gt;<i> That's correct. I use the same interface (but for an ARM target).
</I>&gt;<i> If you're using a Linux host, you just want:
</I>&gt;<i>     interface parport
</I>&gt;<i>     parport_cable wiggler
</I>&gt;<i> in your config.  Make sure you have the &quot;ppdev&quot; kernel module loaded so that
</I>&gt;<i> /dev/parport0 shows up.
</I>
Thank you. Unfortunately jtag does not work through usb-to-parallel
adapter. After connecting jtag I have had more success with urjtag. But
I have also stuck with it. 

Now again I'm back to openocd. Here is all the info I can get:

&gt;<i> scan_chain
</I>   TapName             Enabled  IdCode     Expected   IrLen IrCap IrMask
-- ------------------- -------- ---------- ---------- ----- ----- ------
 0 auto0.tap              Y     0x00000183 0x00000183     5 0x01  0x03
 1 auto1.tap              Y     0x00000183 0x00000183     5 0x01  0x03

But when I run openocd with additional parameter:

-f /usr/share/openocd/scripts/target/ar71xx.cfg

I get:

Info : JTAG tap: ar71xx.cpu tap/device found: 0x00000183 (mfg: 0x0c1, part: 0x0000, ver: 0x0)
Warn : JTAG tap: ar71xx.cpu       UNEXPECTED: 0x00000183 (mfg: 0x0c1, part: 0x0000, ver: 0x0)
Error: JTAG tap: ar71xx.cpu  expected 1 of 1: 0x00000001 (mfg: 0x000, part: 0x0000, ver: 0x0)
Warn : Unexpected idcode after end of chain: 32 0x00000183
Error: double-check your JTAG setup (interface, speed, missing TAPs, ...)
Error: Trying to use configured scan chain anyway...
Error: IR capture error at bit 5, saw 0x21 not 0x...3
Warn : Bypassing JTAG setup events due to errors

It would be great if my findings from urjtag could be helpful for
openocd:

<A HREF="http://tinyurl.com/3rqjzer">http://tinyurl.com/3rqjzer</A>

Luka


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="019020.html">[Openocd-development] jtag noob - noob questions
</A></li>
	<LI>Next message: <A HREF="019022.html">[Openocd-development] cortex_a :smp feature
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#19074">[ date ]</a>
              <a href="thread.html#19074">[ thread ]</a>
              <a href="subject.html#19074">[ subject ]</a>
              <a href="author.html#19074">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
