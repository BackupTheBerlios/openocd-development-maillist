<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Why not default halt the target when GDB connects to OpenOCD?
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-May/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Why%20not%20default%20halt%20the%20target%20when%20GDB%0A%20connects%20to%20OpenOCD%3F&In-Reply-To=%3C4DBF2107.2030602%40gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="018972.html">
   <LINK REL="Next"  HREF="018979.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Why not default halt the target when GDB connects to OpenOCD?</H1>
    <B>Michael Trensch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Why%20not%20default%20halt%20the%20target%20when%20GDB%0A%20connects%20to%20OpenOCD%3F&In-Reply-To=%3C4DBF2107.2030602%40gmail.com%3E"
       TITLE="[Openocd-development] Why not default halt the target when GDB connects to OpenOCD?">mtrensch at googlemail.com
       </A><BR>
    <I>Mon May  2 23:24:23 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="018972.html">[Openocd-development] Why not default halt the target when	GDB	connects to OpenOCD?
</A></li>
        <LI>Next message: <A HREF="018979.html">[Openocd-development] LPC2460 Support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18973">[ date ]</a>
              <a href="thread.html#18973">[ thread ]</a>
              <a href="subject.html#18973">[ subject ]</a>
              <a href="author.html#18973">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On 02.05.2011 23:07, Peter Stuge wrote:
&gt;&gt;<i> I think most of the scripts show how to work with openOCD but you
</I>&gt;&gt;<i> will need to override some functions to make them fit your needs.
</I>&gt;<i> It's a huge usability deficiency. :\
</I>I don't think so. The provided scripts work out of the box and are working.

But I sometimes have special needs that don't fit into the default use
cases, so I am uses to modify my scripts, or just override some functions.

Let me make an example:
The default debugging scenario is you have an application (a .elf file)
which you want to load to your freshly reset target and debug it. You
take the openOCD scripts and are ready to go. They reset your target,
prepare memory controllers and you just have to download and debug using
openOCD and GDB. This is the default scenario and I think it works with
most of the scripts out there. Some with more resets, some with less.
Maybe some scripts drop out of this picture, but that's another story.

In my case I usually have two special cases where
1. I just want to re-download my target and &quot;soft-reset&quot; the CPU by
bringing it to reset state by just modifying some registers, adjusting
PC and some other registers. The is not the default use case and very
special, so I modify the scripts. One could argue why I just don't use
&quot;reset init&quot; in between the sessions, but this has some chip internal
reasons that are not always visible / documented.
2. I have a hardware that is running some stuff from flash and runs a
fieldbus system that should not get disturbed while I am attaching to
the target. In this case I just don't use the board scripts, but only
the target scripts and write my own reset or omit it completely. With
this non-invasive attach I can now prepare some stuff and way for crash
/ breakpoint hit or other stuff during long term tests with sporadic
failures.

Both cases are usually not done by our customers debugging their
applications and are very special to our low-level microcontroller
developers and so I thinks this justifies needing to adjust scripts to
special needs.

I agree that the default scripts should have everything ready for the
casual user.

Regards,
Michael

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="018972.html">[Openocd-development] Why not default halt the target when	GDB	connects to OpenOCD?
</A></li>
	<LI>Next message: <A HREF="018979.html">[Openocd-development] LPC2460 Support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#18973">[ date ]</a>
              <a href="thread.html#18973">[ thread ]</a>
              <a href="subject.html#18973">[ subject ]</a>
              <a href="author.html#18973">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
