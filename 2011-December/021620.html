<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] jtag_add_scan_check Assertion Error
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2011-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20jtag_add_scan_check%20Assertion%20Error&In-Reply-To=%3C4EF2E88E.2030100%40freenet.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="021619.html">
   <LINK REL="Next"  HREF="021617.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] jtag_add_scan_check Assertion Error</H1>
    <B>Mathias K.</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20jtag_add_scan_check%20Assertion%20Error&In-Reply-To=%3C4EF2E88E.2030100%40freenet.de%3E"
       TITLE="[Openocd-development] jtag_add_scan_check Assertion Error">kesmtp at freenet.de
       </A><BR>
    <I>Thu Dec 22 09:21:34 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="021619.html">[Openocd-development] jtag_add_scan_check Assertion Error
</A></li>
        <LI>Next message: <A HREF="021617.html">[Openocd-development] jtag_add_scan_check Assertion Error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21620">[ date ]</a>
              <a href="thread.html#21620">[ thread ]</a>
              <a href="subject.html#21620">[ subject ]</a>
              <a href="author.html#21620">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello,


backtrace from current git repo source.


Regards,

Mathias

---

openocd: core.c:421: jtag_add_scan_check: Assertion `(field-&gt;check_value == ((void *)0)) ||
(field-&gt;in_value != ((void *)0))' failed.

Program received signal SIGABRT, Aborted.
0xffffe424 in __kernel_vsyscall ()
(gdb) bt full
#0  0xffffe424 in __kernel_vsyscall ()
No symbol table info available.
#1  0xb7e53636 in raise () from /lib/libc.so.6
No symbol table info available.
#2  0xb7e54b6c in abort () from /lib/libc.so.6
No symbol table info available.
#3  0xb7e4c865 in ?? () from /lib/libc.so.6
No symbol table info available.
#4  0xb7e4c91d in __assert_fail () from /lib/libc.so.6
No symbol table info available.
#5  0x0804dc2e in jtag_add_scan_check (active=0x81becf0, jtag_add_scan=0x6, in_num_fields=135517632,
    in_fields=0xbfffd5c8, state=TAP_IDLE) at core.c:421
        field = 0xbfffd5c8
        i = &lt;optimized out&gt;
        __PRETTY_FUNCTION__ = &quot;jtag_add_scan_check&quot;
#6  0x080d97cc in arm_jtag_set_instr_inner (jtag_info=0x81c01f4, new_instr=10, no_verify_capture=0x0,
    end_state=TAP_IDLE) at arm_jtag.c:48
        tap = 0x81becf0
        field = {num_bits = 4, out_value = 0xbfffd5dc &quot;*\320\031\b\370\325\377\277C]\351\267\071&quot;,
in_value = 0x0,
          check_value = 0x81bed58 &quot;\001&quot;, check_mask = 0x81bed68 &quot;\017&quot;}
        t = &quot;*\320\031\b&quot;
#7  0x080b32aa in arm_jtag_set_instr (new_instr=10, jtag_info=0x81c01f4,
no_verify_capture=&lt;optimized out&gt;,
    end_state=&lt;optimized out&gt;) at arm_jtag.h:52
        tap = &lt;optimized out&gt;
#8  adi_jtag_dp_scan (dap=0x81c02ac, instr=10 '\n', reg_addr=4 '\004', RnW=1 '\001',
outvalue=0xbfffd6dc &quot;&quot;,
    invalue=0x0, ack=0x0) at adi_v5_jtag.c:91
        jtag_info = 0x81c01f4
        fields = {{num_bits = -1209443005, out_value = 0x6 &lt;Address 0x6 out of bounds&gt;,
            in_value = 0x81b5e88 &quot;\377\377\377\377XM\034\b\016&quot;, check_value = 0x81a40b0
&quot;\350b\033\b\360b\033\b&quot;,
            check_mask = 0x819d0f8 &quot;\030\b\032\bhg\027\b\020&quot;}, {num_bits = -1073752408,
            out_value = 0x8118c8b &quot;1n\020\001\211&#1027;\304,[^_]&#208;\215t&amp;&quot;,
            in_value = 0x81a40b0 &quot;\350b\033\b\360b\033\b&quot;, check_value = 0x81b62f0
&quot;H\312\033\b\b\320\031\b\020&quot;,
            check_mask = 0x81bca50 &quot;0\274\033\bext&quot;}}
        out_addr_buf = &lt;optimized out&gt;
        retval = 0
#9  0x080b3462 in adi_jtag_dp_scan_u32 (dap=&lt;optimized out&gt;, instr=&lt;optimized out&gt;,
reg_addr=&lt;optimized out&gt;,
    RnW=1 '\001', outvalue=0, invalue=0x0, ack=0x0) at adi_v5_jtag.c:144
        out_value_buf = &quot;\000\000\000&quot;
        retval = &lt;optimized out&gt;
#10 0x080b34de in adi_jtag_scan_inout_check_u32 (dap=0x81c02ac, instr=&lt;optimized out&gt;,
reg_addr=&lt;optimized out&gt;,
    RnW=1 '\001', outvalue=0, invalue=0x0) at adi_v5_jtag.c:173
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
        retval = &lt;optimized out&gt;
#11 0x080d061b in dap_queue_dp_read (data=0x0, dap=0x81c02ac, reg=&lt;optimized out&gt;) at arm_adi_v5.h:260
        reg = 4
#12 ahbap_debugport_init (dap=0x81c02ac) at arm_adi_v5.c:1185
        ctrlstat = &lt;optimized out&gt;
        cnt = 0
        retval = -1073751944
        __func__ = &quot;ahbap_debugport_init&quot;
#13 0x080ea536 in cortex_m3_examine (target=0x81beee8) at cortex_m.c:1894
        retval = &lt;optimized out&gt;
        cpuid = 134546344
        fpcr = &lt;optimized out&gt;
        i = &lt;optimized out&gt;
        cortex_m3 = 0x81c01f0
        swjdp = 0x81c02ac
        __func__ = &quot;cortex_m3_examine&quot;
        __FUNCTION__ = &quot;cortex_m3_examine&quot;
#14 0x08065843 in target_examine_one (target=0x81beee8) at target.c:618
No locals.
#15 target_examine () at target.c:651
        retval = 0
        target = 0x81beee8
#16 0x0804b6be in handle_init_command (cmd=0xbfffd878) at openocd.c:150
        retval = 0
        initialized = 1
        __func__ = &quot;handle_init_command&quot;
#17 0x0807b566 in run_command (num_words=1, words=0x81bc960, c=0x81b0318, context=&lt;optimized out&gt;)
at command.c:618
        cmd = {ctx = 0x819d008, current = 0x81b0318, name = 0x81b2570 &quot;init&quot;, argc = 0, argv =
0x81bc964}
        retval = &lt;optimized out&gt;
#18 script_command_run (interp=0x819d028, argc=136038600, argv=0xbfffd90c, c=0x81b0318,
capture=true) at command.c:218
        __FUNCTION__ = &quot;script_command_run&quot;
        nwords = 1
        state = 0x81bc8c8
        cmd_ctx = &lt;optimized out&gt;
        retval = -1073751796
#19 0x08125804 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81b5eb0) at jim.c:10083
        argc = 1
        j = &lt;optimized out&gt;
        cmd = 0x81a2518
        i = 2
        script = 0x81b5638
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
        token = 0x81b6050
        retcode = 0
        sargv = {0x81bf170, 0x81bc9d8, 0x819d028, 0xbfffd948, 0x811a1f0, 0x819d028, 0x81bc9d8, 0x2}
        argv = 0xbfffd90c
        linenr = 1
#20 0x0812788c in Jim_EvalCoreCommand (interp=0x819d028, argc=3, argv=0xbfffd9cc) at jim.c:12270
        rc = &lt;optimized out&gt;
#21 0x08125804 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81b2e58) at jim.c:10083
        argc = 3
        j = &lt;optimized out&gt;
        cmd = 0x819e1f8
        i = 4
        script = 0x81b2f60
        token = 0x81b2f80
        retcode = 0
        sargv = {0x81b2ef8, 0x81b6028, 0x81b5fb0, 0xbfffda08, 0x81247cf, 0x819d028, 0x81b5eb0,
0x81b5f50}
        argv = 0xbfffd9cc
        linenr = 22
#22 0x081271f1 in Jim_CatchCoreCommand (interp=0x819d028, argc=1, argv=0xbfffdad0) at jim.c:13058
        exitCode = 0
        i = &lt;optimized out&gt;
        sig = 0
        ignore_mask = &lt;optimized out&gt;
#23 0x08125804 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81b2b10) at jim.c:10083
        argc = 2
        j = &lt;optimized out&gt;
        cmd = 0x819e6f0
        i = 3
        script = 0x81b2e00
        token = 0x81afd20
        retcode = 0
        sargv = {0x81b2e20, 0x81b2e58, 0x81bcac8, 0xbfffdbd8, 0x8176a37, 0xb7e58ff9, 0x1d, 0x6}
        argv = 0xbfffdacc
        linenr = 22
#24 0x08128872 in Jim_EvalExpression (interp=0x819d028, exprObjPtr=0x81b2c30,
exprResultPtrPtr=0xbfffdbdc)
    at jim.c:8813
        objPtr = 0x811dff5
        expr = 0x81b2db0
        staticStack = {0x0, 0x1, 0xbfffdb68, 0x811b66d, 0x819d028, 0x81afdb0, 0xbfffdb68,
0xbfffdc58, 0xbfffdc58,
          0x81b5e48}
        i = &lt;optimized out&gt;
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
        retcode = &lt;optimized out&gt;
        e = {stack = 0xbfffdb40, stacklen = 0, opcode = 135909416, skip = 1}
#25 0x08128dbb in Jim_GetBoolFromExpr (interp=0x819d028, exprObjPtr=0x81b2c30, boolPtr=0xbfffdc2c)
at jim.c:8855
        retcode = &lt;optimized out&gt;
        wideValue = &lt;optimized out&gt;
        doubleValue = &lt;optimized out&gt;
        exprResultPtr = &lt;optimized out&gt;
#26 0x08128eb4 in Jim_IfCoreCommand (interp=0x819d028, argc=5, argv=0xbfffdcac) at jim.c:11380
        boolean = 135369915
        retval = &lt;optimized out&gt;
        current = 2
        falsebody = &lt;optimized out&gt;
#27 0x08125804 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81afe08) at jim.c:10083
        argc = 5
        j = &lt;optimized out&gt;
        cmd = 0x819dd38
        i = 6
        script = 0x81b2b78
        token = 0x81b2b98
        retcode = 0
        sargv = {0x81b2b50, 0x81b2c30, 0x81b2c80, 0x81b2cc0, 0x81b2cf8, 0x1, 0x0, 0xbfffdd68}
        argv = 0xbfffdcac
        linenr = 22
#28 0x08128fca in Jim_IfCoreCommand (interp=0x819d028, argc=5, argv=0xbfffdd9c) at jim.c:11392
        boolean = 1
        retval = &lt;optimized out&gt;
        current = 2
        falsebody = &lt;optimized out&gt;
#29 0x08125804 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81af8f8) at jim.c:10083
        argc = 5
        j = &lt;optimized out&gt;
        cmd = 0x819dd38
        i = 6
        script = 0x81afdd8
        token = 0x81b2858
        retcode = 0
        sargv = {0x81afe68, 0x81afe30, 0x81afe08, 0x81b27f8, 0x81b2978, 0x0, 0x0, 0x2}
        argv = 0xbfffdd9c
        linenr = 21
#30 0x08129048 in Jim_IfCoreCommand (interp=0x819d028, argc=5, argv=0xbfffde8c) at jim.c:11403
        boolean = 0
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
        retval = &lt;optimized out&gt;
        current = 4
        falsebody = 3
#31 0x08125804 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81a9d90) at jim.c:10083
        argc = 5
        j = &lt;optimized out&gt;
        cmd = 0x819dd38
        i = 14
        script = 0x819e698
        token = 0x81af508
        retcode = 0
        sargv = {0x81af810, 0x81af848, 0x81af870, 0x81af8c0, 0x81af8f8, 0x819d028, 0x1, 0x81bcde8}
        argv = 0xbfffde8c
        linenr = 19
#32 0x081261e2 in JimCallProcedure (interp=&lt;optimized out&gt;, cmd=&lt;optimized out&gt;,
fileNameObj=0x819d190, linenr=1,
    argc=2, argv=0xbfffdfac) at jim.c:10278
        callFramePtr = 0x81af198
        prevLocalProcs = 0x0
        i = &lt;optimized out&gt;
        d = &lt;optimized out&gt;
        retcode = &lt;optimized out&gt;
        optargs = &lt;optimized out&gt;
#33 0x081255d6 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81b5fe8) at jim.c:10079
        argc = 2
        j = &lt;optimized out&gt;
        cmd = 0x81aeb78
        i = 3
        script = 0x81b5618
        token = 0x81be3d8
        retcode = 0
        sargv = {0x81b6408, 0x81b59e8, 0x819d028, 0xbfffdfe8, 0x811a1f0, 0x819d028, 0x81b6010, 0x3}
        argv = 0xbfffdfac
        linenr = 1
#34 0x0812788c in Jim_EvalCoreCommand (interp=0x819d028, argc=4, argv=0xbfffe06c) at jim.c:12270
        rc = &lt;optimized out&gt;
#35 0x08125804 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81b23c0) at jim.c:10083
        argc = 4
        j = &lt;optimized out&gt;
        cmd = 0x819e1f8
        i = 5
        script = 0x81b4cb8
---Type &lt;return&gt; to continue, or q &lt;return&gt; to quit---
        token = 0x81c1760
        retcode = 0
        sargv = {0x81a9bd8, 0x81b5668, 0x81b55f0, 0x81bcfd8, 0x811bd67, 0x819d028, 0x81721a0, 0x81bd000}
        argv = 0xbfffe06c
        linenr = 1
#36 0x081261e2 in JimCallProcedure (interp=&lt;optimized out&gt;, cmd=&lt;optimized out&gt;,
fileNameObj=0x819d190, linenr=1,
    argc=1, argv=0xbfffe18c) at jim.c:10278
        callFramePtr = 0x81aed18
        prevLocalProcs = 0x81ab720
        i = &lt;optimized out&gt;
        d = &lt;optimized out&gt;
        retcode = &lt;optimized out&gt;
        optargs = &lt;optimized out&gt;
#37 0x081255d6 in Jim_EvalObj (interp=0x819d028, scriptObjPtr=0x81a4fc0) at jim.c:10079
        argc = 1
        j = &lt;optimized out&gt;
        cmd = 0x81a26d0
        i = 2
        script = 0x81b4a68
        token = 0x81b4c80
        retcode = 0
        sargv = {0x81a9790, 0x4, 0xb7f33a5f, 0x81a4fc0, 0x8119df1, 0x81b5a30, 0x8139d12, 0x4}
        argv = 0xbfffe18c
        linenr = 1
#38 0x0812826c in Jim_EvalSource (interp=0x819d028, filename=0x0, lineno=0, script=0x8139d12 &quot;init&quot;)
at jim.c:10340
        retval = &lt;optimized out&gt;
        scriptObjPtr = 0x81a4fc0
#39 0x0807b2bf in command_run_line (context=0x819d008, line=0x8139d12 &quot;init&quot;) at command.c:668
        retval = -4
        retcode = 0
        interp = 0x819d028
        __FUNCTION__ = &quot;command_run_line&quot;
#40 0x0804bb1c in openocd_thread (cmd_ctx=0x819d008, argv=0xbfffe464, argc=3) at openocd.c:296
        ret = 0
#41 openocd_main (argc=3, argv=0xbfffe464) at openocd.c:334
        cmd_ctx = 0x819d008
        __FUNCTION__ = &quot;openocd_main&quot;
#42 0x0804b525 in main (argc=3, argv=0xbfffe464) at main.c:42
No locals.
(gdb)


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="021619.html">[Openocd-development] jtag_add_scan_check Assertion Error
</A></li>
	<LI>Next message: <A HREF="021617.html">[Openocd-development] jtag_add_scan_check Assertion Error
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#21620">[ date ]</a>
              <a href="thread.html#21620">[ thread ]</a>
              <a href="subject.html#21620">[ subject ]</a>
              <a href="author.html#21620">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
