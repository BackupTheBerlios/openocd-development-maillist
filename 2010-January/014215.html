<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] atmega128: implement EEPROM	flashing
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20atmega128%3A%20implement%20EEPROM%0A%09flashing&In-Reply-To=%3C63034c041001160044o59397455u3be504eb768402bf%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014171.html">
   <LINK REL="Next"  HREF="014216.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] atmega128: implement EEPROM	flashing</H1>
    <B>simon qian</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20atmega128%3A%20implement%20EEPROM%0A%09flashing&In-Reply-To=%3C63034c041001160044o59397455u3be504eb768402bf%40mail.gmail.com%3E"
       TITLE="[Openocd-development] [PATCH] atmega128: implement EEPROM	flashing">simonqian.openocd at gmail.com
       </A><BR>
    <I>Sat Jan 16 09:44:37 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014171.html">[Openocd-development] [PATCH] atmega128: implement EEPROM	flashing
</A></li>
        <LI>Next message: <A HREF="014216.html">[Openocd-development] [PATCH] atmega128: implement EEPROM	flashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14215">[ date ]</a>
              <a href="thread.html#14215">[ thread ]</a>
              <a href="subject.html#14215">[ subject ]</a>
              <a href="author.html#14215">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>AVR-OCD-Document is verrrrrry old, it doesn't support some new devices.
As I know, Atmel will never open the debugging protocol of their JTAG spec.
You can hack current AVRs for the protocol, but if Atmel releases new chips
which is different from the hacked protocol, it will be an endless work to
follow.

For AVR8 support, there are other problems:
1. chips library
Different AVR chips have different parameters, including Flash Page Size,
EEPROM Page Size, Fuse Size and bit map, Lock bit map, Calibration Bytes
Size.
In my programmer VSProg, I use a .xml configuration file for all these
settings.
If use .cfg for a AVR8 chip, there will be many such configure files.

2. Fuse setting check
Some fuse value will kill the chip(make it unusable). So it's better to use
GUI to
set the Fuse value, instead of passing hex value directly in the .cfg file.

2010/1/14 David Brownell &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">david-b at pacbell.net</A>&gt;

&gt;<i> On Thursday 14 January 2010, Paul Fertser wrote:
</I>&gt;<i> &gt; &gt;       The On-chip Debug support is considered being private
</I>&gt;<i> &gt; &gt;       JTAG instructions, and distributed within ATMEL and to
</I>&gt;<i> &gt; &gt;       selected third party vendors only.
</I>&gt;<i> &gt; &gt;
</I>&gt;<i> &gt; &gt; Clearly, someone needs to throw a JTAG/SPI sniffer at some of the
</I>&gt;<i> &gt; &gt; transactions issued by AVR studio, and so some &quot;reverse engineering
</I>&gt;<i> &gt; &gt; for interoperability&quot;.  :)
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; Luckily someone already did that, see [1] (they used Free AVR ICE to
</I>&gt;<i> &gt; sniff).
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; [1] <A HREF="http://mirrors.igsobe.com/nongnu/freeice/AVR-OCD-Documentation.html">http://mirrors.igsobe.com/nongnu/freeice/AVR-OCD-Documentation.html</A>
</I>&gt;<i>
</I>&gt;<i> Interesting ... not all that current, and if you look at
</I>&gt;<i> for example the ATmega32 docs it gives a different picture
</I>&gt;<i> of things (e.g. roughly what the four debug registers do).
</I>&gt;<i> But, clearly a decent start.  :)
</I>&gt;<i>
</I>&gt;<i>
</I>&gt;<i> _______________________________________________
</I>&gt;<i> Openocd-development mailing list
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">Openocd-development at lists.berlios.de</A>
</I>&gt;<i> <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">https://lists.berlios.de/mailman/listinfo/openocd-development</A>
</I>&gt;<i>
</I>


-- 
Best Regards, SimonQian
<A HREF="http://www.SimonQian.com">http://www.SimonQian.com</A> &lt;<A HREF="http://www.simonqian.com/">http://www.simonqian.com/</A>&gt;
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20100116/2bee67d2/attachment.html">https://lists.berlios.de/pipermail/openocd-development/attachments/20100116/2bee67d2/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014171.html">[Openocd-development] [PATCH] atmega128: implement EEPROM	flashing
</A></li>
	<LI>Next message: <A HREF="014216.html">[Openocd-development] [PATCH] atmega128: implement EEPROM	flashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14215">[ date ]</a>
              <a href="thread.html#14215">[ thread ]</a>
              <a href="subject.html#14215">[ subject ]</a>
              <a href="author.html#14215">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
