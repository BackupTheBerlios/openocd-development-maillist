<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] ARMv7: use software breakpoints for 	algorithms
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%0A%09%3D%3Fiso-8859-1%3Fq%3F%3D5BPATCH%3D5D_ARMv7%3D3A_use_sof%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Ftware_breakpoints_for_%3D09algorithms%3F%3D&In-Reply-To=%3C201001131310.49897.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014149.html">
   <LINK REL="Next"  HREF="014139.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] ARMv7: use software breakpoints for 	algorithms</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%0A%09%3D%3Fiso-8859-1%3Fq%3F%3D5BPATCH%3D5D_ARMv7%3D3A_use_sof%3F%3D%0A%09%3D%3Fiso-8859-1%3Fq%3Ftware_breakpoints_for_%3D09algorithms%3F%3D&In-Reply-To=%3C201001131310.49897.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] [PATCH] ARMv7: use software breakpoints for 	algorithms">david-b at pacbell.net
       </A><BR>
    <I>Wed Jan 13 22:10:49 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014149.html">[Openocd-development] [PATCH] ARMv7: use software breakpoints for algorithms
</A></li>
        <LI>Next message: <A HREF="014139.html">[PATCH] atmega128: implement EEPROM flashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14151">[ date ]</a>
              <a href="thread.html#14151">[ thread ]</a>
              <a href="subject.html#14151">[ subject ]</a>
              <a href="author.html#14151">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 13 January 2010, Spencer Oliver wrote:
&gt;<i> &#216;yvind Harboe wrote:
</I>&gt;<i> &gt;&gt; Not really looked into it, but do not think it would be a problem.
</I>&gt;<i> &gt;&gt; I have the src to the algo's, so will try building using arch=v6
</I>
I hope you mean &quot;-march=armv6-m&quot; ... ARM opcodes won't help!!  :)

There's of course no rush on this, since the Cortex-M0 chips have
only barely appeared on the market (initially from NXP ... who as
you implied, hasn't supported OpenOCD yet).

But it would be easier on us, eventually, not to need separate
algorithm code for the M0 and M3 cores unless there's a compelling
reason to use the extra instructions in some case.


&gt;<i> &gt; Uh? Are there some sources that are not in openocd repository??
</I>&gt;<i> 
</I>&gt;<i> well the src is as such in openocd - cortex_m3_crc_code for example.
</I>
That's one of the most complicated examples, too...

Almost all the binary algorithm code has this confusion.

I'd kind of like to see a new policy in that area.  Minimally,
to have the ASM source for each algorithm be in a comment that's
trivially extracted and rebuilt.  Maybe

	/*
		mov	r2, r0
		mov	r0, #0xffffffff
		...
	*/

But, no big deal either way.  I'm sure we'll grow Cortex-M0 support
before all that long, this is just one minor issue in that puzzle.

- Dave

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014149.html">[Openocd-development] [PATCH] ARMv7: use software breakpoints for algorithms
</A></li>
	<LI>Next message: <A HREF="014139.html">[PATCH] atmega128: implement EEPROM flashing
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14151">[ date ]</a>
              <a href="thread.html#14151">[ thread ]</a>
              <a href="subject.html#14151">[ subject ]</a>
              <a href="author.html#14151">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
