<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] ARMv7: use software breakpoints	for algorithms
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20ARMv7%3A%20use%20software%20breakpoints%0A%09for%20algorithms&In-Reply-To=%3C201001131102.54290.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014136.html">
   <LINK REL="Next"  HREF="014145.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] ARMv7: use software breakpoints	for algorithms</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20ARMv7%3A%20use%20software%20breakpoints%0A%09for%20algorithms&In-Reply-To=%3C201001131102.54290.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] [PATCH] ARMv7: use software breakpoints	for algorithms">david-b at pacbell.net
       </A><BR>
    <I>Wed Jan 13 20:02:54 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014136.html">[Openocd-development] [PATCH] ARMv7: use software breakpoints for algorithms
</A></li>
        <LI>Next message: <A HREF="014145.html">[Openocd-development] [PATCH] ARMv7: use software breakpoints for algorithms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14143">[ date ]</a>
              <a href="thread.html#14143">[ thread ]</a>
              <a href="subject.html#14143">[ subject ]</a>
              <a href="author.html#14143">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wednesday 13 January 2010, Spencer Oliver wrote:
&gt;<i> &#160; - armv7m_run_algorithm now requires all algorithms to use
</I>&gt;<i> &#160; &#160; a software breakpoint at their exit address
</I>&gt;<i> &#160; - updated all algorithms to support this
</I>
I like!   Except, again, for a few overlong lines.  :)

But let's hold off for the 0.5 series for this; it's not a bugfix.
(I suspect that merge window will be open in a few weeks.)  It's
a bit of a performance win for algorithm-heavy code, like flash
writing.

$SUBJECT is just a bit off though, needs fixing ... this this is
ARMv7-M only, not for all ARMv7 targets.

Covering the rest of ARMv7 would end up covering ARM9/ARM11 targets
too ... anything using the ARMv5 instruction set, or newer.  (ARMv4
didn't include BKPT.)  And while those targets really should get the
benefit of this approach, IMO that'd best be a separate patch.

- Dave

p.s. Random question ... have you looked at Cortex-M0 enough to have
     a feeling for how many ARMv7-M algorithms should be reusable on
     those new ARMv6-M chips?  v6-M is basically a trimmed down v7-M.
     Since it doesn't have many Thumb2 instructions, at least some of
     the v7-M code won't run there.  Looks to me like most of the rest
     of the Cortex-M3 infrastructure will be fine with Cortex-M0.
  

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014136.html">[Openocd-development] [PATCH] ARMv7: use software breakpoints for algorithms
</A></li>
	<LI>Next message: <A HREF="014145.html">[Openocd-development] [PATCH] ARMv7: use software breakpoints for algorithms
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14143">[ date ]</a>
              <a href="thread.html#14143">[ thread ]</a>
              <a href="subject.html#14143">[ subject ]</a>
              <a href="author.html#14143">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
