<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 1/2] ARM semihosting: add armv7m support
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/2%5D%20ARM%20semihosting%3A%20add%20armv7m%0A%20support&In-Reply-To=%3Calpine.LFD.2.00.1001261533060.1681%40xanadu.home%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014405.html">
   <LINK REL="Next"  HREF="014404.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 1/2] ARM semihosting: add armv7m support</H1>
    <B>Nicolas Pitre</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/2%5D%20ARM%20semihosting%3A%20add%20armv7m%0A%20support&In-Reply-To=%3Calpine.LFD.2.00.1001261533060.1681%40xanadu.home%3E"
       TITLE="[Openocd-development] [PATCH 1/2] ARM semihosting: add armv7m support">nico at fluxnic.net
       </A><BR>
    <I>Tue Jan 26 21:52:46 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014405.html">[Openocd-development] [PATCH 1/2] ARM semihosting: add armv7m support
</A></li>
        <LI>Next message: <A HREF="014404.html">[Openocd-development] [PATCH 1/2] ARM semihosting: add armv7m	support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14415">[ date ]</a>
              <a href="thread.html#14415">[ thread ]</a>
              <a href="subject.html#14415">[ subject ]</a>
              <a href="author.html#14415">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, 26 Jan 2010, Spencer Oliver wrote:

&gt;<i> David Brownell wrote:
</I>&gt;<i> &gt; On Tuesday 26 January 2010, Spencer Oliver wrote:
</I>&gt;<i> &gt;&gt; I could not get the original implementation from Nicolas Pitr working 
</I>&gt;<i> &gt;&gt; when outputting to stdout.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; For the record:  I did get that working with an ARM9, no
</I>&gt;<i> &gt; changes, using the latest CodeSourcery EABI toolchain.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> strange, i tested on arm9 aswell.
</I>&gt;<i> fileio was ok, just printf to stdout/stderr failed.
</I>
It is used in production settings here, so if it didn't work on ARM9 I 
would have fixed it long ago.  ;-)

&gt;<i> &gt; The only moderately surprising behavior was seeing the
</I>&gt;<i> &gt; output mixed with server logging stuff, without any
</I>&gt;<i> &gt; particular fanfare ... I had expected to see it with
</I>&gt;<i> &gt; the telnet console I was using at the time.  (Didn't
</I>&gt;<i> &gt; try it with GDB.)
</I>
I went for the easiest setup.  Typically this is used with applications 
on the target that don't need debugging but only a communication 
channel.  Here openocd is fired up with a script that loads the 
application on the target and the application starts talking to you 
right away on the same console without having to telnet anywhere (works 
fine with pipes and redirects, such as through interaction with a chat 
script).

Of course when the remote application calls out to gets() when asking 
user input then openocd is completely stalled by the synchronous read() 
on the local stdin, which means this doesn't interact well with gdb nor 
the telnet session in that case of course.  The &quot;fix&quot; might require 
quite significant rearchitecturing of openocd.


Nicolas

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014405.html">[Openocd-development] [PATCH 1/2] ARM semihosting: add armv7m support
</A></li>
	<LI>Next message: <A HREF="014404.html">[Openocd-development] [PATCH 1/2] ARM semihosting: add armv7m	support
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14415">[ date ]</a>
              <a href="thread.html#14415">[ thread ]</a>
              <a href="subject.html#14415">[ subject ]</a>
              <a href="author.html#14415">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
