<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] ARMV7M: handle bkpt instruction	on resume/step
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-January/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20ARMV7M%3A%20handle%20bkpt%20instruction%0A%09on%20resume/step&In-Reply-To=%3C201001191322.02119.david-b%40pacbell.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="014274.html">
   <LINK REL="Next"  HREF="014290.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] ARMV7M: handle bkpt instruction	on resume/step</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20ARMV7M%3A%20handle%20bkpt%20instruction%0A%09on%20resume/step&In-Reply-To=%3C201001191322.02119.david-b%40pacbell.net%3E"
       TITLE="[Openocd-development] [PATCH] ARMV7M: handle bkpt instruction	on resume/step">david-b at pacbell.net
       </A><BR>
    <I>Tue Jan 19 22:22:01 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="014274.html">[Openocd-development] [PATCH] ARMV7M: handle bkpt instruction on resume/step
</A></li>
        <LI>Next message: <A HREF="014290.html">[Openocd-development] [PATCH] ARMV7M: handle bkpt instruction on resume/step
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14288">[ date ]</a>
              <a href="thread.html#14288">[ thread ]</a>
              <a href="subject.html#14288">[ subject ]</a>
              <a href="author.html#14288">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tuesday 19 January 2010, Spencer Oliver wrote:
&gt;<i> David Brownell wrote:
</I>&gt;<i> &gt; On Monday 18 January 2010, Spencer Oliver wrote:
</I>&gt;<i> &gt;&gt; Skip over a bkpt instruction if found on resume/step.
</I>&gt;<i> &gt; 
</I>&gt;<i> &gt; This is a bugfix for RAM-based code, yes?
</I>&gt;<i> 
</I>&gt;<i> flash or ram, most semi hosting code would be in flash however.
</I>
Except that, as you note, semihosting should use different logic.


&gt;<i> I am updating the arm semihosting to support armv7m (cortex_m3).
</I>
Hmm, my notion there was to make armv7m use the same &quot;struct arm&quot;
as other ARM cores, and try to share more core infrastructure.
It shouldn't be *quite* so different as it is now.

But I've not done much along those lines yet.  Glad you're at work
on this.  The BKPT handling clearly needs updating.

(Similarly with Cortex M0 and M1 support.  We don't have it yet,
but from what I've observed so far it should be almost a pure
subset of the M3 and v7m support.)


&gt;<i> So far it is working well, the issues i have are todo with win32 host :)
</I>
That does appear to be an ongoing battle.  :(

- Dave

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="014274.html">[Openocd-development] [PATCH] ARMV7M: handle bkpt instruction on resume/step
</A></li>
	<LI>Next message: <A HREF="014290.html">[Openocd-development] [PATCH] ARMV7M: handle bkpt instruction on resume/step
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#14288">[ date ]</a>
              <a href="thread.html#14288">[ thread ]</a>
              <a href="subject.html#14288">[ subject ]</a>
              <a href="author.html#14288">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
