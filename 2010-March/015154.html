<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Simplifying and demystifying	jtag_add_ir/dr_plain_scan
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Simplifying%20and%20demystifying%0A%09jtag_add_ir/dr_plain_scan&In-Reply-To=%3Cc09652431003060148q553d5d51idc9fe11a39a66134%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015172.html">
   <LINK REL="Next"  HREF="015155.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Simplifying and demystifying	jtag_add_ir/dr_plain_scan</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Simplifying%20and%20demystifying%0A%09jtag_add_ir/dr_plain_scan&In-Reply-To=%3Cc09652431003060148q553d5d51idc9fe11a39a66134%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Simplifying and demystifying	jtag_add_ir/dr_plain_scan">oyvind.harboe at zylin.com
       </A><BR>
    <I>Sat Mar  6 10:48:01 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015172.html">[Openocd-development] [PATCH] CFI: replace macro to magic	numbers
</A></li>
        <LI>Next message: <A HREF="015155.html">[Openocd-development] Simplifying and demystifying	jtag_add_ir/dr_plain_scan
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15154">[ date ]</a>
              <a href="thread.html#15154">[ thread ]</a>
              <a href="subject.html#15154">[ subject ]</a>
              <a href="author.html#15154">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>I would like to remove the num_fields &amp; fields argument and
add length, in bits and out bits.

Unless I hear any objections, I'll go ahead and do this eventually.

So from:

jtag_add_plain_dr_scan(int in_num_fields, const struct scan_field
*in_fields, tap_state_t state)

to:

jtag_add_plain_dr_scan(int bits, const uint_t8 *out, const_uint8_t
*in, tap_state_t state)

Where out and in can not be NULL. out and in can point to the same memory.
Allowing NULL here would just complicate the implementation and none
of the call sites would exercise such a path.


-- 
&#216;yvind Harboe
US toll free 1-866-980-3434 / International +47 51 63 25 00
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 ARM11 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015172.html">[Openocd-development] [PATCH] CFI: replace macro to magic	numbers
</A></li>
	<LI>Next message: <A HREF="015155.html">[Openocd-development] Simplifying and demystifying	jtag_add_ir/dr_plain_scan
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15154">[ date ]</a>
              <a href="thread.html#15154">[ thread ]</a>
              <a href="subject.html#15154">[ subject ]</a>
              <a href="author.html#15154">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
