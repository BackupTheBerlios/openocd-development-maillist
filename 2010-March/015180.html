<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] imx31.cpu: ran after reset and before halt ...
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20imx31.cpu%3A%20ran%20after%20reset%20and%20before%20halt%20...&In-Reply-To=%3C1268144712.2799.23.camel%40realization%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015220.html">
   <LINK REL="Next"  HREF="015182.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] imx31.cpu: ran after reset and before halt ...</H1>
    <B>Alberto Panizzo</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20imx31.cpu%3A%20ran%20after%20reset%20and%20before%20halt%20...&In-Reply-To=%3C1268144712.2799.23.camel%40realization%3E"
       TITLE="[Openocd-development] imx31.cpu: ran after reset and before halt ...">maramaopercheseimorto at gmail.com
       </A><BR>
    <I>Tue Mar  9 15:25:12 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015220.html">[Openocd-development] [Fwd: [patch/rfc] NOR: invalidate cached	state on target resume]
</A></li>
        <LI>Next message: <A HREF="015182.html">[Openocd-development] imx31.cpu: ran after reset and before	halt ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15180">[ date ]</a>
              <a href="thread.html#15180">[ thread ]</a>
              <a href="subject.html#15180">[ subject ]</a>
              <a href="author.html#15180">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all! First of all thank you for the great work in OpenOCD.

I am trying to setup a JTAG debug connection with a Freescale i.MX31
based board (Atmark Armadillo 500) with the Amontec JtagKey-2 interface.
I'm using the latest git sources.
The board is provided with a full 20 pin JTAG connector very similar to the
imx31pdk one.

The first problem I am facing is the Warning: &quot;ran after reset an before halt&quot;

What can I do to halt the CPU early?


A debug level 3 is attached inline.

Best regards,

-- 
Alberto!

        Be Persistent!
                - Greg Kroah-Hartman (FOSDEM 2010)


$ sudo openocd -f interface/jtagkey2.cfg -f board/armadillo500.cfg -d
[sudo] password for alberto: 
Open On-Chip Debugger 0.5.0-dev-00055-g57ebf6d (2010-03-08-17:41)
Licensed under GNU GPL v2
For bug reports, read
	<A HREF="http://openocd.berlios.de/doc/doxygen/bugs.html">http://openocd.berlios.de/doc/doxygen/bugs.html</A>
User : 10 2 command.c:539 command_print(): debug_level: 3
Debug: 11 2 configuration.c:45 add_script_search_dir(): adding /home/alberto/.openocd
Debug: 12 2 configuration.c:45 add_script_search_dir(): adding /usr/local/share/openocd/site
Debug: 13 2 configuration.c:45 add_script_search_dir(): adding /usr/local/share/openocd/scripts
Debug: 14 3 configuration.c:87 find_file(): found /usr/local/share/openocd/scripts/interface/jtagkey2.cfg
Debug: 15 3 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_interface ft2232
Debug: 16 3 command.c:133 script_debug(): command - interface ocd_interface ft2232
Debug: 18 3 command.c:346 register_command_handler(): registering 'ocd_ft2232_device_desc'...
Debug: 19 3 command.c:346 register_command_handler(): registering 'ocd_ft2232_serial'...
Debug: 20 3 command.c:346 register_command_handler(): registering 'ocd_ft2232_layout'...
Debug: 21 3 command.c:346 register_command_handler(): registering 'ocd_ft2232_vid_pid'...
Debug: 22 3 command.c:346 register_command_handler(): registering 'ocd_ft2232_latency'...
Debug: 23 3 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_ft2232_device_desc Amontec JTAGkey-2
Debug: 24 3 command.c:133 script_debug(): command - ft2232_device_desc ocd_ft2232_device_desc Amontec JTAGkey-2
Debug: 26 3 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_ft2232_layout jtagkey
Debug: 27 3 command.c:133 script_debug(): command - ft2232_layout ocd_ft2232_layout jtagkey
Debug: 29 3 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_ft2232_vid_pid 0x0403 0xCFF8
Debug: 30 3 command.c:133 script_debug(): command - ft2232_vid_pid ocd_ft2232_vid_pid 0x0403 0xCFF8
Debug: 32 3 configuration.c:87 find_file(): found /home/alberto/.openocd/board/armadillo500.cfg
Debug: 33 4 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag_khz 1000
Debug: 34 4 command.c:133 script_debug(): command - jtag_khz ocd_jtag_khz 1000
Debug: 36 4 core.c:1589 jtag_config_khz(): handle jtag khz
Debug: 37 4 core.c:1552 jtag_khz_to_speed(): convert khz to interface specific speed value
User : 38 4 command.c:539 command_print(): 1000 kHz
Debug: 39 4 configuration.c:87 find_file(): found /usr/local/share/openocd/scripts/target/imx31.cfg
Debug: 40 4 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_reset_config trst_and_srst srst_gates_jtag
Debug: 41 4 command.c:133 script_debug(): command - reset_config ocd_reset_config trst_and_srst srst_gates_jtag
User : 43 4 command.c:539 command_print(): trst_and_srst separate srst_gates_jtag trst_push_pull srst_open_drain
Debug: 44 4 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag_nsrst_delay 5
Debug: 45 4 command.c:133 script_debug(): command - jtag_nsrst_delay ocd_jtag_nsrst_delay 5
User : 47 4 command.c:539 command_print(): jtag_nsrst_delay: 5
Debug: 48 4 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap imx31 etb -irlen 4 -irmask 0xf -expected-id 0x2b900f0f
Debug: 49 4 command.c:133 script_debug(): command - ocd_jtag ocd_jtag newtap imx31 etb -irlen 4 -irmask 0xf -expected-id 0x2b900f0f
Debug: 50 4 tcl.c:568 jim_newtap_cmd(): Creating New Tap, Chip: imx31, Tap: etb, Dotted: imx31.etb, 6 params
Debug: 51 4 tcl.c:585 jim_newtap_cmd(): Processing option: -irlen
Debug: 52 4 tcl.c:585 jim_newtap_cmd(): Processing option: -irmask
Debug: 53 4 tcl.c:585 jim_newtap_cmd(): Processing option: -expected-id
Debug: 54 4 core.c:1329 jtag_tap_init(): Created Tap: imx31.etb @ abs position 0, irlen 4, capture: 0x1 mask: 0xf
Debug: 55 5 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap imx31 cpu -irlen 5 -ircapture 0x1 -irmask 0x1f -expected-id 0x07b3601d
Debug: 56 5 command.c:133 script_debug(): command - ocd_jtag ocd_jtag newtap imx31 cpu -irlen 5 -ircapture 0x1 -irmask 0x1f -expected-id 0x07b3601d
Debug: 57 5 tcl.c:568 jim_newtap_cmd(): Creating New Tap, Chip: imx31, Tap: cpu, Dotted: imx31.cpu, 8 params
Debug: 58 5 tcl.c:585 jim_newtap_cmd(): Processing option: -irlen
Debug: 59 5 tcl.c:585 jim_newtap_cmd(): Processing option: -ircapture
Debug: 60 5 tcl.c:585 jim_newtap_cmd(): Processing option: -irmask
Debug: 61 5 tcl.c:585 jim_newtap_cmd(): Processing option: -expected-id
Debug: 62 5 core.c:1329 jtag_tap_init(): Created Tap: imx31.cpu @ abs position 0, irlen 5, capture: 0x1 mask: 0x1f
Debug: 63 5 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap imx31 whatchacallit -irlen 4 -ircapture 0 -irmask 0xf -expected-id 0x0
Debug: 64 5 command.c:133 script_debug(): command - ocd_jtag ocd_jtag newtap imx31 whatchacallit -irlen 4 -ircapture 0 -irmask 0xf -expected-id 0x0
Debug: 65 5 tcl.c:568 jim_newtap_cmd(): Creating New Tap, Chip: imx31, Tap: whatchacallit, Dotted: imx31.whatchacallit, 8 params
Debug: 66 5 tcl.c:585 jim_newtap_cmd(): Processing option: -irlen
Debug: 67 5 tcl.c:585 jim_newtap_cmd(): Processing option: -ircapture
Warn : 68 5 tcl.c:514 jim_newtap_ir_param(): imx31.whatchacallit: nonstandard IR value
Debug: 69 5 tcl.c:585 jim_newtap_cmd(): Processing option: -irmask
Debug: 70 5 tcl.c:585 jim_newtap_cmd(): Processing option: -expected-id
Debug: 71 5 core.c:1329 jtag_tap_init(): Created Tap: imx31.whatchacallit @ abs position 0, irlen 4, capture: 0x0 mask: 0xf
Debug: 72 5 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag newtap imx31 smda -irlen 5 -ircapture 0x1 -irmask 0x1f -expected-id 0x1190101d
Debug: 73 5 command.c:133 script_debug(): command - ocd_jtag ocd_jtag newtap imx31 smda -irlen 5 -ircapture 0x1 -irmask 0x1f -expected-id 0x1190101d
Debug: 74 5 tcl.c:568 jim_newtap_cmd(): Creating New Tap, Chip: imx31, Tap: smda, Dotted: imx31.smda, 8 params
Debug: 75 9 tcl.c:585 jim_newtap_cmd(): Processing option: -irlen
Debug: 76 9 tcl.c:585 jim_newtap_cmd(): Processing option: -ircapture
Debug: 77 9 tcl.c:585 jim_newtap_cmd(): Processing option: -irmask
Debug: 78 9 tcl.c:585 jim_newtap_cmd(): Processing option: -expected-id
Debug: 79 9 core.c:1329 jtag_tap_init(): Created Tap: imx31.smda @ abs position 0, irlen 5, capture: 0x1 mask: 0x1f
Debug: 80 9 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_target create imx31.cpu arm11 -endian little -chain-position imx31.cpu
Debug: 81 9 command.c:133 script_debug(): command - ocd_target ocd_target create imx31.cpu arm11 -endian little -chain-position imx31.cpu
Debug: 82 9 command.c:346 register_command_handler(): registering 'ocd_arm'...
Debug: 83 9 command.c:346 register_command_handler(): registering 'ocd_arm'...
Debug: 84 9 command.c:346 register_command_handler(): registering 'ocd_arm'...
Debug: 85 9 command.c:346 register_command_handler(): registering 'ocd_arm'...
Debug: 86 9 command.c:346 register_command_handler(): registering 'ocd_arm'...
Debug: 87 9 command.c:346 register_command_handler(): registering 'ocd_arm'...
Debug: 88 9 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 89 9 command.c:346 register_command_handler(): registering 'ocd_arm11'...
Debug: 90 9 command.c:346 register_command_handler(): registering 'ocd_arm11'...
Debug: 91 9 command.c:346 register_command_handler(): registering 'ocd_arm11'...
Debug: 92 9 command.c:346 register_command_handler(): registering 'ocd_arm11'...
Debug: 93 9 command.c:346 register_command_handler(): registering 'ocd_arm11'...
Debug: 94 9 command.c:346 register_command_handler(): registering 'ocd_arm11'...
Debug: 95 10 armv4_5.c:397 arm_set_cpsr(): set CPSR 0x00000010: User mode, ARM state
Debug: 96 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 97 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 98 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 99 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 100 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 101 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 102 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 103 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 104 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 105 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 106 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 107 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 108 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 109 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 110 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 111 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 112 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 113 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 114 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 115 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 116 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 117 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 118 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 119 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 120 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 121 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 122 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 123 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 124 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 125 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 126 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 127 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 128 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 129 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 130 10 command.c:346 register_command_handler(): registering 'ocd_imx31.cpu'...
Debug: 131 10 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_etm config imx31.cpu 16 normal full etb
Debug: 132 10 command.c:133 script_debug(): command - ocd_etm ocd_etm config imx31.cpu 16 normal full etb
Debug: 134 10 command.c:346 register_command_handler(): registering 'ocd_etb'...
Debug: 135 11 command.c:346 register_command_handler(): registering 'ocd_etb'...
Debug: 136 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 137 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 138 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 139 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 140 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 141 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 142 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 143 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 144 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 145 11 command.c:346 register_command_handler(): registering 'ocd_etm'...
Debug: 146 11 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_etb config imx31.cpu imx31.etb
Debug: 147 11 command.c:133 script_debug(): command - ocd_etb ocd_etb config imx31.cpu imx31.etb
Debug: 149 11 configuration.c:87 find_file(): found /usr/local/share/openocd/scripts/target/imx.cfg
Debug: 150 11 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_reset_config trst_and_srst srst_nogate
Debug: 151 11 command.c:133 script_debug(): command - reset_config ocd_reset_config trst_and_srst srst_nogate
User : 153 11 command.c:539 command_print(): trst_and_srst separate srst_nogate trst_push_pull srst_open_drain
Debug: 154 11 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag_nsrst_assert_width 100
Debug: 155 11 command.c:133 script_debug(): command - jtag_nsrst_assert_width ocd_jtag_nsrst_assert_width 100
User : 157 11 command.c:539 command_print(): jtag_nsrst_assert_width: 100
Debug: 158 11 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag_nsrst_delay 100
Debug: 159 11 command.c:133 script_debug(): command - jtag_nsrst_delay ocd_jtag_nsrst_delay 100
User : 161 11 command.c:539 command_print(): jtag_nsrst_delay: 100
Debug: 162 11 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag_ntrst_assert_width 100
Debug: 163 11 command.c:133 script_debug(): command - jtag_ntrst_assert_width ocd_jtag_ntrst_assert_width 100
User : 165 12 command.c:539 command_print(): jtag_ntrst_assert_width: 100
Debug: 166 12 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag_ntrst_delay 50
Debug: 167 12 command.c:133 script_debug(): command - jtag_ntrst_delay ocd_jtag_ntrst_delay 50
User : 169 12 command.c:539 command_print(): jtag_ntrst_delay: 50
Debug: 170 12 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu configure -event reset-init  armadillo500_init 
Debug: 171 12 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu configure -event reset-init  armadillo500_init 
Debug: 172 12 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_flash bank imx31.nor cfi 0xa0000000 0x01000000 2 2 imx31.cpu
Debug: 173 12 command.c:133 script_debug(): command - ocd_flash ocd_flash bank imx31.nor cfi 0xa0000000 0x01000000 2 2 imx31.cpu
Debug: 175 12 httpd_stubs.c:28 httpd_start(): libocdserver was built without HTTPD support
Debug: 176 12 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_init
Debug: 177 12 command.c:133 script_debug(): command - init ocd_init
Debug: 179 12 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_target init
Debug: 180 12 command.c:133 script_debug(): command - ocd_target ocd_target init
Debug: 182 12 target.c:874 handle_target_init_command(): Initializing targets...
Debug: 183 12 command.c:346 register_command_handler(): registering 'ocd_target_request'...
Debug: 184 12 command.c:346 register_command_handler(): registering 'ocd_trace'...
Debug: 185 12 command.c:346 register_command_handler(): registering 'ocd_trace'...
Debug: 186 12 command.c:346 register_command_handler(): registering 'ocd_fast_load_image'...
Debug: 187 12 command.c:346 register_command_handler(): registering 'ocd_fast_load'...
Debug: 188 12 command.c:346 register_command_handler(): registering 'ocd_profile'...
Debug: 189 12 command.c:346 register_command_handler(): registering 'ocd_virt2phys'...
Debug: 190 12 command.c:346 register_command_handler(): registering 'ocd_reg'...
Debug: 191 12 command.c:346 register_command_handler(): registering 'ocd_poll'...
Debug: 192 12 command.c:346 register_command_handler(): registering 'ocd_wait_halt'...
Debug: 193 12 command.c:346 register_command_handler(): registering 'ocd_halt'...
Debug: 194 13 command.c:346 register_command_handler(): registering 'ocd_resume'...
Debug: 195 13 command.c:346 register_command_handler(): registering 'ocd_reset'...
Debug: 196 13 command.c:346 register_command_handler(): registering 'ocd_soft_reset_halt'...
Debug: 197 13 command.c:346 register_command_handler(): registering 'ocd_step'...
Debug: 198 13 command.c:346 register_command_handler(): registering 'ocd_mdw'...
Debug: 199 13 command.c:346 register_command_handler(): registering 'ocd_mdh'...
Debug: 200 13 command.c:346 register_command_handler(): registering 'ocd_mdb'...
Debug: 201 13 command.c:346 register_command_handler(): registering 'ocd_mww'...
Debug: 202 13 command.c:346 register_command_handler(): registering 'ocd_mwh'...
Debug: 203 13 command.c:346 register_command_handler(): registering 'ocd_mwb'...
Debug: 204 13 command.c:346 register_command_handler(): registering 'ocd_bp'...
Debug: 205 13 command.c:346 register_command_handler(): registering 'ocd_rbp'...
Debug: 206 13 command.c:346 register_command_handler(): registering 'ocd_wp'...
Debug: 207 13 command.c:346 register_command_handler(): registering 'ocd_rwp'...
Debug: 208 25 command.c:346 register_command_handler(): registering 'ocd_load_image'...
Debug: 209 25 command.c:346 register_command_handler(): registering 'ocd_dump_image'...
Debug: 210 25 command.c:346 register_command_handler(): registering 'ocd_verify_image'...
Debug: 211 25 command.c:346 register_command_handler(): registering 'ocd_test_image'...
Debug: 212 25 command.c:346 register_command_handler(): registering 'ocd_reset_nag'...
Debug: 213 25 ft2232.c:2280 ft2232_init(): ft2232 interface using shortest path jtag state transitions
Debug: 214 25 ft2232.c:2023 ft2232_init_ftd2xx(): 'ft2232' interface using FTD2XX with 'jtagkey' layout (0403:cff8)
Debug: 215 234 ft2232.c:2134 ft2232_init_ftd2xx(): current latency timer: 2
Info : 216 234 ft2232.c:2161 ft2232_init_ftd2xx(): device: 6 &quot;2232H&quot;
Info : 217 234 ft2232.c:2162 ft2232_init_ftd2xx(): deviceID: 67358712
Info : 218 234 ft2232.c:2163 ft2232_init_ftd2xx(): SerialNumber: 53SZG9NK A
Info : 219 234 ft2232.c:2164 ft2232_init_ftd2xx(): Description: Amontec JTAGkey-2 A
Debug: 220 234 ft2232.c:2611 jtagkey_init(): 80 08 1b
Debug: 221 234 ft2232.c:2670 jtagkey_init(): 82 09 0f
Info : 222 235 ft2232.c:575 ft2232h_ft4232h_clk_divide_by_5(): max TCK change to: 30000 kHz
Debug: 223 235 core.c:1552 jtag_khz_to_speed(): convert khz to interface specific speed value
Debug: 224 235 core.c:1556 jtag_khz_to_speed(): have interface set up
Debug: 225 235 ft2232.c:544 ft2232h_ft4232h_adaptive_clocking(): 97
Debug: 226 235 ft2232.c:604 ft2232_speed(): 86 1d 00
Debug: 227 236 core.c:1552 jtag_khz_to_speed(): convert khz to interface specific speed value
Debug: 228 236 core.c:1556 jtag_khz_to_speed(): have interface set up
Info : 229 236 core.c:1379 jtag_interface_init(): clock speed 1000 kHz
Debug: 230 236 openocd.c:122 handle_init_command(): jtag interface init complete
Debug: 231 236 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag init
Debug: 232 236 command.c:133 script_debug(): command - ocd_jtag ocd_jtag init
Debug: 234 236 tcl.c:854 handle_jtag_init_command(): Initializing jtag devices...
Debug: 235 237 ft2232.c:1407 jtagkey_reset(): trst: 0, srst: 0, high_output: 0x09, high_direction: 0x0f
Debug: 236 237 core.c:701 jtag_add_reset(): SRST line released
Debug: 237 237 core.c:726 jtag_add_reset(): TRST line released
Debug: 238 237 core.c:321 jtag_call_event_callbacks(): jtag event: TAP reset
Debug: 239 388 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag arp_init
Debug: 240 388 command.c:133 script_debug(): command - ocd_jtag ocd_jtag arp_init
Debug: 241 388 core.c:1393 jtag_init_inner(): Init JTAG chain
Debug: 242 388 core.c:321 jtag_call_event_callbacks(): jtag event: TAP reset
Debug: 243 388 core.c:1046 jtag_examine_chain(): DR scan interrogation for IDCODE/BYPASS
Debug: 244 388 core.c:321 jtag_call_event_callbacks(): jtag event: TAP reset
Info : 245 487 core.c:946 jtag_examine_chain_display(): JTAG tap: imx31.etb tap/device found: 0x2b900f0f (mfg: 0x787, part: 0xb900, ver: 0x2)
Info : 246 487 core.c:946 jtag_examine_chain_display(): JTAG tap: imx31.cpu tap/device found: 0x07b3601d (mfg: 0x00e, part: 0x7b36, ver: 0x0)
Info : 247 487 core.c:1069 jtag_examine_chain(): TAP imx31.whatchacallit does not have IDCODE
Info : 248 487 core.c:946 jtag_examine_chain_display(): JTAG tap: imx31.smda tap/device found: 0x1190101d (mfg: 0x00e, part: 0x1901, ver: 0x1)
Debug: 249 487 core.c:1211 jtag_validate_ircapture(): IR capture validation scan
Debug: 250 489 core.c:1272 jtag_validate_ircapture(): imx31.etb: IR capture 0x01
Debug: 251 489 core.c:1272 jtag_validate_ircapture(): imx31.cpu: IR capture 0x01
Debug: 252 489 core.c:1272 jtag_validate_ircapture(): imx31.whatchacallit: IR capture 0x00
Debug: 253 489 core.c:1272 jtag_validate_ircapture(): imx31.smda: IR capture 0x01
Debug: 254 489 openocd.c:132 handle_init_command(): Examining targets...
Info : 255 493 arm11.c:1235 arm11_examine(): found ARM1136
Debug: 256 493 arm11.c:1253 arm11_examine(): IDCODE 07b3601d IMPLEMENTOR 41 DIDR 15110004
Info : 257 497 arm_dpm.c:963 arm_dpm_setup(): imx31.cpu: hardware has 6 breakpoints, 2 watchpoints
Debug: 258 516 etm.c:505 etm_read_reg_w_check(): ETM_config (1)
Warn : 259 519 etm.c:318 etm_build_reg_cache(): ETMv2+ support is incomplete
Debug: 260 519 etm.c:505 etm_read_reg_w_check(): ETM_id (121)
Debug: 261 521 etm.c:330 etm_build_reg_cache(): ETM ID: 41013211
Info : 262 521 etm.c:356 etm_build_reg_cache(): ETM v3.1
Debug: 263 521 etm.c:505 etm_read_reg_w_check(): ETM_ctrl (0)
Debug: 264 523 etm.c:591 etm_write_reg(): ETM_ctrl (0): 0x00000420
Debug: 265 523 etb.c:233 etb_read_reg_w_check(): 1
Debug: 266 523 etb.c:233 etb_read_reg_w_check(): 2
Debug: 267 525 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_flash init
Debug: 268 525 command.c:133 script_debug(): command - ocd_flash ocd_flash init
Debug: 270 528 arm11.c:342 arm11_poll(): enter TARGET_HALTED
Debug: 271 533 arm_dpm.c:184 dpm_read_reg(): READ: r0, 00000000
Debug: 272 537 armv4_5.c:397 arm_set_cpsr(): set CPSR 0x800001db: Undefined instruction mode, ARM state
Debug: 273 538 arm_dpm.c:184 dpm_read_reg(): READ: r1, 00000000
Debug: 274 540 arm_dpm.c:184 dpm_read_reg(): READ: r2, 00001000
Debug: 275 542 arm_dpm.c:184 dpm_read_reg(): READ: r3, 0a020100
Debug: 276 545 arm_dpm.c:184 dpm_read_reg(): READ: r4, 01080180
Debug: 277 547 arm_dpm.c:184 dpm_read_reg(): READ: r5, 00014080
Debug: 278 549 arm_dpm.c:184 dpm_read_reg(): READ: r6, 00339208
Debug: 279 551 arm_dpm.c:184 dpm_read_reg(): READ: r7, 08012188
Debug: 280 552 arm_dpm.c:184 dpm_read_reg(): READ: r8, 0200000c
Debug: 281 554 arm_dpm.c:184 dpm_read_reg(): READ: r9, 08082081
Debug: 282 556 arm_dpm.c:184 dpm_read_reg(): READ: r10, a0000090
Debug: 283 559 arm_dpm.c:184 dpm_read_reg(): READ: r11, ffffffac
Debug: 284 561 arm_dpm.c:184 dpm_read_reg(): READ: r12, 0c068084
Debug: 285 563 arm_dpm.c:184 dpm_read_reg(): READ: sp_und, 01ffffc4
Debug: 286 565 arm_dpm.c:184 dpm_read_reg(): READ: lr_und, 1fffffe8
Debug: 287 568 arm_dpm.c:184 dpm_read_reg(): READ: pc, 00000004
Debug: 288 574 target.c:1007 target_call_event_callbacks(): target event 2 (gdb-halt)
Debug: 289 574 target.c:1007 target_call_event_callbacks(): target event 3 (halted)
Debug: 291 574 tcl.c:920 handle_flash_init_command(): Initializing flash devices...
Debug: 292 574 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 293 574 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 294 574 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 295 574 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 296 574 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 297 574 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 298 575 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 299 575 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 300 575 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 301 575 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 302 575 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 303 575 command.c:346 register_command_handler(): registering 'ocd_flash'...
Debug: 304 575 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_mflash init
Debug: 305 575 command.c:133 script_debug(): command - ocd_mflash ocd_mflash init
Debug: 307 579 mflash.c:1325 handle_mflash_init_command(): Initializing mflash devices...
Debug: 308 579 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_nand init
Debug: 309 579 command.c:133 script_debug(): command - ocd_nand ocd_nand init
Debug: 311 581 tcl.c:536 handle_nand_init_command(): Initializing NAND devices...
Debug: 312 581 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_pld init
Debug: 313 581 command.c:133 script_debug(): command - ocd_pld ocd_pld init
Debug: 315 583 pld.c:231 handle_pld_init_command(): Initializing PLDs...
Debug: 316 583 gdb_server.c:2370 gdb_target_start(): gdb service for target 'imx31.cpu' on TCP port 3333
Info : 317 11613 server.c:81 add_connection(): accepting 'telnet' connection from 0
Debug: 318 23833 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_reset halt
Debug: 319 23833 command.c:133 script_debug(): command - reset ocd_reset halt
Debug: 321 23834 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_target names
Debug: 322 23834 command.c:133 script_debug(): command - ocd_target ocd_target names
Debug: 323 23834 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu invoke-event reset-start
Debug: 324 23834 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu invoke-event reset-start
Debug: 325 23834 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag arp_init-reset
Debug: 326 23834 command.c:133 script_debug(): command - ocd_jtag ocd_jtag arp_init-reset
Debug: 327 23834 core.c:1480 jtag_init_reset(): Initializing with hard TRST+SRST reset
Debug: 328 23834 ft2232.c:1407 jtagkey_reset(): trst: 1, srst: 0, high_output: 0x08, high_direction: 0x0f
Debug: 329 23834 core.c:721 jtag_add_reset(): TRST line asserted
Debug: 330 23935 ft2232.c:1407 jtagkey_reset(): trst: 1, srst: 1, high_output: 0x00, high_direction: 0x0f
Debug: 331 23935 core.c:696 jtag_add_reset(): SRST line asserted
Debug: 332 24036 ft2232.c:1407 jtagkey_reset(): trst: 0, srst: 1, high_output: 0x01, high_direction: 0x0f
Debug: 333 24036 core.c:726 jtag_add_reset(): TRST line released
Debug: 334 24036 core.c:321 jtag_call_event_callbacks(): jtag event: TAP reset
Debug: 335 24086 ft2232.c:1407 jtagkey_reset(): trst: 0, srst: 0, high_output: 0x09, high_direction: 0x0f
Debug: 336 24087 core.c:701 jtag_add_reset(): SRST line released
Debug: 337 24187 core.c:1393 jtag_init_inner(): Init JTAG chain
Debug: 338 24187 core.c:321 jtag_call_event_callbacks(): jtag event: TAP reset
Debug: 339 24187 core.c:1046 jtag_examine_chain(): DR scan interrogation for IDCODE/BYPASS
Debug: 340 24187 core.c:321 jtag_call_event_callbacks(): jtag event: TAP reset
Info : 341 24190 core.c:946 jtag_examine_chain_display(): JTAG tap: imx31.etb tap/device found: 0x2b900f0f (mfg: 0x787, part: 0xb900, ver: 0x2)
Info : 342 24190 core.c:946 jtag_examine_chain_display(): JTAG tap: imx31.cpu tap/device found: 0x07b3601d (mfg: 0x00e, part: 0x7b36, ver: 0x0)
Info : 343 24190 core.c:1069 jtag_examine_chain(): TAP imx31.whatchacallit does not have IDCODE
Info : 344 24190 core.c:946 jtag_examine_chain_display(): JTAG tap: imx31.smda tap/device found: 0x1190101d (mfg: 0x00e, part: 0x1901, ver: 0x1)
Debug: 345 24190 core.c:1211 jtag_validate_ircapture(): IR capture validation scan
Debug: 346 24192 core.c:1272 jtag_validate_ircapture(): imx31.etb: IR capture 0x01
Debug: 347 24192 core.c:1272 jtag_validate_ircapture(): imx31.cpu: IR capture 0x01
Debug: 348 24192 core.c:1272 jtag_validate_ircapture(): imx31.whatchacallit: IR capture 0x00
Debug: 349 24192 core.c:1272 jtag_validate_ircapture(): imx31.smda: IR capture 0x01
Debug: 350 24192 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu cget -chain-position
Debug: 351 24192 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu cget -chain-position
Debug: 352 24192 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag tapisenabled imx31.cpu
Debug: 353 24192 command.c:133 script_debug(): command - ocd_jtag ocd_jtag tapisenabled imx31.cpu
Debug: 354 24192 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu arp_examine
Debug: 355 24192 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu arp_examine
Info : 356 24196 arm11.c:1235 arm11_examine(): found ARM1136
Debug: 357 24196 arm11.c:1253 arm11_examine(): IDCODE 07b3601d IMPLEMENTOR 41 DIDR 15110004
Debug: 358 24200 arm11.c:61 arm11_check_init(): DSCR 00000002
Debug: 359 24200 arm11.c:62 arm11_check_init(): Bringing target into debug mode
Debug: 360 24217 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu invoke-event reset-assert-pre
Debug: 361 24217 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu invoke-event reset-assert-pre
Debug: 362 24218 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu cget -chain-position
Debug: 363 24218 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu cget -chain-position
Debug: 364 24218 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag tapisenabled imx31.cpu
Debug: 365 24218 command.c:133 script_debug(): command - ocd_jtag ocd_jtag tapisenabled imx31.cpu
Debug: 366 24218 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu arp_reset assert 1
Debug: 367 24218 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu arp_reset assert 1
Debug: 368 24222 ft2232.c:1407 jtagkey_reset(): trst: 0, srst: 1, high_output: 0x01, high_direction: 0x0f
Debug: 369 24222 core.c:696 jtag_add_reset(): SRST line asserted
Debug: 370 24222 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu invoke-event reset-assert-post
Debug: 371 24222 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu invoke-event reset-assert-post
Debug: 372 24222 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu invoke-event reset-deassert-pre
Debug: 373 24222 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu invoke-event reset-deassert-pre
Debug: 374 24222 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu cget -chain-position
Debug: 375 24222 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu cget -chain-position
Debug: 376 24222 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag tapisenabled imx31.cpu
Debug: 377 24222 command.c:133 script_debug(): command - ocd_jtag ocd_jtag tapisenabled imx31.cpu
Debug: 378 24222 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu arp_reset deassert 1
Debug: 379 24222 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu arp_reset deassert 1
Debug: 381 24323 ft2232.c:1407 jtagkey_reset(): trst: 0, srst: 0, high_output: 0x09, high_direction: 0x0f
Debug: 382 24323 core.c:701 jtag_add_reset(): SRST line released
Debug: 383 24323 core.c:321 jtag_call_event_callbacks(): jtag event: TAP reset
Debug: 384 24428 arm11.c:61 arm11_check_init(): DSCR 00000002
Debug: 385 24428 arm11.c:62 arm11_check_init(): Bringing target into debug mode
Warn : 386 24446 arm11.c:803 arm11_deassert_reset(): imx31.cpu: ran after reset and before halt ...
Debug: 387 24446 arm11.c:397 arm11_halt(): target-&gt;state: running
Debug: 388 24454 arm_dpm.c:184 dpm_read_reg(): READ: r0, 83f000f4
Debug: 389 24459 armv4_5.c:397 arm_set_cpsr(): set CPSR 0x800001db: Undefined instruction mode, ARM state
Debug: 390 24462 arm_dpm.c:184 dpm_read_reg(): READ: r1, 00000000
Debug: 391 24464 arm_dpm.c:184 dpm_read_reg(): READ: r2, 00001000
Debug: 392 24466 arm_dpm.c:184 dpm_read_reg(): READ: r3, 0a020100
Debug: 393 24468 arm_dpm.c:184 dpm_read_reg(): READ: r4, 01080180
Debug: 394 24470 arm_dpm.c:184 dpm_read_reg(): READ: r5, 00014080
Debug: 395 24472 arm_dpm.c:184 dpm_read_reg(): READ: r6, 00339208
Debug: 396 24474 arm_dpm.c:184 dpm_read_reg(): READ: r7, 08012188
Debug: 397 24475 arm_dpm.c:184 dpm_read_reg(): READ: r8, 0200000c
Debug: 398 24477 arm_dpm.c:184 dpm_read_reg(): READ: r9, 08082081
Debug: 399 24480 arm_dpm.c:184 dpm_read_reg(): READ: r10, a0000090
Debug: 400 24482 arm_dpm.c:184 dpm_read_reg(): READ: r11, ffffffac
Debug: 401 24484 arm_dpm.c:184 dpm_read_reg(): READ: r12, 0c068084
Debug: 402 24486 arm_dpm.c:184 dpm_read_reg(): READ: sp_und, 01ffffc4
Debug: 403 24488 arm_dpm.c:184 dpm_read_reg(): READ: lr_und, 1fffffe8
Debug: 404 24491 arm_dpm.c:184 dpm_read_reg(): READ: pc, 1fffffdc
Debug: 405 24496 arm11.c:203 arm11_debug_entry(): Reset c1 Control Register
Debug: 406 24504 target.c:1007 target_call_event_callbacks(): target event 2 (gdb-halt)
Debug: 407 24504 target.c:1007 target_call_event_callbacks(): target event 3 (halted)
User : 408 24504 target.c:1273 target_arch_state(): target state: halted
User : 409 24504 armv4_5.c:603 arm_arch_state(): target halted in ARM state due to debug-request, current mode: Undefined instruction
cpsr: 0x800001db pc: 0x1fffffdc
Debug: 410 24510 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu invoke-event reset-deassert-post
Debug: 411 24510 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu invoke-event reset-deassert-post
Debug: 412 24510 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu cget -chain-position
Debug: 413 24510 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu cget -chain-position
Debug: 414 24510 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_jtag tapisenabled imx31.cpu
Debug: 415 24510 command.c:133 script_debug(): command - ocd_jtag ocd_jtag tapisenabled imx31.cpu
Debug: 416 24510 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu arp_waitstate halted 1000
Debug: 417 24510 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu arp_waitstate halted 1000
Debug: 418 24514 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu curstate
Debug: 419 24514 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu curstate
Debug: 420 24514 command.c:133 script_debug(): command - ocd_command ocd_command type ocd_imx31.cpu invoke-event reset-end
Debug: 421 24514 command.c:133 script_debug(): command - ocd_imx31.cpu ocd_imx31.cpu invoke-event reset-end



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015220.html">[Openocd-development] [Fwd: [patch/rfc] NOR: invalidate cached	state on target resume]
</A></li>
	<LI>Next message: <A HREF="015182.html">[Openocd-development] imx31.cpu: ran after reset and before	halt ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15180">[ date ]</a>
              <a href="thread.html#15180">[ thread ]</a>
              <a href="subject.html#15180">[ subject ]</a>
              <a href="author.html#15180">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
