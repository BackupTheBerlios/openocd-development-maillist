<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] Fix underlying problem with	xscale icache and dcache commands
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-March/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20Fix%20underlying%20problem%20with%0A%09xscale%20icache%20and%20dcache%20commands&In-Reply-To=%3C201003191659.o2JGx5qH054848%40member.newsguy.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="015283.html">
   <LINK REL="Next"  HREF="015290.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] Fix underlying problem with	xscale icache and dcache commands</H1>
    <B>mikedunn at newsguy.com</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20Fix%20underlying%20problem%20with%0A%09xscale%20icache%20and%20dcache%20commands&In-Reply-To=%3C201003191659.o2JGx5qH054848%40member.newsguy.com%3E"
       TITLE="[Openocd-development] [PATCH] Fix underlying problem with	xscale icache and dcache commands">mikedunn at newsguy.com
       </A><BR>
    <I>Fri Mar 19 17:59:05 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="015283.html">[Openocd-development] [PATCH 5/5] jtag: retire	jtag_get/set_end_state()
</A></li>
        <LI>Next message: <A HREF="015290.html">[Openocd-development] [PATCH 1/2] jtag: move towards making	out_value const
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15287">[ date ]</a>
              <a href="thread.html#15287">[ thread ]</a>
              <a href="subject.html#15287">[ subject ]</a>
              <a href="author.html#15287">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>
&gt;<i>It' tended not to start up properly on my PXA255.  Resetting doesn't
</I>&gt;<i>work reliably the second time through.  And it's been useless at finding
</I>&gt;<i>out why for example Linux wedges part way through startup.
</I>
I've been playing with Palm Treo 650 and 680 GSM smartphones with wires
soldered onto the JTAG pins.  These both have a pxa270, and are great, fully
loaded development platforms.  All the OpenOCD fundamentals seem to be
working, except the issue with software breakpoints and the caches.  I'm using
a cheap parallel port wiggler from Olimex.  The Treos have a pull-up on TRST,
which is necessary for the wiggler since it can't drive that line.  System
reset is included with the JTAG signals.  Reset works reliably every time. 
I'm able to initialize the SDRAM controller in my reset-init event handler,
and subsequently download and execute code.  I plan to use OpenOCD for Linux
development (and also to help with reverse-engineering the hardware while
PalmOS is running).  I haven't succeeded in full kernel start-up yet, but I
have gone through the point where the MMU and caches are enabled (always the
tricky part), and can single step and run to hardware breakpoints thereafter.

&gt;<i>We've been fixing a lot of those cache problems with software breakpointing
</I>&gt;<i>over the last 6-8 months or so.  It'll be good to see XScale fixed too.
</I>
I seem to have this resolved on xscale.  Will submit a patch when I'm sure
all's well.

Mike

----


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="015283.html">[Openocd-development] [PATCH 5/5] jtag: retire	jtag_get/set_end_state()
</A></li>
	<LI>Next message: <A HREF="015290.html">[Openocd-development] [PATCH 1/2] jtag: move towards making	out_value const
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#15287">[ date ]</a>
              <a href="thread.html#15287">[ thread ]</a>
              <a href="subject.html#15287">[ subject ]</a>
              <a href="author.html#15287">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
