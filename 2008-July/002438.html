<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] External scripting of OpenOCD
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20External%20scripting%20of%20OpenOCD&In-Reply-To=%3Cc09652430807090012k3a4d7030sfd56409db5edb49c%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002437.html">
   <LINK REL="Next"  HREF="002439.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] External scripting of OpenOCD</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20External%20scripting%20of%20OpenOCD&In-Reply-To=%3Cc09652430807090012k3a4d7030sfd56409db5edb49c%40mail.gmail.com%3E"
       TITLE="[Openocd-development] External scripting of OpenOCD">oyvind.harboe at zylin.com
       </A><BR>
    <I>Wed Jul  9 09:12:36 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002437.html">[Openocd-development] External scripting of OpenOCD
</A></li>
        <LI>Next message: <A HREF="002439.html">[Openocd-development] External scripting of OpenOCD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2438">[ date ]</a>
              <a href="thread.html#2438">[ thread ]</a>
              <a href="subject.html#2438">[ subject ]</a>
              <a href="author.html#2438">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Wed, Jul 9, 2008 at 4:26 AM, Duane Ellis &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd at duaneellis.com</A>&gt; wrote:
&gt;<i> &#216;yvind &gt; [ idea is basically &quot;language.tcl' - where if you use language
</I>&gt;<i> foo - you have a 'foo.tcl' file]
</I>&gt;<i>
</I>&gt;<i> First:
</I>&gt;<i>
</I>&gt;<i> I think we can come up with ONE simple reply format that *ALL* host apps
</I>&gt;<i> can parse.
</I>
I don't see the need for *any* format.

My thinking is that the API is the tcl you send in, not the return format.
The return format is according to the convention in the frontend language.tcl
you use. language.tcl itself should be considered part of the application,
not the API.

That said, many scripting languages may be happy with what Tcl
returns natively.

Perhaps that's the only thing that is needed.

However, I don't want to make this decision on behalf of the user. He may
*want* to do things differently than what I envisioned the world.

It is *much* easier to write a routine that formats the output
differently than to parse that output when it is in some unsuitable format
and then massaging the data.

+ implementation is easy :-)

Pass tcl in, get string back. Already implemented in all three
transports.


I think the tricky bit is that e.g. &quot;mdw&quot; has a human readable
syntax and I believe we'll simply have to reimplement som of
them rather than try to massage in some code that produces
acceptable tcl output for e.g. &quot;mdw&quot;.

Another thing I worry about is that *all* openocd commands
are available. While powerful, we can now break *programs*
instead of just people.

I feel the need to ponder this problem quite a bit more before
I have anything that I would toss up as an API :-)


-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002437.html">[Openocd-development] External scripting of OpenOCD
</A></li>
	<LI>Next message: <A HREF="002439.html">[Openocd-development] External scripting of OpenOCD
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2438">[ date ]</a>
              <a href="thread.html#2438">[ thread ]</a>
              <a href="subject.html#2438">[ subject ]</a>
              <a href="author.html#2438">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
