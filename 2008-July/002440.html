<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] External scripting of OpenOCD
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20External%20scripting%20of%20OpenOCD&In-Reply-To=%3Cc09652430807090138r168cffe5x9fdbb5a40cbdedd2%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002439.html">
   <LINK REL="Next"  HREF="002429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] External scripting of OpenOCD</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20External%20scripting%20of%20OpenOCD&In-Reply-To=%3Cc09652430807090138r168cffe5x9fdbb5a40cbdedd2%40mail.gmail.com%3E"
       TITLE="[Openocd-development] External scripting of OpenOCD">oyvind.harboe at zylin.com
       </A><BR>
    <I>Wed Jul  9 10:38:35 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002439.html">[Openocd-development] External scripting of OpenOCD
</A></li>
        <LI>Next message: <A HREF="002429.html">[Openocd-development] execute resume script patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2440">[ date ]</a>
              <a href="thread.html#2440">[ thread ]</a>
              <a href="subject.html#2440">[ subject ]</a>
              <a href="author.html#2440">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Hello,
</I>&gt;<i>
</I>&gt;<i> If I understood correctly, the external scripting is to be done by
</I>&gt;<i> submitting commands to TCL server.
</I>
More precisely: by submitting tcl. The tcl can invoke OpenOCD commands.

&gt;<i>So at least result of the TCL command processing itself
</I>&gt;<i> shall be returned in defined format, or have I missed something?
</I>
What is returned is simply the output of the tcl command.

The problem is that code has to *parse* the output from tcl.

Tcl can more easily parse tcl output than Lua could(I guess anyway).

E.g. an array is returned as a string in Tcl from a procedure. Everything
in Tcl is a string.

{1 2 3 4 5}

So on a host PC running tcl one would simply use the returned string
as an array directly. No conversion or parsing necesary.

Lua would, however, need to parse the returned string into an array.

My thinking is that it is easier to convert the array into Lua speak
from Jim Tcl than to parse Tcl array in Lua.

However, the code that would reformat tcl strings into Lua speak is
part of the application(running inside OpenOCD) rather than part
of the API.


-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002439.html">[Openocd-development] External scripting of OpenOCD
</A></li>
	<LI>Next message: <A HREF="002429.html">[Openocd-development] execute resume script patch
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2440">[ date ]</a>
              <a href="thread.html#2440">[ thread ]</a>
              <a href="subject.html#2440">[ subject ]</a>
              <a href="author.html#2440">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
