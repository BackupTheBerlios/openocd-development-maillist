<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] openocd &amp; tcl function return values.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20openocd%20%26%20tcl%20function%20return%20values.&In-Reply-To=%3Cc09652430807131042q4243f6dod1535ed8fd2a8d55%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002517.html">
   <LINK REL="Next"  HREF="002543.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] openocd &amp; tcl function return values.</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20openocd%20%26%20tcl%20function%20return%20values.&In-Reply-To=%3Cc09652430807131042q4243f6dod1535ed8fd2a8d55%40mail.gmail.com%3E"
       TITLE="[Openocd-development] openocd &amp; tcl function return values.">oyvind.harboe at zylin.com
       </A><BR>
    <I>Sun Jul 13 19:42:17 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002517.html">[Openocd-development] openocd &amp; tcl function return values.
</A></li>
        <LI>Next message: <A HREF="002543.html">[Openocd-development] openocd &amp; tcl function return values.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2538">[ date ]</a>
              <a href="thread.html#2538">[ thread ]</a>
              <a href="subject.html#2538">[ subject ]</a>
              <a href="author.html#2538">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Sat, Jul 12, 2008 at 6:52 PM, Duane Ellis &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">openocd at duaneellis.com</A>&gt; wrote:
&gt;<i> &#216;yvind,
</I>&gt;<i>
</I>&gt;<i> I have a suggestion about the return values of
</I>&gt;<i> certain functions implemented in OpenOCD/Jim/TCL,
</I>&gt;<i> it is as follows, and it would remove my entire
</I>&gt;<i> objection ...
</I>&gt;<i>
</I>&gt;<i> Simply use associative arrays for return values where appropriate.
</I>
Does Jim Tcl support them? Perhaps there is a patch floating out
there we could pull in.

[long explanation removed]

My problem with the above was that I didn't understand it
after a single try. It seems awfully complicated.

I'd like to see a crisp way to have named return values. I'm not
crazy about flash_info as defined today, but it was intended to
show how a low level API fn could be used to implement &quot;flash
banks&quot;(high level GUI command).

&gt;<i> What I do not like and strongly object to is magic hard coded
</I>&gt;<i> array index numbers for example - 'startup.tcl'
</I>&gt;<i> See: &quot;flash_banks_pretty&quot;
</I>
I don't like it either, but it is less complex that what you suggested.

I'm happy to wait until an approach that satisfies the simplicity(especially
in terms of explaining it) and also names the results comes along.

&gt;<i>
</I>&gt;<i> For the size result, you do this today:
</I>&gt;<i>
</I>&gt;<i>    puts [format &quot;Size: %d&quot; [lindex $a 4]]
</I>&gt;<i>
</I>&gt;<i> This would change to:
</I>&gt;<i>
</I>&gt;<i>    puts [format &quot;Size: %d&quot; $a(size) ]
</I>
This looks good.


-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002517.html">[Openocd-development] openocd &amp; tcl function return values.
</A></li>
	<LI>Next message: <A HREF="002543.html">[Openocd-development] openocd &amp; tcl function return values.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2538">[ date ]</a>
              <a href="thread.html#2538">[ thread ]</a>
              <a href="subject.html#2538">[ subject ]</a>
              <a href="author.html#2538">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
