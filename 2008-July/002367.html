<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Subject: [PATCH] building with jim on linux
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Subject%3A%20%5BPATCH%5D%20building%20with%20jim%20on%20linux&In-Reply-To=%3C200807041815.m64IFWpl006056%40hades%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002382.html">
   <LINK REL="Next"  HREF="002371.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Subject: [PATCH] building with jim on linux</H1>
    <B>Charles Hardin</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Subject%3A%20%5BPATCH%5D%20building%20with%20jim%20on%20linux&In-Reply-To=%3C200807041815.m64IFWpl006056%40hades%3E"
       TITLE="[Openocd-development] Subject: [PATCH] building with jim on linux">ckhardin at gmail.com
       </A><BR>
    <I>Fri Jul  4 20:15:32 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002382.html">[Openocd-development] Polling target failure with SVN 754M	onSTM32	chips
</A></li>
        <LI>Next message: <A HREF="002371.html">[Openocd-development] Subject: [PATCH] building with jim on	linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2367">[ date ]</a>
              <a href="thread.html#2367">[ thread ]</a>
              <a href="subject.html#2367">[ subject ]</a>
              <a href="author.html#2367">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>jim is setup to support dynamic load, so you can either turn that off     
using the #define or need to link against a dlopen

I believe this is the &quot;correct&quot; autoconf way to solve it

Index: configure.in
===================================================================
--- configure.in        (revision 749)
+++ configure.in        (working copy)
@@ -19,6 +19,8 @@
 AC_CHECK_FUNCS(strnlen)
 AC_CHECK_FUNCS(gettimeofday)
 AC_CHECK_FUNCS(usleep)
+AC_CHECK_FUNCS(dlopen)
+AC_CHECK_LIB([dl], [dlopen], [])
 
 build_bitbang=no
 build_bitq=no

.
Cc: 
[PATCH] building with jim on linux

Slight hiccup with the latest changes in the tip of head

jim is setup to support dynamic load, so you can either turn that off     
using the #define or need to link against a dlopen

I believe this is the &quot;correct&quot; autoconf way to solve it

Index: configure.in
===================================================================
--- configure.in        (revision 749)
+++ configure.in        (working copy)
@@ -19,6 +19,8 @@
 AC_CHECK_FUNCS(strnlen)
 AC_CHECK_FUNCS(gettimeofday)
 AC_CHECK_FUNCS(usleep)
+AC_CHECK_FUNCS(dlopen)
+AC_CHECK_LIB([dl], [dlopen], [])
 
 build_bitbang=no
 build_bitq=no


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002382.html">[Openocd-development] Polling target failure with SVN 754M	onSTM32	chips
</A></li>
	<LI>Next message: <A HREF="002371.html">[Openocd-development] Subject: [PATCH] building with jim on	linux
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2367">[ date ]</a>
              <a href="thread.html#2367">[ thread ]</a>
              <a href="subject.html#2367">[ subject ]</a>
              <a href="author.html#2367">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
