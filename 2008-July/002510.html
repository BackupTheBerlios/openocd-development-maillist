<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] OpenOCD scripting API - no over-the-wire	format at all
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20scripting%20API%20-%20no%20over-the-wire%0A%09format%20at%20all&In-Reply-To=%3Cc09652430807120413u36b8339dq69aa91833e2a1ee7%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002509.html">
   <LINK REL="Next"  HREF="002512.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] OpenOCD scripting API - no over-the-wire	format at all</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OpenOCD%20scripting%20API%20-%20no%20over-the-wire%0A%09format%20at%20all&In-Reply-To=%3Cc09652430807120413u36b8339dq69aa91833e2a1ee7%40mail.gmail.com%3E"
       TITLE="[Openocd-development] OpenOCD scripting API - no over-the-wire	format at all">oyvind.harboe at zylin.com
       </A><BR>
    <I>Sat Jul 12 13:13:51 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002509.html">[Openocd-development] Switching .cfg files to tcl
</A></li>
        <LI>Next message: <A HREF="002512.html">[Openocd-development] OpenOCD scripting API - no over-the-wire format at all
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2510">[ date ]</a>
              <a href="thread.html#2510">[ thread ]</a>
              <a href="subject.html#2510">[ subject ]</a>
              <a href="author.html#2510">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>It just occurred to me:

Even if we allow TCP/IP connections to talk to the OpenOCD, that doesn't
make the format on the wire the API.

A HTTP server is a server where the client is under no circumstances allowed
to execute code on the server.

With OpenOCD this is not the case. The client *decides* what code to
run on the server(e.g. on the OpenOCD command line + injects scriptlets, etc.)

Therefore my intention is to modify the current OpenOCD tcl server to invoke a
tcl proc which, by default, executes the string received and returns it.
Probably some event procs for connect/disconnect.

The client can define any proc to handle incoming data and return
whatever he wants.

This makes the OpenOCD API simple Tcl calls.

The server and it's over the wire format is *not* part of the API.

The default Tcl procs and the input/output format to handle connections
becomes &quot;best practice&quot; or an example rather than an actual part of the API.



-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002509.html">[Openocd-development] Switching .cfg files to tcl
</A></li>
	<LI>Next message: <A HREF="002512.html">[Openocd-development] OpenOCD scripting API - no over-the-wire format at all
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2510">[ date ]</a>
              <a href="thread.html#2510">[ thread ]</a>
              <a href="subject.html#2510">[ subject ]</a>
              <a href="author.html#2510">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
