<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Retire reset_mode option to target
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Retire%20reset_mode%20option%20to%20target&In-Reply-To=%3Cc09652430807172310rf9dca47r98f95e03c63bec14%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002610.html">
   <LINK REL="Next"  HREF="002621.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Retire reset_mode option to target</H1>
    <B>&#216;yvind Harboe</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Retire%20reset_mode%20option%20to%20target&In-Reply-To=%3Cc09652430807172310rf9dca47r98f95e03c63bec14%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Retire reset_mode option to target">oyvind.harboe at zylin.com
       </A><BR>
    <I>Fri Jul 18 08:10:28 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002610.html">[Openocd-development] Retire reset_mode option to target
</A></li>
        <LI>Next message: <A HREF="002621.html">[Openocd-development] Retire reset_mode option to target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2616">[ date ]</a>
              <a href="thread.html#2616">[ thread ]</a>
              <a href="subject.html#2616">[ subject ]</a>
              <a href="author.html#2616">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Thu, Jul 17, 2008 at 10:02 PM, Magnus Lundin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">lundin at mlu.mine.nu</A>&gt; wrote:
&gt;&gt;<i> On Thu, Jul 17, 2008 at 8:41 PM, Spen &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">spen at spen-soft.co.uk</A>&gt; wrote:
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;&gt;<i> Any objections?
</I>&gt;&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Personally i would prefer to keep the existing behaviour.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I guess you mean that you are speaking on behalf of what users
</I>&gt;&gt;<i> would want?
</I>&gt;<i>
</I>&gt;<i> That is a VERY good argument !
</I>&gt;<i>
</I>&gt;&gt;<i> The problem is that the behaviour is *unexpected*.
</I>&gt;<i> Why &quot;unexpected&quot;?
</I>
Would an end user expect the following sequence to work from GDB
using a tested configuration script for his target?

reset
load

I'd have to say yes.

If &quot;reset&quot; does not execute the init sequence, then the answer
is &quot;possibly&quot;.


&gt;&gt;<i> If there is a reset init script, then why isn't it run by default as it
</I>&gt;&gt;<i> is for other tools? OpenOCD is a bit off the beaten track here having
</I>&gt;&gt;<i> this config option.
</I>&gt;<i> If there is a reset init script and a reset_init command, of course the
</I>&gt;<i> init script should be run. If I do a reset, there are many possible
</I>&gt;<i> scenarios where I want to keep as much processor state as possible, so
</I>&gt;<i> reset halt is a very reasonable bahiviour unless a different default reset
</I>&gt;<i> behaviour is specified.
</I>
I don't know what to make of the above. You are an expert on these
things, so you understand all the different types of resets and you
have all of them available to you.

I'm trying to understand what this means for less seasoned users.

&gt;&gt;<i> Minimally I'd like to require all scripts in the target library to
</I>&gt;&gt;<i> have reset_init as the reset behaviour.
</I>&gt;<i> Please, let us try to make core OpenOCD as stable and versatile as
</I>&gt;<i> possible, and not demand default behaviour. Please refrain from the
</I>&gt;<i> &quot;require&quot;. It is perfectly OK to write a target library with reset_init as
</I>&gt;<i> reset bahaviour. It is a very different thing to &quot;require&quot; rthis
</I>&gt;<i> behaviour.
</I>
When I say &quot;target library&quot; I'm referring to scripts committed to
src/target/target in OpenOCD. You can do anything you want
with your own configuration scripts.

The scripts in src/target/target (should) follow the rules laid out in
src/target/target/readme.txt


With the new tcl stuff, there will be all the configurability experts
could ever want.


-- 
&#216;yvind Harboe
<A HREF="http://www.zylin.com/zy1000.html">http://www.zylin.com/zy1000.html</A>
ARM7 ARM9 XScale Cortex
JTAG debugger and flash programmer

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002610.html">[Openocd-development] Retire reset_mode option to target
</A></li>
	<LI>Next message: <A HREF="002621.html">[Openocd-development] Retire reset_mode option to target
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2616">[ date ]</a>
              <a href="thread.html#2616">[ thread ]</a>
              <a href="subject.html#2616">[ subject ]</a>
              <a href="author.html#2616">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
