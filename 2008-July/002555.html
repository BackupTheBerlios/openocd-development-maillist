<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH] objcopy prefixes with '_' on linux
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2008-July/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20objcopy%20prefixes%20with%20%27_%27%20on%20linux&In-Reply-To=%3C487B3497.2060405%40eCosCentric.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002524.html">
   <LINK REL="Next"  HREF="002522.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH] objcopy prefixes with '_' on linux</H1>
    <B>Jonathan Larmour</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%5D%20objcopy%20prefixes%20with%20%27_%27%20on%20linux&In-Reply-To=%3C487B3497.2060405%40eCosCentric.com%3E"
       TITLE="[Openocd-development] [PATCH] objcopy prefixes with '_' on linux">jifl at eCosCentric.com
       </A><BR>
    <I>Mon Jul 14 13:12:23 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="002524.html">[Openocd-development] [PATCH] objcopy prefixes with '_' on linux
</A></li>
        <LI>Next message: <A HREF="002522.html">[Openocd-development] PATCH - svn 800 - 'tcl puts' command does not	work.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2555">[ date ]</a>
              <a href="thread.html#2555">[ thread ]</a>
              <a href="subject.html#2555">[ subject ]</a>
              <a href="author.html#2555">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Charles Hardin wrote:
&gt;<i> Ok, so what is the preferred solution?
</I>&gt;<i> 
</I>&gt;<i> 1. stick with objcopy and do the #ifdef
</I>&gt;<i> 2. stick with objcopy and do an external script to rename the symbols
</I>&gt;<i> 3. go back to making a startup.c - maybe use a bin2hex c program
</I>&gt;<i> instead of tclsh
</I>&gt;<i> 
</I>&gt;<i> I don't like 1 since there are problems with objcopy behavior - if you
</I>&gt;<i> pass src/startup.tcl is different then passing statup.tcl
</I>&gt;<i> 
</I>&gt;<i> Number 2 requires a dependance on a script language or tool (ie. sed,
</I>&gt;<i> perl, or something) which is why I think tclsh got removed to begin
</I>&gt;<i> with.
</I>
I don't think you don't need to. objcopy has this:
     --redefine-sym &lt;old&gt;=&lt;new&gt;    Redefine symbol name &lt;old&gt; to &lt;new&gt;

So I guess you can run objcopy to convert the name you don't want to the
name you do, and ignore any errors when you do so (if it already had the
right name).

Jifl
-- 
eCosCentric Limited      <A HREF="http://www.eCosCentric.com/">http://www.eCosCentric.com/</A>     The eCos experts
Barnwell House, Barnwell Drive, Cambridge, UK.       Tel: +44 1223 245571
Registered in England and Wales: Reg No 4422071.
------[&quot;Si fractum non sit, noli id reficere&quot;]------       Opinions==mine

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002524.html">[Openocd-development] [PATCH] objcopy prefixes with '_' on linux
</A></li>
	<LI>Next message: <A HREF="002522.html">[Openocd-development] PATCH - svn 800 - 'tcl puts' command does not	work.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2555">[ date ]</a>
              <a href="thread.html#2555">[ thread ]</a>
              <a href="subject.html#2555">[ subject ]</a>
              <a href="author.html#2555">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
