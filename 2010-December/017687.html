<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] reset_config on Olimex STM32 boards
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%3D%3Futf-8%3Fq%3Freset%3D5Fconfig_on_Olimex_STM32_bo%3F%3D%0A%09%3D%3Futf-8%3Fq%3Fards%3F%3D&In-Reply-To=%3Cloom.20101217T230253-689%40post.gmane.org%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017705.html">
   <LINK REL="Next"  HREF="017688.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] reset_config on Olimex STM32 boards</H1>
    <B>Tormod Volden</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%3D%3Futf-8%3Fq%3Freset%3D5Fconfig_on_Olimex_STM32_bo%3F%3D%0A%09%3D%3Futf-8%3Fq%3Fards%3F%3D&In-Reply-To=%3Cloom.20101217T230253-689%40post.gmane.org%3E"
       TITLE="[Openocd-development] reset_config on Olimex STM32 boards">lists.tormod at gmail.com
       </A><BR>
    <I>Fri Dec 17 23:08:39 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017705.html">[Openocd-development] Proposal: update IXP42x config files
</A></li>
        <LI>Next message: <A HREF="017688.html">[Openocd-development] reset_config on Olimex STM32 boards
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17687">[ date ]</a>
              <a href="thread.html#17687">[ thread ]</a>
              <a href="subject.html#17687">[ subject ]</a>
              <a href="author.html#17687">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi, I have an IAR (Olimex OEM) STM32-SK board which has an RST to TRST jumper,
soldered together from the factory, like is also commented here:
<A HREF="http://www.micromouseonline.com/blog/2008/08/05/stm32-and-the-seggeriar-j-link/">http://www.micromouseonline.com/blog/2008/08/05/stm32-and-the-seggeriar-j-link/</A>

To use it with openocd via the IAR (Segger OEM) j-link I have to run
&quot;reset_config trst_and_srst&quot; which yields this config:
(openocd) reset_config               
trst_and_srst separate srst_gates_jtag trst_push_pull srst_open_drain

The board is similar to <A HREF="http://olimex.com/dev/stm32-h103.html">http://olimex.com/dev/stm32-h103.html</A> which, AFAICS from
the photos, also have the R-T jumper soldered. Interestingly this web page says
to unsolder the jumper if using an RLINK. I don't know if there is a
reset_config setting that can work with RLINK in the same way, instead of
unsoldering. I also don't know if unsoldering on my board helps. Anyway, the
point is that these cards seem to have the jumper soldered from the factory.

As a first question, I therefore wonder if &quot;reset_config trst_and_srst&quot; could be
added to tcl/board/olimex_stm32_h103.cfg? I would be glad to provide a patch.

Secondly, I do not understand from the documentation why this is correct.
Section 9.2 under &quot;Signals shorted&quot; says to use the
&quot;reset_config combination options&quot;, however it is not clearly listed which of
the options are of &quot;combination&quot; type. Naively I tried &quot;combined&quot; but that does
not work, it needs &quot;separate&quot;. Is trst_and_srst a &quot;combination&quot;? If someone
could explain this well enough for me to understand it I would be glad to
suggest a documentation patch as well.

Best regards,
Tormod

BTW, the online html documentation is empty:
<A HREF="http://openocd.berlios.de/doc/html/index.html">http://openocd.berlios.de/doc/html/index.html</A>



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017705.html">[Openocd-development] Proposal: update IXP42x config files
</A></li>
	<LI>Next message: <A HREF="017688.html">[Openocd-development] reset_config on Olimex STM32 boards
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17687">[ date ]</a>
              <a href="thread.html#17687">[ thread ]</a>
              <a href="subject.html#17687">[ subject ]</a>
              <a href="author.html#17687">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
