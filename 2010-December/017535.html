<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Problems stepping in GDB on the luminary	lm3s6965.
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Problems%20stepping%20in%20GDB%20on%20the%20luminary%0A%09lm3s6965.&In-Reply-To=%3CAANLkTimaKt0SyZTE%2BSHTg0M0FmU86xRUBpE3gJ4bYD2T%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017530.html">
   <LINK REL="Next"  HREF="017541.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Problems stepping in GDB on the luminary	lm3s6965.</H1>
    <B>Drasko DRASKOVIC</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Problems%20stepping%20in%20GDB%20on%20the%20luminary%0A%09lm3s6965.&In-Reply-To=%3CAANLkTimaKt0SyZTE%2BSHTg0M0FmU86xRUBpE3gJ4bYD2T%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Problems stepping in GDB on the luminary	lm3s6965.">drasko.draskovic at gmail.com
       </A><BR>
    <I>Tue Dec  7 19:55:52 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017530.html">[Openocd-development] Problems stepping in GDB on the luminary lm3s6965.
</A></li>
        <LI>Next message: <A HREF="017541.html">[Openocd-development] Problems stepping in GDB on the luminary	lm3s6965.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17535">[ date ]</a>
              <a href="thread.html#17535">[ thread ]</a>
              <a href="subject.html#17535">[ subject ]</a>
              <a href="author.html#17535">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Tue, Dec 7, 2010 at 5:13 PM, Freddie Chopin &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">freddie_chopin at op.pl</A>&gt; wrote:
&gt;<i> On 2010-12-03 23:27, Ian Lambert wrote:
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hey guys. I've been using the Openocd-0.4.0 with the Olimex ARM-USB-TINY
</I>&gt;&gt;<i> Jtag on the Luminary lm3s6965 chip (Running FreeRTOS) for a while, and
</I>&gt;&gt;<i> I've noticed some major problems with stepping in GDB.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> If it's of any help, I am using the Codesourcery arm-2009q3 toolchain.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> I'd appreciate any help.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Ian Lambert
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Every time I try to step one line of code or to step into a function, I
</I>&gt;&gt;<i> end up breaking in an ISR.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Has anyone experienced similar problems?
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> (I've attached my configuration for the perusal of anyone interested)
</I>&gt;<i>
</I>&gt;<i> IMO this is perfectly normal and I experience similar behaviour on STM32,
</I>&gt;<i> especially with timers or UART. When the core is halted, some peripherals
</I>&gt;<i> actually work normally (timers) or almost normally(UART), so for example a
</I>&gt;<i> timer match interrupt is reported, new chars in the UART are waiting etc. On
</I>&gt;<i> STM32 timers (and some peripherals) can be stopped in halt mode (using
</I>&gt;<i> DBGMCU registers) and that's the only solution... IMO it's almost impossible
</I>&gt;<i> to debug code that heavily uses such interrupts (when the peripherals are
</I>&gt;<i> running when the core is halted). Only breakpoints solve this issue
</I>&gt;<i> partially.
</I>
Then I guess you can mask the INTs to check if this is the case, or
error in OpenOCD.
If OpenOCD is working correctly (most probably), maybe by masking one
by one line you can localize INT that is giving you headache...

BR,
Drasko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017530.html">[Openocd-development] Problems stepping in GDB on the luminary lm3s6965.
</A></li>
	<LI>Next message: <A HREF="017541.html">[Openocd-development] Problems stepping in GDB on the luminary	lm3s6965.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17535">[ date ]</a>
              <a href="thread.html#17535">[ thread ]</a>
              <a href="subject.html#17535">[ subject ]</a>
              <a href="author.html#17535">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
