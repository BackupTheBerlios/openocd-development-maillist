<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] (patch) Change target script for LPC2478
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%28patch%29%20Change%20target%20script%20for%20LPC2478&In-Reply-To=%3C653668.80205.qm%40web27308.mail.ukl.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017453.html">
   <LINK REL="Next"  HREF="017415.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] (patch) Change target script for LPC2478</H1>
    <B>Rolf Meeser</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%28patch%29%20Change%20target%20script%20for%20LPC2478&In-Reply-To=%3C653668.80205.qm%40web27308.mail.ukl.yahoo.com%3E"
       TITLE="[Openocd-development] (patch) Change target script for LPC2478">rolfm_9dq at yahoo.de
       </A><BR>
    <I>Fri Dec  3 14:31:44 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017453.html">[Openocd-development] (patch) New board config for Embedded Artists LPC2478-32
</A></li>
        <LI>Next message: <A HREF="017415.html">[Openocd-development] (patch) Change target script for LPC2478
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17414">[ date ]</a>
              <a href="thread.html#17414">[ thread ]</a>
              <a href="subject.html#17414">[ subject ]</a>
              <a href="author.html#17414">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi,

This patch allows a board script to specify the CPU clock of the LPC2478 target.

The clock frequency used to be fixed to 4 MHz. However, there is no default frequency for this CPU. You mustn't assume prior knowledge of the clock frequency, but rather demand that the user (board script) specifies it.

This clock frequency is the CPU clock at the time of flash programming! Usually board scripts will enable the PLL to speed up debugging/programming. This MUST be the correct frequency, or flash programming will fail or produce unreliable results.

This will break all LPC2478 board or user scripts. Users must add the intended operating clock frequency before they include the target script:
&gt;<i> set CCLK 72000
</I>&gt;<i> source [find target/lpc2478.cfg]
</I>
Regards,
Rolf

-------------- next part --------------
A non-text attachment was scrubbed...
Name: 0005-lpc2478-target-config-CCLK-as-mandatory-parameter.patch
Type: text/x-patch
Size: 1402 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/openocd-development/attachments/20101203/c665888d/attachment.bin">https://lists.berlios.de/pipermail/openocd-development/attachments/20101203/c665888d/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017453.html">[Openocd-development] (patch) New board config for Embedded Artists LPC2478-32
</A></li>
	<LI>Next message: <A HREF="017415.html">[Openocd-development] (patch) Change target script for LPC2478
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17414">[ date ]</a>
              <a href="thread.html#17414">[ thread ]</a>
              <a href="subject.html#17414">[ subject ]</a>
              <a href="author.html#17414">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
