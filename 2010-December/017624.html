<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Reseting the SoC gives wrong reset values
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Reseting%20the%20SoC%20gives%20wrong%20reset%20values&In-Reply-To=%3CAANLkTim%2Byc8eZMY_q%3Dp%3DfSyT0248%2BFKGbfoeuXJgCDjw%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017633.html">
   <LINK REL="Next"  HREF="017626.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Reseting the SoC gives wrong reset values</H1>
    <B>Drasko DRASKOVIC</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Reseting%20the%20SoC%20gives%20wrong%20reset%20values&In-Reply-To=%3CAANLkTim%2Byc8eZMY_q%3Dp%3DfSyT0248%2BFKGbfoeuXJgCDjw%40mail.gmail.com%3E"
       TITLE="[Openocd-development] Reseting the SoC gives wrong reset values">drasko.draskovic at gmail.com
       </A><BR>
    <I>Mon Dec 13 12:14:50 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017633.html">[Openocd-development] Aborted; stm32 with too high clock
</A></li>
        <LI>Next message: <A HREF="017626.html">[Openocd-development] Reseting the SoC gives wrong reset values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17624">[ date ]</a>
              <a href="thread.html#17624">[ thread ]</a>
              <a href="subject.html#17624">[ subject ]</a>
              <a href="author.html#17624">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi all,
I run into strange behavior with reset of my SoC.

I am using &quot;arm9 vector_catch reset&quot; to catch the reset event from the
button on the board, although &quot;reset halt&quot; gives the similar results,
where I defined reset-assert procedure to write a byte in a SOC_RESET
register.
After executing the reset I am observing that some registers,
especially &quot;Clock gate enable&quot; (for MII or AUX) registers are kept at
0x0, when correct reset value is 0x1 (i.e. enabled).

Doing the same reset with Lauterbach probe (and software) gives
correct results, OK reset and good reset values for these registers,
so I am suspecting that OpenOCD is not doing something correctly.

This kind of behavior can be very dangerous, as the system software
relays on correct reset values, and I have no idea what oter registers
can be bad initialized by OpenOCD after reset.

Did someone run into the similar problem and do you have any idea how
this should be investigated. I appreciate any help or ideas.

Kind regards,
Drasko

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017633.html">[Openocd-development] Aborted; stm32 with too high clock
</A></li>
	<LI>Next message: <A HREF="017626.html">[Openocd-development] Reseting the SoC gives wrong reset values
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17624">[ date ]</a>
              <a href="thread.html#17624">[ thread ]</a>
              <a href="subject.html#17624">[ subject ]</a>
              <a href="author.html#17624">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
