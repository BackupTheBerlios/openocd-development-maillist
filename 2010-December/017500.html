<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] Getting rid of default jtag clock rate
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Getting%20rid%20of%20default%20jtag%20clock%20rate&In-Reply-To=%3C4CFCAB75.5010208%40amontec.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017499.html">
   <LINK REL="Next"  HREF="017501.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] Getting rid of default jtag clock rate</H1>
    <B>Laurent Gauch</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20Getting%20rid%20of%20default%20jtag%20clock%20rate&In-Reply-To=%3C4CFCAB75.5010208%40amontec.com%3E"
       TITLE="[Openocd-development] Getting rid of default jtag clock rate">laurent.gauch at amontec.com
       </A><BR>
    <I>Mon Dec  6 10:23:01 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017499.html">[Openocd-development] Getting rid of default jtag clock rate
</A></li>
        <LI>Next message: <A HREF="017501.html">[Openocd-development] Getting rid of default jtag clock rate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17500">[ date ]</a>
              <a href="thread.html#17500">[ thread ]</a>
              <a href="subject.html#17500">[ subject ]</a>
              <a href="author.html#17500">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>&gt;<i> Does anyone have any objections to getting rid of the
</I>&gt;<i> concept of a default JTAG clock rate?
</I>&gt;<i>
</I>&gt;<i> Basically, I'd like OpenOCD to refuse to start until the
</I>&gt;<i> script defines the clock rate.
</I>&gt;<i>
</I>&gt;<i> The actual mechanism needs a bit of though, because it
</I>&gt;<i> is possible to set jtag clock rate in reset-start and in my
</I>&gt;<i> book that counts as not using the default clock rate.
</I>Bad! For me.

For me, JTAG is just a transport layer for debugging programming ... 
Also, the openocd users should not need to play with any JTAG setting as TCK frequency ... The user want to debug their target board, not the JTAG transport layer or JTAG communication !!! ... 

The best, for me, is to fix a low 1MHz frequency as default frequency without the use of RTCK (disabling RTCK) at the startup of OpenOCD server (example : set the 1MHz frequency and disable RTCK in Amontec JTAGkey-2 (instead 30MHZ with RTCK)).
After this default frequency, the scripts may down or up the frequency depending on the specific job. Or the script could call a function able to auto-detect the max frequency and to auto-detect the 'yes' or 'no' of the RTCK use...

If there are no specific frequency set in the script, we run at 1MHZ without RTCK. This will minimize the troubles for end users.

This 1MHz should not be set by the specific dongle driver itself, but at higher level -&gt; JTAG API. 

Laurent
  <A HREF="http://www.amontec.com">http://www.amontec.com</A> 
  USB JTAG Adapter Dongle 









 




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017499.html">[Openocd-development] Getting rid of default jtag clock rate
</A></li>
	<LI>Next message: <A HREF="017501.html">[Openocd-development] Getting rid of default jtag clock rate
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17500">[ date ]</a>
              <a href="thread.html#17500">[ thread ]</a>
              <a href="subject.html#17500">[ subject ]</a>
              <a href="author.html#17500">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
