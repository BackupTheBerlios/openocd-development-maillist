<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 1/2] add &amp;quot;	cortex m3 reset config= = ...&amp;quot; to stm32.cfg
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/2%5D%20add%20%26quot%3B%0A%09cortex%20m3%20reset%20config%3D%20%3D%20...%26quot%3B%20to%20stm32.cfg&In-Reply-To=%3C807685.79286.qm%40web180302.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017433.html">
   <LINK REL="Next"  HREF="017425.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 1/2] add &amp;quot;	cortex m3 reset config= = ...&amp;quot; to stm32.cfg</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/2%5D%20add%20%26quot%3B%0A%09cortex%20m3%20reset%20config%3D%20%3D%20...%26quot%3B%20to%20stm32.cfg&In-Reply-To=%3C807685.79286.qm%40web180302.mail.gq1.yahoo.com%3E"
       TITLE="[Openocd-development] [PATCH 1/2] add &amp;quot;	cortex m3 reset config= = ...&amp;quot; to stm32.cfg">david-b at pacbell.net
       </A><BR>
    <I>Sat Dec  4 07:52:55 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017433.html">[Openocd-development] [PATCH 1/2] add &amp;quot; cortex m3 reset config= = ...&amp;quot; to stm32.cfg
</A></li>
        <LI>Next message: <A HREF="017425.html">[Openocd-development] [PATCH 1/2] add &amp;quot; cortex m3 reset config= = ...&amp;quot; to stm32.cfg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17439">[ date ]</a>
              <a href="thread.html#17439">[ thread ]</a>
              <a href="subject.html#17439">[ subject ]</a>
              <a href="author.html#17439">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

--- On Fri, 12/3/10, Spencer Oliver &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">spen at spen-soft.co.uk</A>&gt; wrote:

&gt;<i> Date: Friday, December 3, 2010, 2:34 PM
</I>&gt;<i> On 03/12/2010 17:24, David Brownell
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; --- On Fri, 12/3/10, Spencer Oliver&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">spen at spen-soft.co.uk</A>&gt;&#160;
</I>&gt;<i> wrote:
</I>
&gt;<i> Sorry i am slightly confused this patch as such has nothing to do with 
</I>&gt;<i> the standard reset_config.
</I>
Good -- matches my original impression from
back a while.

I think Freddie's comment (that it does have
something to do with it) made confusion, then.




&gt;<i> 
</I>&gt;<i> &gt; - Dave
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; This does create an issue for all the
</I>&gt;<i> &gt;&gt; luminary scripts however.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; They would need the 'reset_config
</I>&gt;<i> srst_only'
</I>&gt;<i> &gt;&gt; removing and this would
</I>&gt;<i> &gt;&gt;&gt;&gt;&gt; break all the older scripts in the
</I>&gt;<i> wild.
</I>&gt;<i> &gt;
</I>&gt;<i> &gt; And this is an example o how I've lost the thread
</I>&gt;<i> &gt; here.&#160; Not all Stellaris boards have SRST, since
</I>&gt;<i> &gt; that JTAG command works on those M3 parts.&#160; Some
</I>&gt;<i> &gt; have it, but not TRST ...
</I>
&quot;it&quot; == SRST, used instead of that JTAG op
(register write ISTR) that does a similar reset.
(Though some might put it the other way around:
the reset-via-JTAG compensating lack-of-SRST.

And to be clear, that reset-via-JTAG is indeed
an implementation option, which not all M3 chips
handle like Stellaris ones do (which is IMO the
preferable option.)  Until perhaps recently,
OpenOCD preferred that JTAG op for Stellaris
chips (based on variant or whatever, I forget).

ISTR the other reset-via-JTAG was cpu-only and
less useful for the rest of the chip or system.
&gt;<i> &gt;
</I>&gt;<i> &gt; So again, don't be
</I>&gt;<i> &gt; hard-wiring&#160; incorrect &quot;facts&quot; anywhere.
</I>&gt;<i> &gt;
</I>&gt;<i> 
</I>&gt;<i> Again you need to explain -
</I>
A number of emails in this thread advocated
some stuff that seemed plain wrong to me,
like the above romoval of SRST config even
in cases where that would be wrong.


 i am totally confused by your
&gt;<i> whole reply.
</I>
That would be explained by my trusting Freddie's
comment to be accurate, i while it was instead
ncorrect at the levels I was commenting on.

Just keep things orthogonal; I originally
thought you were, ergo my confusion when I saw
several posts quoting otherwise...

Bad premises lead to much confusion, as I'm
sure you know.




- Dave



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017433.html">[Openocd-development] [PATCH 1/2] add &amp;quot; cortex m3 reset config= = ...&amp;quot; to stm32.cfg
</A></li>
	<LI>Next message: <A HREF="017425.html">[Openocd-development] [PATCH 1/2] add &amp;quot; cortex m3 reset config= = ...&amp;quot; to stm32.cfg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17439">[ date ]</a>
              <a href="thread.html#17439">[ thread ]</a>
              <a href="subject.html#17439">[ subject ]</a>
              <a href="author.html#17439">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
