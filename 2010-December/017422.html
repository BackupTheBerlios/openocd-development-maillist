<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] [PATCH 1/2] add &amp;quot;	cortex m3 reset config= = ...&amp;quot; to stm32.cfg
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2010-December/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/2%5D%20add%20%26quot%3B%0A%09cortex%20m3%20reset%20config%3D%20%3D%20...%26quot%3B%20to%20stm32.cfg&In-Reply-To=%3C217980.18548.qm%40web180306.mail.gq1.yahoo.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="017407.html">
   <LINK REL="Next"  HREF="017433.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] [PATCH 1/2] add &amp;quot;	cortex m3 reset config= = ...&amp;quot; to stm32.cfg</H1>
    <B>David Brownell</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20%5BPATCH%201/2%5D%20add%20%26quot%3B%0A%09cortex%20m3%20reset%20config%3D%20%3D%20...%26quot%3B%20to%20stm32.cfg&In-Reply-To=%3C217980.18548.qm%40web180306.mail.gq1.yahoo.com%3E"
       TITLE="[Openocd-development] [PATCH 1/2] add &amp;quot;	cortex m3 reset config= = ...&amp;quot; to stm32.cfg">david-b at pacbell.net
       </A><BR>
    <I>Fri Dec  3 18:24:32 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="017407.html">[Openocd-development] [PATCH 1/2] add &amp;quot; cortex m3 reset config= = ...&amp;quot; to stm32.cfg
</A></li>
        <LI>Next message: <A HREF="017433.html">[Openocd-development] [PATCH 1/2] add &amp;quot; cortex m3 reset config= = ...&amp;quot; to stm32.cfg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17422">[ date ]</a>
              <a href="thread.html#17422">[ thread ]</a>
              <a href="subject.html#17422">[ subject ]</a>
              <a href="author.html#17422">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>

--- On Fri, 12/3/10, Spencer Oliver &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">spen at spen-soft.co.uk</A>&gt; wrote:

&gt;<i> &gt; On 02/12/2010 12:42, <A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">freddie_chopin at op.pl</A>
</I>&gt;<i> wrote:
</I>&gt;<i> &gt;&gt; &quot;Spencer Oliver&quot;&lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">spen at spen-soft.co.uk</A>&gt;
</I>&gt;<i> napisa&#322;(a):
</I>&gt;<i> &gt;&gt; &gt; As we know the current behaviour of cortex_m3
</I>&gt;<i> reset_config is to
</I>&gt;<i> &gt;&gt; &gt; override the std 'reset_config' setting -
</I>
I've lost track of the discussion here, but this
sounds wrong.

The only time commands should care about &quot;std&quot;
(standard)/default settings is when restoring them.

Otherwise, they should work with *current* settings.

One bug that old versions of &quot;rset_config&quot; had was
that they'd mangle unrelated settings ... e.g. you
couldn't update SRST handling without trashing TRST
handling (or similar; now fixed.).

The two (?) reset implementation options on M3
parts should respect the same policy sanity:  don't
muck with options that could/should be orthogonal,
and don't embed &quot;knowledge&quot; that may already be
wrong, and will likely become so before long as new
boards, silicon, and JTAG adapters roll out.

- Dave



&gt;<i> &gt;&gt; &gt; This does create an issue for all the
</I>&gt;<i> luminary scripts however.
</I>
&gt;<i> &gt;&gt; &gt; They would need the 'reset_config srst_only'
</I>&gt;<i> removing and this would
</I>&gt;<i> &gt;&gt; &gt; break all the older scripts in the wild.
</I>
And this is an example o how I've lost the thread
here.  Not all Stellaris boards have SRST, since
that JTAG command works on those M3 parts.  Some
have it, but not TRST ...

So again, don't be
hard-wiring  incorrect &quot;facts&quot; anywhere.




</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="017407.html">[Openocd-development] [PATCH 1/2] add &amp;quot; cortex m3 reset config= = ...&amp;quot; to stm32.cfg
</A></li>
	<LI>Next message: <A HREF="017433.html">[Openocd-development] [PATCH 1/2] add &amp;quot; cortex m3 reset config= = ...&amp;quot; to stm32.cfg
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#17422">[ date ]</a>
              <a href="thread.html#17422">[ thread ]</a>
              <a href="subject.html#17422">[ subject ]</a>
              <a href="author.html#17422">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
