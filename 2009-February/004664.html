<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] EJTAG big-endian MIPS 4kc embedded with	Signalyzer
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20EJTAG%20big-endian%20MIPS%204kc%20embedded%20with%0A%09Signalyzer&In-Reply-To=%3Cbe87045e0902060901o4f6569aeg8e46679d4da34b8b%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004663.html">
   <LINK REL="Next"  HREF="004665.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] EJTAG big-endian MIPS 4kc embedded with	Signalyzer</H1>
    <B>Martin Haeberli</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20EJTAG%20big-endian%20MIPS%204kc%20embedded%20with%0A%09Signalyzer&In-Reply-To=%3Cbe87045e0902060901o4f6569aeg8e46679d4da34b8b%40mail.gmail.com%3E"
       TITLE="[Openocd-development] EJTAG big-endian MIPS 4kc embedded with	Signalyzer">mhaeberli at gmail.com
       </A><BR>
    <I>Fri Feb  6 18:01:50 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004663.html">[Openocd-development] EJTAG big-endian MIPS 4kc embedded with	Signalyzer
</A></li>
        <LI>Next message: <A HREF="004665.html">[Openocd-development] EJTAG big-endian MIPS 4kc embedded with	Signalyzer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4664">[ date ]</a>
              <a href="thread.html#4664">[ thread ]</a>
              <a href="subject.html#4664">[ subject ]</a>
              <a href="author.html#4664">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Rick,

Thanks for your speedy response!  The device under test proper does
seem to work well enough with EJTAG to the extent that the USBJTAGNT
hack from www.usbjtag.com can talk to its CFI flash, get data from the
flash, and reset it, as well as somehow talk to the internal boot ROM
on the embedded M4kc core to the point where it can read it.  Of
course, I want to go further and do a little bit of debugging...

One of the problems is that I don't have a board-level schematic, so I
don't know the order of the chips on the scan chain, nor do I have a
.bsdl for the embedded cable modem controller chip.

It would be nice to figure out how to do discovery of the scan chain
order by hand.

On Fri, Feb 6, 2009 at 8:15 AM, Rick Altherr &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>&gt; wrote:
&gt;<i>
</I>&gt;<i> On Feb 6, 2009, at 1:08 AM, Martin Haeberli wrote:
</I>...
&gt;&gt;<i> v[4]=0x1e
</I>&gt;<i>
</I>&gt;<i> This looks like an old-style jtag_device command.  You'll want to convert it
</I>&gt;<i> to the new-style jtag newtap command.
</I>&gt;<i>
</I>
Thanks for the suggestion - I'll give that a try today.

&gt;&gt;<i>
</I>...
&gt;&gt;<i> n big -chain-position 0
</I>&gt;<i>
</I>&gt;<i> And then the argument to -chain-position will change.
</I>&gt;<i>
</I>
To what?  Candidly, I'd like to figure out a way to explore the
available scan chain to see what is there.

&gt;&gt;<i> Debug:   76 266 openocd.c:150 handle_init_command(): jtag interface init
</I>...
&gt;&gt;<i> Debug:   88 281 openocd.c:156 handle_init_command(): jtag init complete
</I>&gt;<i>
</I>&gt;<i> Looks like the JTAG hardware failed to communicate at all.  Both the examine
</I>&gt;<i> and validate failed which means OpenOCD cannot talk to anything on the JTAG
</I>&gt;<i> chain.  I'm not sure why we bothered to continued after this point.
</I>&gt;<i>  Something is wrong with either the JTAG chain configuration or the JTAG
</I>&gt;<i> hardware.
</I>&gt;<i>
</I>&gt;&gt;<i> ----
</I>...
&gt;&gt;<i> jtag_device 5 0x1 0x1 0x1e
</I>&gt;<i>
</I>&gt;<i> Change this to a jtag newtap command.
</I>&gt;<i>
</I>
OK

&gt;&gt;<i>
</I>&gt;<i>
</I>
Thanks,
de W9MPH - Martin

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004663.html">[Openocd-development] EJTAG big-endian MIPS 4kc embedded with	Signalyzer
</A></li>
	<LI>Next message: <A HREF="004665.html">[Openocd-development] EJTAG big-endian MIPS 4kc embedded with	Signalyzer
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4664">[ date ]</a>
              <a href="thread.html#4664">[ thread ]</a>
              <a href="subject.html#4664">[ subject ]</a>
              <a href="author.html#4664">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
