<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Openocd-development] OMAP3 JTAG, was: JTAG
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/openocd-development/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OMAP3%20JTAG%2C%20was%3A%20JTAG&In-Reply-To=%3C49A4305D.7070002%40googlemail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="004738.html">
   <LINK REL="Next"  HREF="004778.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Openocd-development] OMAP3 JTAG, was: JTAG</H1>
    <B>Dirk Behme</B> 
    <A HREF="mailto:openocd-development%40lists.berlios.de?Subject=Re%3A%20%5BOpenocd-development%5D%20OMAP3%20JTAG%2C%20was%3A%20JTAG&In-Reply-To=%3C49A4305D.7070002%40googlemail.com%3E"
       TITLE="[Openocd-development] OMAP3 JTAG, was: JTAG">dirk.behme at googlemail.com
       </A><BR>
    <I>Tue Feb 24 18:37:33 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="004738.html">[Openocd-development] [beagleboard] Re: JTAG
</A></li>
        <LI>Next message: <A HREF="004778.html">[Openocd-development] OMAP3 JTAG, was: JTAG
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4769">[ date ]</a>
              <a href="thread.html#4769">[ thread ]</a>
              <a href="subject.html#4769">[ subject ]</a>
              <a href="author.html#4769">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Rick Altherr wrote:
&gt;<i> 
</I>&gt;<i> On Feb 19, 2009, at 10:01 PM, Kees Jongenburger wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> Hello Rick,
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> On Fri, Feb 20, 2009 at 12:47 AM, Rick Altherr &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/openocd-development">kc8apf at kc8apf.net</A>&gt; wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> On Feb 19, 2009, at 3:38 PM, Kees Jongenburger wrote:
</I>&gt;&gt;&gt;<i>
</I>&gt;&gt;&gt;<i> Can you write up the problems you encountered with OpenOCD?  There 
</I>&gt;&gt;&gt;<i> are a few
</I>&gt;&gt;&gt;<i> people on the OpenOCD development list who are actively working on 
</I>&gt;&gt;&gt;<i> fixing up
</I>&gt;&gt;&gt;<i> the JTAG layer.  If we could get some data as to what isn't working 
</I>&gt;&gt;&gt;<i> and what
</I>&gt;&gt;&gt;<i> is needed, we can start working on the necessary improvements.
</I>
Let us start with these improvements now!

&gt;&gt;<i> There are currently problems that possibly prevent the OpenOCD from 
</I>&gt;&gt;<i> adding
</I>&gt;&gt;<i> the DAP.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> 1) When performing ir/dr scans the default end state is Run Test Idle.
</I>&gt;&gt;<i> This does not match
</I>&gt;&gt;<i> what the ICEPICK wants. I don't know it this is a problem or not
</I>&gt;<i> 
</I>&gt;<i> I know that the JTAG internals in OpenOCD can support this.  It may be 
</I>&gt;<i> as simple as allowing an extra argument to the irscan and drscan 
</I>&gt;<i> commands in the TCL layer.
</I>&gt;<i> 
</I>&gt;&gt;<i> 2) The tap_move that allows moving between &quot;stable&quot; tap states does
</I>&gt;&gt;<i> not follow &quot;shortest pad&quot;
</I>&gt;&gt;<i> but always takes 7 steps, possibly passing via test logic reset. I
</I>&gt;&gt;<i> mailed about it
</I>&gt;&gt;<i> <A HREF="https://lists.berlios.de/pipermail/openocd-development/2009-February/004625.html">https://lists.berlios.de/pipermail/openocd-development/2009-February/004625.html</A> 
</I>&gt;<i> 
</I>&gt;<i> Yes.  I remember seeing the query about this, but I didn't realize it 
</I>&gt;<i> was a limiting issue for ICEPICK.
</I>&gt;<i> 
</I>&gt;&gt;<i> 3) There is no support for generating clock pulses in the IDLE state.
</I>&gt;&gt;<i> but this is required
</I>&gt;<i> 
</I>&gt;<i> The internals have support for this as it was needed for SVF support.  
</I>&gt;<i> Again, it may just need to be exposed at the TCL layer.
</I>
It is my understanding that we need 1, 2 and 3 fixed/improved to get 
OMAP3 (ARM) access with OpenOCD. Correct?

Are there already any patches, proposals or e.g. pseudo code available 
for these three topics? Being not so familiar with OpenOCD code, 
something like this would help as a starting point. Strings like &quot;need 
to be exposed at the TCL layer&quot; or &quot;extra argument to the irscan and 
drscan commands in the TCL layer&quot; sound a little too abstract for me. 
Sorry ;)

I will look into OpenOCD code, now.

Best regards

Dirk



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="004738.html">[Openocd-development] [beagleboard] Re: JTAG
</A></li>
	<LI>Next message: <A HREF="004778.html">[Openocd-development] OMAP3 JTAG, was: JTAG
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#4769">[ date ]</a>
              <a href="thread.html#4769">[ thread ]</a>
              <a href="subject.html#4769">[ subject ]</a>
              <a href="author.html#4769">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/openocd-development">More information about the Openocd-development
mailing list</a><br>
</body></html>
